<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Flattener</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="Flattener" class="book toc2 toc-left">
<div id="header">
<h1>Flattener</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#Introduction">1. Introduction</a></li>
<li><a href="#Configuration">2. Configuration</a>
<ul class="sectlevel2">
<li><a href="#Class">2.1. Class</a></li>
<li><a href="#Rules">2.2. Rules</a>
<ul class="sectlevel3">
<li><a href="#req-flattener-flattenTypes-identify-circular-dependencies">2.2.1. req-flattener-flattenTypes-identify-circular-dependencies</a></li>
<li><a href="#rule-trf-all-flatten-constraints">2.2.2. rule-trf-all-flatten-constraints</a></li>
<li><a href="#rule-trf-all-flatten-name">2.2.3. rule-trf-all-flatten-name</a></li>
<li><a href="#rule-trf-all-flatten-removeConstraints">2.2.4. rule-trf-all-flatten-removeConstraints</a></li>
<li><a href="#rule-trf-all-flatten-type-mapToSimpleBaseType">2.2.5. rule-trf-all-flatten-type-mapToSimpleBaseType</a></li>
<li><a href="#rule-trf-all-removeFeatureTypeRelationships">2.2.6. rule-trf-all-removeFeatureTypeRelationships</a></li>
<li><a href="#rule-trf-all-removeType">2.2.7. rule-trf-all-removeType</a></li>
<li><a href="#rule-trf-cls-dissolve-mixins">2.2.8. rule-trf-cls-dissolve-mixins</a></li>
<li><a href="#rule-trf-cls-flatten-inheritance">2.2.9. rule-trf-cls-flatten-inheritance</a></li>
<li><a href="#rule-trf-cls-flatten-inheritance-add-attributes-at-bottom">2.2.10. rule-trf-cls-flatten-inheritance-add-attributes-at-bottom</a></li>
<li><a href="#rule-trf-cls-flatten-inheritance-add-attributes-in-sequence">2.2.11. rule-trf-cls-flatten-inheritance-add-attributes-in-sequence</a></li>
<li><a href="#rule-trf-cls-flatten-inheritance-associationRoleNameUsingCodeOfValueType">2.2.12. rule-trf-cls-flatten-inheritance-associationRoleNameUsingCodeOfValueType</a></li>
<li><a href="#rule-trf-cls-flatten-inheritance-ignore-arcgis-subtypes">2.2.13. rule-trf-cls-flatten-inheritance-ignore-arcgis-subtypes</a></li>
<li><a href="#rule-trf-cls-flatten-inheritance-mergeLinkedDocuments">2.2.14. rule-trf-cls-flatten-inheritance-mergeLinkedDocuments</a></li>
<li><a href="#rule-trf-cls-flatten-reverse-inheritance">2.2.15. rule-trf-cls-flatten-reverse-inheritance</a></li>
<li><a href="#rule-trf-cls-non-default-geometry-to-feature-type">2.2.16. rule-trf-cls-non-default-geometry-to-feature-type</a></li>
<li><a href="#rule-trf-cls-remove-inheritance-relationship">2.2.17. rule-trf-cls-remove-inheritance-relationship</a></li>
<li><a href="#rule-trf-cls-replace-with-union-properties">2.2.18. rule-trf-cls-replace-with-union-properties</a></li>
<li><a href="#rule-trf-prop-flatten-codelists">2.2.19. rule-trf-prop-flatten-codelists</a></li>
<li><a href="#rule-trf-prop-flatten-directposition-typed-properties">2.2.20. rule-trf-prop-flatten-directposition-typed-properties</a></li>
<li><a href="#rule-trf-prop-flatten-explicit-time-interval">2.2.21. rule-trf-prop-flatten-explicit-time-interval</a></li>
<li><a href="#rule-trf-prop-flatten-homogeneousgeometries">2.2.22. rule-trf-prop-flatten-homogeneousgeometries</a></li>
<li><a href="#rule-trf-prop-flatten-mediatype-typed-properties">2.2.23. rule-trf-prop-flatten-mediatype-typed-properties</a></li>
<li><a href="#rule-trf-prop-flatten-measure-typed-properties">2.2.24. rule-trf-prop-flatten-measure-typed-properties</a></li>
<li><a href="#rule-trf-prop-flatten-multiplicity">2.2.25. rule-trf-prop-flatten-multiplicity</a>
<ul class="sectlevel4">
<li><a href="#Subrules">2.2.25.1. Subrules</a></li>
</ul>
</li>
<li><a href="#rule-trf-prop-flatten-multiplicity-keepBiDirectionalAssociations">2.2.26. rule-trf-prop-flatten-multiplicity-keepBiDirectionalAssociations</a></li>
<li><a href="#rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold">2.2.27. rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold</a></li>
<li><a href="#rule-trf-prop-flatten-ONINAs">2.2.28. rule-trf-prop-flatten-ONINAs</a></li>
<li><a href="#rule-trf-prop-flatten-ONINAs-onlyRemoveReasons">2.2.29. rule-trf-prop-flatten-ONINAs-onlyRemoveReasons</a></li>
<li><a href="#rule-trf-prop-flatten-types">2.2.30. rule-trf-prop-flatten-types</a></li>
<li><a href="#rule-trf-prop-flatten-types-ignoreSelfReferenceByPropertyWithAssociationClassOrigin">2.2.31. rule-trf-prop-flatten-types-ignoreSelfReferenceByPropertyWithAssociationClassOrigin</a></li>
<li><a href="#rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets">2.2.32. rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets</a></li>
<li><a href="#rule-trf-prop-flatten-types-removeMappedTypes">2.2.33. rule-trf-prop-flatten-types-removeMappedTypes</a></li>
<li><a href="#rule-trf-prop-optionality">2.2.34. rule-trf-prop-optionality</a></li>
<li><a href="#rule-trf-prop-remove-name-and-code-component">2.2.35. rule-trf-prop-remove-name-and-code-component</a></li>
<li><a href="#rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget">2.2.36. rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget</a></li>
<li><a href="#rule-trf-prop-removeObjectToFeatureTypeNavigability">2.2.37. rule-trf-prop-removeObjectToFeatureTypeNavigability</a></li>
</ul>
</li>
<li><a href="#A_Word_on_the_Order_of_Execution">2.3. A Word on the Order of Execution</a></li>
<li><a href="#Parameters">2.4. Parameters</a>
<ul class="sectlevel3">
<li><a href="#applyHomogeneousGeometriesOnSubtypes">2.4.1. applyHomogeneousGeometriesOnSubtypes</a></li>
<li><a href="#basicTypeSupertypeNames">2.4.2. basicTypeSupertypeNames</a></li>
<li><a href="#codeByTaggedValue">2.4.3. codeByTaggedValue</a></li>
<li><a href="#codeForEnumerationValues">2.4.4. codeForEnumerationValues</a></li>
<li><a href="#directionToNewFeatureType">2.4.5. directionToNewFeatureType</a></li>
<li><a href="#descriptorModification_geometryTypeAlias">2.4.6. descriptorModification_geometryTypeAlias</a></li>
<li><a href="#descriptorModification_geometryTypeSuffixSeparator">2.4.7. descriptorModification_geometryTypeSuffixSeparator</a></li>
<li><a href="#descriptorModification_nonUnionSeparator">2.4.8. descriptorModification_nonUnionSeparator</a></li>
<li><a href="#descriptorModification_propertyIndexNumberSeparator">2.4.9. descriptorModification_propertyIndexNumberSeparator</a></li>
<li><a href="#descriptorModification_unionSeparator">2.4.10. descriptorModification_unionSeparator</a></li>
<li><a href="#directPositionRsidSuffix">2.4.11. directPositionRsidSuffix</a></li>
<li><a href="#enforceOptionality">2.4.12. enforceOptionality</a></li>
<li><a href="#fixedUomPropertyDefinitions">2.4.13. fixedUomPropertyDefinitions</a></li>
<li><a href="#flattenDataTypesExcludeRegex">2.4.14. flattenDataTypesExcludeRegex</a></li>
<li><a href="#flattenInheritanceIncludeRegex">2.4.15. flattenInheritanceIncludeRegex</a></li>
<li><a href="#flattenObjectTypes">2.4.16. flattenObjectTypes</a></li>
<li><a href="#flattenObjectTypesIncludeRegex">2.4.17. flattenObjectTypesIncludeRegex</a></li>
<li><a href="#flattenTypesPropertyCopyDuplicateBehavior">2.4.18. flattenTypesPropertyCopyDuplicateBehavior</a></li>
<li><a href="#geometryTypeRegex">2.4.19. geometryTypeRegex</a></li>
<li><a href="#ignoreFeatureOrObjectTypedProperties">2.4.20. ignoreFeatureOrObjectTypedProperties</a></li>
<li><a href="#ignoreFeatureTypedProperties">2.4.21. ignoreFeatureTypedProperties</a></li>
<li><a href="#ignoreReflexiveRelationshipInTypeFlattening">2.4.22. ignoreReflexiveRelationshipInTypeFlattening</a></li>
<li><a href="#includeObjectToObjectNavigability">2.4.23. includeObjectToObjectNavigability</a></li>
<li><a href="#includeUnionIdentifierTaggedValue">2.4.24. includeUnionIdentifierTaggedValue</a></li>
<li><a href="#keepOriginalNameAsCode">2.4.25. keepOriginalNameAsCode</a></li>
<li><a href="#linkedDocumentPagebreak">2.4.26. linkedDocumentPagebreak</a></li>
<li><a href="#lowerCaseCodeForProperties">2.4.27. lowerCaseCodeForProperties</a></li>
<li><a href="#maxMultiplicityThreshold">2.4.28. maxMultiplicityThreshold</a></li>
<li><a href="#maxOccurs">2.4.29. maxOccurs</a></li>
<li><a href="#maxOccursForSpecificProperties">2.4.30. maxOccursForSpecificProperties</a></li>
<li><a href="#measureTypes">2.4.31. measureTypes</a></li>
<li><a href="#measureUomTaggedValue">2.4.32. measureUomTaggedValue</a></li>
<li><a href="#omitHomogeneousGeometriesForTypesWithSingleGeometryProperty">2.4.33. omitHomogeneousGeometriesForTypesWithSingleGeometryProperty</a></li>
<li><a href="#removeInheritanceIncludeRegex">2.4.34. removeInheritanceIncludeRegex</a></li>
<li><a href="#removeObjectToFeatureNavRegex">2.4.35. removeObjectToFeatureNavRegex</a></li>
<li><a href="#removePropertyNameAndCodeComponent">2.4.36. removePropertyNameAndCodeComponent</a></li>
<li><a href="#removeType">2.4.37. removeType</a></li>
<li><a href="#replaceUnionExcludeRegex">2.4.38. replaceUnionExcludeRegex</a></li>
<li><a href="#simpleBaseTypes">2.4.39. simpleBaseTypes</a></li>
<li><a href="#separatorForGeometryTypeSuffix">2.4.40. separatorForGeometryTypeSuffix</a></li>
<li><a href="#separatorForPropertyFromNonUnion">2.4.41. separatorForPropertyFromNonUnion</a></li>
<li><a href="#separatorForPropertyFromUnion">2.4.42. separatorForPropertyFromUnion</a></li>
<li><a href="#separatorForPropertyIndexNumber">2.4.43. separatorForPropertyIndexNumber</a></li>
<li><a href="#setMinCardinalityToZeroWhenMergingUnion">2.4.44. setMinCardinalityToZeroWhenMergingUnion</a></li>
<li><a href="#targetNamespaceSuffix">2.4.45. targetNamespaceSuffix</a></li>
<li><a href="#typeEnumerationPropertyName">2.4.46. typeEnumerationPropertyName</a></li>
<li><a href="#typeSuffixSeparator">2.4.47. typeSuffixSeparator</a></li>
<li><a href="#uomSuffixSeparator">2.4.48. uomSuffixSeparator</a></li>
</ul>
</li>
<li><a href="#Sample_Configurations">2.5. Sample Configurations</a>
<ul class="sectlevel3">
<li><a href="#Single_Transformation">2.5.1. Single Transformation</a></li>
<li><a href="#Chain_of_Transformations">2.5.2. Chain of Transformations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="Introduction"><a class="anchor" href="#Introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Properties of a feature type (from an Application Schema model) often
make use of non-simple types, i.e. other feature types, object types,
data types, and union types. The resulting structures can become quite
complex, which can make it difficult to exchange data via or convert
data into formats that do not support such complexity (for example
Shapefiles).</p>
</div>
<div class="paragraph">
<p>The Flattener can be used to simplify a complex Application Schema
model, up to the point where all complex data structures have been
resolved to feature type properties whose type is either a simple type
(like Integer, Boolean or CharacterString), a code list, or an
enumeration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The flattening process modifies the structure of the model.
Flattening rules often modify the name of model elements (e.g. classes
and properties) to preserve the model semantics if applicable (e.g. that
a flattened property is the n-th element of a property with unlimited
maximum multiplicity, or that a flattened property represents one choice
of a union). The flattening rules thereby also modify a code value that
may exist for the model element. A code value represents an abbreviation
of a model element name. For example, the code value of a class named
'ConstructionZone' could be 'CZ'. Per default, the Flattener uses the
alias of a model element to look up and store the code value. Via the
parameter 'codeByTaggedValue' the Flattener can be instructed to use a
specific tagged value for managing the code value.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The Flattener currently does not support handling of profile
information (see
<a href="../transformations/profiling/Profiler.html">Profiler
transformation</a>). Thus profiling should be applied before flattening.
The reverse order may lead to unexpected results.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following section specifies the configuration of a Flattener
(including applicable transformation rules and the according behavior).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuration"><a class="anchor" href="#Configuration"></a>2. Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sections specifiy the configuration options for a
Flattener.</p>
</div>
<div class="sect2">
<h3 id="Class"><a class="anchor" href="#Class"></a>2.1. Class</h3>
<div class="paragraph">
<p>The class for the Flattener implementation is
<em>de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="Rules"><a class="anchor" href="#Rules"></a>2.2. Rules</h3>
<div class="paragraph">
<p>The following optional rules are supported by the Flattener.</p>
</div>
<div class="sect3">
<h4 id="req-flattener-flattenTypes-identify-circular-dependencies"><a class="anchor" href="#req-flattener-flattenTypes-identify-circular-dependencies"></a>2.2.1. req-flattener-flattenTypes-identify-circular-dependencies</h4>
<div class="paragraph">
<p>If this requirement is included then the Flattener will create a graph
of schema types that would be selected for <em>rule-trf-prop-flatten-types</em>
(which depends on the settings for the
parameters <em>flattenDataTypesExcludeRegex</em>, <em>flattenObjectTypes</em> and
<em>flattenObjectTypesIncludeRegex</em>).</p>
</div>
<div class="paragraph">
<p>Types that are not flattened will be excluded from the graph, i.e.
especially feature types and - if they are not flattened - object and
data types. Edges within the graph represent navigable routes (each edge
from type A to type B contains the set of properties in type A that have
B as value type). The flattener will then identify all circles that may
exist in the graph, logging them on log level INFO.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When creating the graph, the flattener does not take into account
additional information that might override navigability between types,
like the tagged value "isFlatTarget". Such information must be used to
flatten the model before processing the requirement - e.g. via
<em>rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Parameter Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Required / Optional (for Execution of Rule)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>flattenDataTypesExcludeRegex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>flattenObjectTypes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>flattenObjectTypesIncludeRegex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-all-flatten-constraints"><a class="anchor" href="#rule-trf-all-flatten-constraints"></a>2.2.2. rule-trf-all-flatten-constraints</h4>
<div class="paragraph">
<p>Processes all class and property constraints: the Flattener keeps only
those that have a textual comment embedded in "/*" and "*/" and reduces
these constraints to this textual comment.</p>
</div>
<div class="paragraph">
<p>The Flattener also ensures that duplicates of a class or property
constraint, i.e. any constraint that has the same text value as another
constraint, are removed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Only processes constraints belonging to classes and properties of
the application schema(s) selected for processing.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-all-flatten-name"><a class="anchor" href="#rule-trf-all-flatten-name"></a>2.2.3. rule-trf-all-flatten-name</h4>
<div class="paragraph">
<p>The Flattener replaces the name of each model element (class, property)
with its code value, if it is set.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default the alias of a model element (e.g. class or property) is
used to look up and store code values. This behavior can be modified via
the <em>codeByTaggedValue</em> configuration parameter.</p>
</li>
<li>
<p>If the parameter <em>lowerCaseCodeForProperties</em> is set to true then code
values used as property names are converted to lower case.</p>
</li>
<li>
<p>If the parameter <em>codeForEnumerationValues</em> is set to false,
enumeration value names are not replaced.</p>
</li>
<li>
<p>By default the original name of a model element is stored in its code
value. This behavior can be turned off via the configuration parameter
<em>keepOriginalNameAsCode</em> (set to false).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>At the moment this rule only updates names of classes and
properties (attributes and association roles) in the application schema.
It does not modify names of associations or packages.</p>
</li>
<li>
<p>(since v2.14.0) If the name of a class is replaced with a code value, and tagged value
<em>originalClassName</em> is blank, then tag <em>originalClassName</em> is set, with the
class name as value (i.e., the name before it was replaced by the code value).
The same is done for property names, but using tag <em>originalPropertyName</em>.
These information items can be useful in subsequent
processing, such as when the <a href="../targets/ldproxy2.html">ldproxy2 target</a>
is set to generate configurations that support GML output.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Parameter Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Required / Optional (for Execution of Rule)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>codeByTaggedValue</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>codeForEnumerationValues</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>keepOriginalNameAsCode</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lowerCaseCodeForProperties</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-all-flatten-removeConstraints"><a class="anchor" href="#rule-trf-all-flatten-removeConstraints"></a>2.2.4. rule-trf-all-flatten-removeConstraints</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Removes all constraints from all classes - and their properties - in the
schemas selected for processing.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-all-flatten-type-mapToSimpleBaseType"><a class="anchor" href="#rule-trf-all-flatten-type-mapToSimpleBaseType"></a>2.2.5. rule-trf-all-flatten-type-mapToSimpleBaseType</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Identify types in the schemas selected for processing that have one of
the simple base types specified via parameter <em>simpleBaseTypes</em> as
supertype. For each property of classes in the schemas selected for
processing with such a basic type as type, change the type to the
according simple base type. Finally, remove all types with simple base
type that have been identified before.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-all-removeFeatureTypeRelationships"><a class="anchor" href="#rule-trf-all-removeFeatureTypeRelationships"></a>2.2.6. rule-trf-all-removeFeatureTypeRelationships</h4>
<div class="paragraph">
<p>Removes all navigable properties from a feature type if the value type
of the property also is a feature type.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-all-removeType"><a class="anchor" href="#rule-trf-all-removeType"></a>2.2.7. rule-trf-all-removeType</h4>
<div class="paragraph">
<p>Removes the types identified by the <em>removeType</em> parameter from the
application schema in the model. This includes all properties
(attributes or associations / association roles) that are of this type
as well as any inheritance relationships (the type being a superclass or
subclass of another class).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule is only applicable for types defined in (one of) the
application schema(s) selected for processing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Parameter Name</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Required / Optional (for Execution of Rule)</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#removeType"><strong>removeType</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Required (if the parameter is omitted,
a warning will be logged and the rule not executed)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-dissolve-mixins"><a class="anchor" href="#rule-trf-cls-dissolve-mixins"></a>2.2.8. rule-trf-cls-dissolve-mixins</h4>
<div class="paragraph">
<p>Copies the attributes of a mixin to its subtypes and removes the mixin
from the model, thus dissolving the mixin.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Does NOT copy associations!
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-inheritance"><a class="anchor" href="#rule-trf-cls-flatten-inheritance"></a>2.2.9. rule-trf-cls-flatten-inheritance</h4>
<div class="paragraph">
<p>At first, the Flattener identifies all supertypes contained in the
application schema(s) selected for processing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The selection can be influenced via the parameter
<a href="./Flattener.html#flattenInheritanceIncludeRegex">flattenInheritanceIncludeRegex</a>.
Only those supertypes where the name of
the supertype itself or of one of its own supertypes (in the complete
supertype hierarchy - but only searching within schema(s) selected for
processing) matches the regular expression provided by this parameter
will be selected for flattening. This can be useful if only certain
inheritance hierarchies shall be flattened by this rule.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then all classes are identified that aren&#8217;t supertypes themselves but
inherit from one of the previously selected supertypes or whose
supertypes don&#8217;t belong to the application schema(s) selected for
processing. This is required to correctly dissolve inheritance
relationships at the end of this rule.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Restricting inheritance flattening to classes that are contained
in the application schema(s) selected for processing can lead to
subtypes not having all the properties that they have (through
inheritance) in the original model (due to supertypes contained in
schema(s) that were not selected for processing).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A union class is created for each of the selected supertypes (in the
package of that supertype). It represents a choice between the supertype
and its direct and indirect subtypes. Abstract types as well as mixins
are ignored, though - resulting in a choice between instantiable types.
The value type of each attribute whose value type is one of the selected
supertypes is switched to the according union (unless the attribute is
part of the union itself).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Tagged value <em>representsFeatureTypeSet</em> = true is added to the
union, if the supertype that the union represents is a feature type.
This allows for specific treatment of this kind of union, for example in
<em>rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets</em>
and <em>rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets</em>. If the
represented supertype is not a feature type, but an object, data, or - in
rare cases - a mixin type, then tagged value <em>representsTypeSet</em> = true
is added to the union. This information can be useful in subsequent
processing, such as when the <a href="../targets/ldproxy2.html">ldproxy2 target</a>
is set to generate configurations that support GML output.</p>
</li>
<li>
<p>Before inheritance structures are actually flattened, all properties that
belong to classes within the schemas selected for processing are analyzed:
If the class that owns the property is a supertype, then the following tags
are set on the property (unless they already have a non-blank value):
<em>originalSchemaName</em> (with the name of the schema
to which the class that owns the property belongs), and <em>originalInClassName</em>
(with the name of the class that owns the property). In addition, if the
property is an association role, and the value type of the role is a supertype,
then tag <em>originalPropertyName</em> is set on the role (with the name of the role
as value; unless the tag already has a non-blank value).
Again, these information items can be useful in subsequent
processing, such as when the <a href="../targets/ldproxy2.html">ldproxy2 target</a>
is set to generate configurations that support GML output.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The properties of selected supertypes are then recursively copied to
their subtypes, thereby retaining relevant information (property name,
type, cardinality, property tagged values etc).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>In case of an overloaded property (i.e. both supertype and subtype
have a property with the same name, but the subtype overrides it with a
different value type) the value type defined by the subtype is used.</p>
</li>
<li>
<p>Dependencies are currently not copied.</p>
</li>
<li>
<p>OCL constraints do not need to be copied because ShapeChange already
establishes constraints from a superclass in its subclasses while
loading the input model.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Associations to, from, and between supertypes, to which inheritance
flattening applies, are copied. To prevent ambiguities, copies of
association roles whose value type was a supertype to which inheritance
flattening applied receive the name of their new value type as suffix.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Association classes are not handled by this transformation. Use the
<a href="./Association_Class_Mapper.html">Association Class Mapper</a> to convert
association classes before flattening inheritance.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, the Flattener removes all Xxx classes that 1) have subclasses
and 2) are abstract and/or mixins from the model, and also removes all
generalization dependencies (from supertypes to subtypes and vice
versa).</p>
</div>
<div class="paragraph">
<p><em>NOTE: Flattening of inheritance structures for types from external
packages is currently not supported.</em></p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Parameter Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Required / Optional (for Execution of Rule)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./Flattener.html#flattenInheritanceIncludeRegex">flattenInheritanceIncludeRegex</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./Flattener.html#separatorForPropertyFromUnion">separatorForPropertyFromUnion</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./Flattener.html#codeByTaggedValue">codeByTaggedValue</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-inheritance-add-attributes-at-bottom"><a class="anchor" href="#rule-trf-cls-flatten-inheritance-add-attributes-at-bottom"></a>2.2.10. rule-trf-cls-flatten-inheritance-add-attributes-at-bottom</h4>
<div class="paragraph">
<p>(since v2.3.0)</p>
</div>
<div class="paragraph">
<p>Behavior: If this rule is enabled, then attributes and - since v2.13.0 - also
association roles that are copied from a supertype to a subtype during the execution of
<a href="./Flattener.html#rule-trf-cls-flatten-inheritance">rule-trf-cls-flatten-inheritance</a>
will be placed at the bottom of the sequence of existing properties,
instead of at the top.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-inheritance-add-attributes-in-sequence"><a class="anchor" href="#rule-trf-cls-flatten-inheritance-add-attributes-in-sequence"></a>2.2.11. rule-trf-cls-flatten-inheritance-add-attributes-in-sequence</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Behavior: If this rule is enabled, then attributes and also
association roles that are copied from a supertype to a subtype during the execution of
<a href="./Flattener.html#rule-trf-cls-flatten-inheritance">rule-trf-cls-flatten-inheritance</a>
will be be merged into the sequence of existing properties according to their sequence
number, instead of at the top.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>This rule can be useful in (rare) cases where sequence numbers were chosen in a way
that prevents conflicts with sequence numbers of subtypes (and other supertypes of
these subtypes). In other words, this rule can be useful for cases in which the
scope of tagged value <em>sequenceNumber</em> is not restricted to a class, but instead
reaches over multiple classes. Be warned that such an overarching scope can be
complex to maintain and get right, and that it is NOT the default scope assumed by
ShapeChange.</p>
</li>
<li>
<p>This rule has lower priority than
<a href="./Flattener.html#rule-trf-cls-flatten-inheritance-add-attributes-at-bottom">rule-trf-cls-flatten-inheritance-add-attributes-at-bottom</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-inheritance-associationRoleNameUsingCodeOfValueType"><a class="anchor" href="#rule-trf-cls-flatten-inheritance-associationRoleNameUsingCodeOfValueType"></a>2.2.12. rule-trf-cls-flatten-inheritance-associationRoleNameUsingCodeOfValueType</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Alias: none</p>
</div>
<div class="paragraph">
<p>Behavior: Copies of association roles whose value type was a supertype
to which inheritance flattening applied receive the code of their new
value type as suffix. If a code is not defined for the new value type,
then its name is used (which is the default behavior of
<em>rule-trf-cls-flatten-inheritance</em>).</p>
</div>
<div class="paragraph">
<p>Parameter(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>codeByTaggedValue (optional – by default, the alias is used to look up
the code value)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-inheritance-ignore-arcgis-subtypes"><a class="anchor" href="#rule-trf-cls-flatten-inheritance-ignore-arcgis-subtypes"></a>2.2.13. rule-trf-cls-flatten-inheritance-ignore-arcgis-subtypes</h4>
<div class="paragraph">
<p>(available since v2.6.0)</p>
</div>
<div class="paragraph">
<p>This rule will modify the behaviour of
<a href="./Flattener.html#rule-trf-cls-flatten-inheritance"><em>rule-trf-cls-flatten-inheritance</em></a>
so that it will ignore classes that represent ArcGIS subtypes. In other
words, inheritance flattening will only be performed to the level of the
supertype of a class that represents an ArcGIS subtype, leaving the
inheritance relationship between that subtype and its supertype intact.</p>
</div>
<div class="paragraph">
<p>This is important for encoding ArcGIS subtypes that are explicitly
modelled in the conceptual model, when executing the ArcGIS Workspace
target.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-inheritance-mergeLinkedDocuments"><a class="anchor" href="#rule-trf-cls-flatten-inheritance-mergeLinkedDocuments"></a>2.2.14. rule-trf-cls-flatten-inheritance-mergeLinkedDocuments</h4>
<div class="paragraph">
<p>(available since v2.5.0)</p>
</div>
<div class="paragraph">
<p>If the super- and subtype both have linked documents, they are merged
and the result is set as linked document of the subtype. Merging means
that the linked document of the subtype is appended to the linked
document of the supertype. Between the two documents, ShapeChange can
add a pagebreak (which is controlled via the configuration parameter
<a href="./Flattener.html#linkedDocumentPagebreak"><em>linkedDocumentPagebreak</em></a>)
to visually separate the documents.</p>
</div>
<div class="paragraph">
<p>If only the supertype has a linked document, it is set as linked
document of the subtype without any modification.</p>
</div>
<div class="paragraph">
<p>NOTES:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linked documents are typcially created using Enterprise Architect.
ShapeChange can load these files (as .docx) when loading the input model
(see input parameter
<a href="../get started/The_element_input.html#loadLinkedDocuments"><em>loadLinkedDocuments</em></a>).
Linked documents can be used, for example, by the
<a href="../targets/SQL_DDL.html">SQL DDL target</a> when creating a
database model.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The
<a href="./LinkedDocumentTransformer.html"><em>LinkedDocumentTransformer</em></a>
can be used to prepare linked documents before merging.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-flatten-reverse-inheritance"><a class="anchor" href="#rule-trf-cls-flatten-reverse-inheritance"></a>2.2.15. rule-trf-cls-flatten-reverse-inheritance</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>This transformation rule "reverses" inheritanc, i.e., it moves
properties of subtypes up into supertypes, ending at the highest level
of inheritance trees contained in the schemas selected for processing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule does not take into account mixins. Mixin classes need to
be dissolved before this transformation rule is executed, using
<a href="./Flattener.html#rule-trf-cls-dissolve-mixins">rule-trf-cls-dissolve-mixins</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The rule does not flatten inheritance hierarchies that involve
basic types. A basic type is a type that inherits - directly or
indirectly - from one of the base types from ISO 19103, for example
Integer or CharacterString. The names of these base supertypes can be
configured via transformation parameter
<a href="./Flattener.html#basicTypeSupertypeNames">basicTypeSupertypeNames</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The transformation starts at the lowest levels of the inheritance tree,
taking into account subtypes from schemas in the whole model. If a
supertype only has subtypes that do not have subtypes themselves, the
transformation moves the properties of these subtypes into the
supertype, thereby setting the minimum multiplicity of the property to
0. The transformation thereby ignores properties from subtypes that
override a property from a direct or indirect supertype. Furthermore,
the transformation checks if two or more properties of the subtypes have
the same name, but different value type or multiplicity. If that is the
case, then these properties are moved into the supertype, with their
name and code (if set, either the alias or a tagged value, which can be
controlled using parameter
<a href="./Flattener.html#codeByTaggedValue">codeByTaggedValue</a>)
altered by appending the name/code of the subtype as suffix (using a
separator that can be configured using transformation parameter
<a href="./Flattener.html#typeSuffixSeparator">typeSuffixSeparator</a>).
If multiple subtypes have properties with same name, value type, and
multiplicity, then only one of these properties is moved to the
supertype (and the others are ignored) - the semantics of these
properties are assumed to be sufficiently similar.</p>
</div>
<div class="paragraph">
<p>The properties that are moved from subtypes to a supertype are ordered
according to their names, and added in this order at the bottom of the
properties list of the supertype. Once all relevant properties have been
moved to the supertype, the inheritance relationship between the
supertype and its subtypes is removed.</p>
</div>
<div class="paragraph">
<p>When processing of the inheritance trees in the schemas selected for
processing has reached the highest level (either a root contained in the
schemas selected for processing, or a class whose supertype is outside
these schemas), a new property is added to the remaining classes of
these inheritance trees. The value type of the property is an
enumeration that lists the non-abstract (sub)types of the inheritance
tree (the transformation keeps track of this information). The name of
the property is defined via transformation parameter
<a href="./Flattener.html#typeEnumerationPropertyName">typeEnumerationPropertyName</a>.
The property is intended to indicate which of the feature types from the
original conceptual model is encoded in instance data.</p>
</div>
<div class="paragraph">
<p>At the end of processing, the transformation sets all remaining classes
of the inheritance trees to non-abstract. Furthermore, if the value type
of a property (in the whole model) is one of the subtypes that has been
processed, then the value type is changed to the remaining (direct or
indirect) superclass from the inheritance tree to which the subtype
belonged. Finally, all processed subtypes are removed from the model.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule can be useful in case that the goal is to have a small
set of feature types, where each type represents a root type, and is
able to encode information from all subtypes that are defined in the
conceptual schema. For example, rather than publishing a set of 50
feature collections, each for an individual feature type, 45 types are
direct or indirect subtypes of 5 feature types, you would just want to
publish 5 collections for these root types - making it more simple for
clients to access your data.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-non-default-geometry-to-feature-type"><a class="anchor" href="#rule-trf-cls-non-default-geometry-to-feature-type"></a>2.2.16. rule-trf-cls-non-default-geometry-to-feature-type</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>For any geometric property (identified using a regular expression on the
value type, as defined by parameter
<a href="./Flattener.html#geometryTypeRegex">geometryTypeRegex</a>)
of a type in one of the schemas selected for processing that does NOT
have tag <em>defaultGeometry</em> with value equal to (ignoring case) true, do
the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new feature type. The name of this new type is a combination
of the class that owns the property, and the property name, e.g.
FeatureTypeX_geometryY. The code of the new type is set in a similar
fashion, if both the class and the property have a code value. The new
type is placed into the package that also owns the class.</p>
</li>
<li>
<p>Add a geometry attribute to the new feature type, with multiplicity 1,
and the same value type as the geometric property.</p>
</li>
<li>
<p>Create an association between the class and the new feature type,
where the role at the new feature type end has the same name and
multiplicity as the geometric property. The reverse role has the name
of the class (uncapitalized), and multiplicity 1. If parameter
<a href="./Flattener.html#directionToNewFeatureType">directionToNewFeatureType</a>
is true (the default), the direction is from the class to the new
feature type. If that parameter is false, the direction is from the
new feature type to the existing class.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule can be useful to transform a model where types have
multiple geometric properties (where one typically is identified as the
default geometry by having tagged value defaultGeometry=true) to a model
where each type only has a single geometric property.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-remove-inheritance-relationship"><a class="anchor" href="#rule-trf-cls-remove-inheritance-relationship"></a>2.2.17. rule-trf-cls-remove-inheritance-relationship</h4>
<div class="paragraph">
<p>Removes inheritance relationships of classes to the classes whose name
matches the regular expression provided by parameter
"removeInheritanceIncludeRegex". then all supertype relationships to
this class will be removed in the model. In other words: a class whose
name matches the regular expression is disconnected from its subtypes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Applies to classes in the whole model!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Parameter Name</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Required / Optional (for Execution of Rule)</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>removeInheritanceIncludeRegex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Required (if the parameter is
omitted, a warning will be logged and the rule not executed)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-cls-replace-with-union-properties"><a class="anchor" href="#rule-trf-cls-replace-with-union-properties"></a>2.2.18. rule-trf-cls-replace-with-union-properties</h4>
<div class="paragraph">
<p>(available since 2.2.0)</p>
</div>
<div class="paragraph">
<p>If only a single property (A) of a non-union type (e.g. a datatype) has
a specific union as value type, and if that property has maximum
multiplicity 1, then copies of the union properties replace property A.
The sequenceNumbers of the property copies will be adjusted, so that the
union property copies are correctly positioned within their new class.
Their multiplicity is also adjusted: minimum occurrence is the product
of the minimum occurrence of property A and the original union property,
while the maximum occurrence is "*" if the maximum occurrence of one of
the two properties is "*", otherwise it is the product of the maximum
occurrences.</p>
</div>
<div class="paragraph">
<p>Finally, those unions that 1) have been processed by this rule and 2)
are no longer used by properties of the selected schemas are removed
from the model.</p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Parameter Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Required / Optional (for Execution of Rule)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>includeUnionIdentifierTaggedValue</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>replaceUnionExcludeRegex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-codelists"><a class="anchor" href="#rule-trf-prop-flatten-codelists"></a>2.2.19. rule-trf-prop-flatten-codelists</h4>
<div class="paragraph">
<p>Switches the type of each property that is of a «codeList» type to
CharacterString. Removes the code list classes from the model.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Only applies to properties of the application schema(s) selected
for processing.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-directposition-typed-properties"><a class="anchor" href="#rule-trf-prop-flatten-directposition-typed-properties"></a>2.2.20. rule-trf-prop-flatten-directposition-typed-properties</h4>
<div class="paragraph">
<p>(since v2.11)</p>
</div>
<div class="paragraph">
<p>For each property P that 1) belongs to a class from the schemas selected
for processing and 2) has DirectPosition (used for attributes indicating
height/elevation) as value type, the transformation rule switches the
type of P to type Real.</p>
</div>
<div class="paragraph">
<p>At the moment, one subrule has been defined for this transformation
rule:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>rule-trf-prop-flatten-directposition-typed-properties-add-rsid-property</em>:
adds a new property U to the class, whose name is the name of P plus the
suffix defined by parameter directPositionRsidSuffix, with value type
CharacterString, and sequence number so that U is placed right after P.
If a code is defined for P, then U will receive that code as well. The
lower bound of the multiplicity of U is set to 0..1 if the lower bound
of the property itself is 0 and is set 1..1 if the lower bound of P is 1
or higher (TIP: use this rule together with
rule-trf-prop-flatten-multiplicity).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Both rule and subrule must be enabled in order for the subrule to
have effect.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-explicit-time-interval"><a class="anchor" href="#rule-trf-prop-flatten-explicit-time-interval"></a>2.2.21. rule-trf-prop-flatten-explicit-time-interval</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>An attribute (from the schemas selected for processing) that has tagged
value <em>timeIntervalBoundaryType</em> with non-empty value is processed as
follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The value type is changed to the type whose name is given by the
tagged value.</p>
</li>
<li>
<p>A copy of the attribute is created. Suffix "End" is added to the name
of the copy (and also to its code, if it has one). The sequence number
of the copy is changed so that it is situated right after the original
attribute.</p>
</li>
<li>
<p>Suffix "Start" is added to the name of the original attribute (and
also to its code, if it has one).</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-homogeneousgeometries"><a class="anchor" href="#rule-trf-prop-flatten-homogeneousgeometries"></a>2.2.22. rule-trf-prop-flatten-homogeneousgeometries</h4>
<div class="paragraph">
<p>This rule ensures that a feature type only uses a single type of
geometry. If a feature type has properties with different geometry type,
copies of the feature type will be created that then have a homogeneous
geometry type.</p>
</div>
<div class="paragraph">
<p>Each feature type is inspected to identify the geometry types its
properties use. If the name of a value type from one of these properties
has the prefix "GM_" then the according type is counted as a geometry
type. For each geometry type, a reference is kept to the set of
properties that use it as value type (S).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If a feature type only uses a single geometry type then
application of this rule can be prevented by setting the configuration
parameter <em>omitHomogeneousGeometriesForTypesWithSingleGeometryProperty</em>
to <em>true</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For each of the properties in (S), the related properties (SRel) within
the same feature type (FT) are identified as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the name of a property from (S) contains the separator for non
unions (defined via configuration parameter
separatorForPropertyFromNonUnion) then the part of the property name
(NP) is computed that spans from the start of the name to that
separator.</p>
</li>
<li>
<p>All properties of (FT) that have the same name prefix (NP) are
considered to be related and thus belong to (SRel).</p>
</li>
<li>
<p>NOTE: This is especially useful to identify geometry metadata
properties after inheritance and complex type flattening has been
applied.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now geometry type specific copies of feature types can be created. This
only happens if all of the following conditions are fulfilled:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A type mapping (defined via Map Entries - see further below) exists
for the geometry type. A process map entry must identify the geometry
type in its "type" attribute, and the attributes "targetType" and
"param" must be set. The attribute "targetType" contains the name of a
geometry type (GTT) and allows mapping of geometry types (e.g. replacing
GM_Surface with GM_Object, if desired). The attribute "param" contains
an abbreviation (GA) for the geometry type.</p>
</li>
<li>
<p>Tagged value geometry is not set, does not have a value, or one of the
(comma-separated) values equals the "param" attribute of the process map
entry that was identified before.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The name of a feature type copy uses the original class name, with a
suffix consisting of the <em>separatorForGeometryTypeSuffix</em> (which is a
configuration parameter) and the geometry type abbreviation (GA). A
potentially existing alias/code of the feature type copy are adjusted as
well.</p>
</div>
<div class="paragraph">
<p>All properties that belong to a geometry type that is different to the
one used by the feature type copy are removed from the copy.</p>
</div>
<div class="paragraph">
<p>The remaining properties with geometry type are mapped to (GTT) as
defined by the process map entry.</p>
</div>
<div class="paragraph">
<p>The configuration parameter <em>applyHomogeneousGeometriesOnSubtypes</em> can
be used to ensure that geometry type specific inheritance trees are
created.</p>
</div>
<div class="paragraph">
<p>A union with the geometry type specific copies of a feature type - and
possibly its subtypes - is created. Wherever the original feature type
was used as value type of an attribute in the schema(s) selected for
processing, it is replaced by the union.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The creation and assignment of these unions may require a final
flattening of complex types via rule-trf-prop-flatten-types.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Tagged value <em>representsFeatureTypeSet</em> = true is added to the
union. This allows for specific treatment of this kind of union, for
example in
<em>rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets</em>
and <em>rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Associations and association roles receive a specific treatment:
For each association where FT is at one end: establish a copy of the
association for each geometry type specific copy of FT and append the
geometry type specific suffix to the name of the role that has FT as
value type (regardless whether it is navigable or not); set minimum
multiplicity of the role with value type being a geometry specific type
to 0 (regardless whether it is navigable or not).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, all copied feature types are removed from the model.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule is only applicable to direct geometry properties of a
feature type, i.e. it does not take into account geometry typed
properties that indirectly (e.g. via properties with complex data type)
belong to the feature type.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameter(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>applyHomogeneousGeometriesOnSubtypes</p>
</li>
<li>
<p>codeByTaggedValue</p>
</li>
<li>
<p>descriptorModification_geometryTypeAlias</p>
</li>
<li>
<p>descriptorModification_geometryTypeSuffixSeparator</p>
</li>
<li>
<p>omitHomogeneousGeometriesForTypesWithSingleGeometryProperty</p>
</li>
<li>
<p>separatorForGeometryTypeSuffix</p>
</li>
<li>
<p>separatorForPropertyFromNonUnion</p>
</li>
<li>
<p>separatorForPropertyFromUnion</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Map Entries:</p>
</div>
<div class="paragraph">
<p>The process map entries for this rule define mappings and naming
parameters for the geometry types to be processed by this rule, as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a process map entry has a type but not a targetType then the type
is removed from the model (with associated properties).</p>
</li>
<li>
<p>If a process map entry has a targetType and parameter value then the
type is mapped to that targetType, appending the parameter value to the
class name.</p>
</li>
<li>
<p>If there is a process map entry for a type with targetType but it
contains no parameter then the type is removed, just as if no type
mapping was defined.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-mediatype-typed-properties"><a class="anchor" href="#rule-trf-prop-flatten-mediatype-typed-properties"></a>2.2.23. rule-trf-prop-flatten-mediatype-typed-properties</h4>
<div class="paragraph">
<p>(since v2.11)</p>
</div>
<div class="paragraph">
<p>For each property P that 1) belongs to a class from the schemas selected
for processing and 2) has MediaType as value type, the transformation
rule switches the type of P to type CharacterString.</p>
</div>
<div class="paragraph">
<p>In addition, an extra property with suffix "_type" and type
CharacterString is created. The lower bound of the multiplicity is set
to 0..1 if the lower bound of the P is 0 and is set 1..1 if the lower
bound of the property itself is 1 or higher (TIP: use this rule together
with rule-trf-prop-flatten-multiplicity).</p>
</div>
<div class="paragraph">
<p>MediaType, defined in ISO 19103, inherits from CharacterString and has
an extra property "type" that provides the media type name, see also
<a href="https://www.iana.org/assignments/media-types/media-types.xhtml">IANA&#8217;s
media type registry</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-measure-typed-properties"><a class="anchor" href="#rule-trf-prop-flatten-measure-typed-properties"></a>2.2.24. rule-trf-prop-flatten-measure-typed-properties</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>For each property P that 1) belongs to a class from the schemas selected
for processing and 2) has a measure type (as defined by parameter
<a href="./Flattener.html#measureTypes">measureTypes</a>)
as value type, the transformation rule switches the type of P to type
Real.</p>
</div>
<div class="paragraph">
<p>Several subrules have been defined for this transformation rule:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>rule-trf-prop-flatten-measure-typed-properties-fixed-uom-suffix</em> -
adds a suffix to the name of P, if P has a fixed unit of measure, which
is defined by the presence of a non-empty tagged value, whose tag name
is defined by parameter
<a href="./Flattener.html#measureUomTaggedValue">measureUomTaggedValue</a>,
or identified by parameter
<a href="./Flattener.html#fixedUomPropertyDefinitions">fixedUomPropertyDefinitions</a>.
The uom symbol is given by the tagged value or the parameter. If a
code is defined for P, then the suffix is also appended to that code.
The separator which is put between the name of P and the uom symbol
suffix is defined by parameter
<a href="./Flattener.html#uomSuffixSeparator">uomSuffixSeparator</a>.
This subrule can be useful to change the name/code of a property from,
for example, "length" to "length_m".</p>
</li>
<li>
<p><em>rule-trf-prop-flatten-measure-typed-properties-add-uom-property</em> -
adds a new property U to the class, whose name is the name of P plus
suffix "_uom", with value type CharacterString, multiplicity 0..1, and
sequence number so that U is placed right after P. If a code is defined
for P, then U will receive that code as well, using "_uom" as suffix.</p>
<div class="ulist">
<ul>
<li>
<p>v2.11 and higher: the multiplicity is set to</p>
<div class="ulist">
<ul>
<li>
<p>0..1 if the lower bound of the property itself is 0</p>
</li>
<li>
<p>1..1 if the lower bound of the property itself is 1 or higher</p>
</li>
</ul>
</div>
</li>
<li>
<p>v.2.10: the multiplicity is alway set to 0..1</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>This rule - together with its subrules - is useful to achieve a flat
representation of measure typed properties.</p>
</li>
<li>
<p>The rule has originally been developed as part of the work in the
<a href="https://www.ogc.org/initiatives/ugas-2020/">OGC UML-to-GML
Application Schema Pilot (UGAS-2020)</a>. See the project report for
further details on the application of the rule,
<a href="https://docs.ogc.org/per/20-012.html#_measure">section 7.3.2.2.1
Measure</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-multiplicity"><a class="anchor" href="#rule-trf-prop-flatten-multiplicity"></a>2.2.25. rule-trf-prop-flatten-multiplicity</h4>
<div class="paragraph">
<p>This rule applies to each property P with cardinality greater than one.
Copies of P are added to the class so that the class has as many P
properties as the maximum cardinality of P or the maxOccurs value
indicate.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
maxOccurs is a global parameter value that can be overwritten via
a tagged value on P.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An index number is added to the names of all newly established
properties and, if they exist, aliases/codes of the P properties (P_1,
P_2, …).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If maxOccurs for a property is exactly 1, then the property is not
copied or renamed. In that case, just the maximum cardinality of the
property is set to 1.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The separator between the property name and the index number can
be configured via the transformation parameter
<em>separatorForPropertyIndexNumber</em> (default is "_"). The index number can
also be added to descriptors – for further details, see the
documentation of parameter
<em>descriptorModification_propertyIndexNumberSeparator</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Dissolves associations where one navigable end has maximum
multiplicity &gt; 1. Dissolving an association means that a potentially
existing association class is removed from the model (if it must be
kept, transform the association class as described in GML 3.3 before
flattening) and each navigable end is turned into an attribute property
of the class it belongs to. An association where both ends have maximum
multiplicity less than or equal to 1 will be kept as-is.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameter(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>codeByTaggedValue</p>
</li>
<li>
<p>descriptorModification_propertyIndexNumberSeparator</p>
</li>
<li>
<p>ignoreFeatureOrObjectTypedProperties</p>
</li>
<li>
<p>ignoreFeatureTypedProperties</p>
</li>
<li>
<p>maxOccurs</p>
</li>
<li>
<p>maxOccursForSpecificProperties</p>
</li>
<li>
<p>separatorForPropertyIndexNumber</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="Subrules"><a class="anchor" href="#Subrules"></a>2.2.25.1. Subrules</h5>
<div class="paragraph">
<p>The following rules can be used to further modify the behavior of
multiplicity flattening:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity-keepBiDirectionalAssociations</p>
</li>
<li>
<p>rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-multiplicity-keepBiDirectionalAssociations"><a class="anchor" href="#rule-trf-prop-flatten-multiplicity-keepBiDirectionalAssociations"></a>2.2.26. rule-trf-prop-flatten-multiplicity-keepBiDirectionalAssociations</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This is a subrule of rule-trf-prop-flatten-multiplicity (which
must be enabled in order for the subrule to have any effect)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In case that multiplicity flattening would result in dissolving a
bi-directional association (because one or both association ends would
be flattened) this rule ensures that the association is kept as-is. This
can be useful in case that n:m relationships represented by
bi-directional associations shall be maintained in the model - for
example for the creation of associative tables while deriving
<a href="../targets/SQL_DDL.html">SQL DDL</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A warning will be logged if this rule prevents the dissolution of
a bi-directional association.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold"><a class="anchor" href="#rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold"></a>2.2.27. rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This is a subrule of rule-trf-prop-flatten-multiplicity (which
must be enabled in order for the subrule to have any effect)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If this rule is enabled then a property will only be subject to
multiplicity flattening if its upper multiplicity boundary is lower than
or equal to the integer value given by the configuration parameter
maxMultiplicityThreshold.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PropertyA, multiplicity 1..5 - maxMultiplicityThreshold: 5 &#8594;
multiplicity flattening WILL be applied to the property (unless
additional behavior forbids it)</p>
</li>
<li>
<p>PropertyB, multiplicity 0..7 - maxMultiplicityThreshold: 5 &#8594;
multiplicity flattening WILL NOT be applied to the property</p>
</li>
<li>
<p>PropertyC, multiplicity 1..* - maxMultiplicityThreshold: 5 &#8594;
multiplicity flattening WILL NOT be applied to the property</p>
</li>
<li>
<p>PropertyD, multiplicity 0..1 - maxMultiplicityThreshold: 5 &#8594;
multiplicity flattening would not be applied to the property anyway</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Parameter Name</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Required / Optional (for Execution of Rule)</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong> maxMultiplicityThreshold</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Required (if not provided or invalid, the
rule does not have any effect)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-ONINAs"><a class="anchor" href="#rule-trf-prop-flatten-ONINAs"></a>2.2.28. rule-trf-prop-flatten-ONINAs</h4>
<div class="paragraph">
<p>Switches the type of all properties with type of name XxxReason to the
type of the "value" property (that belongs to XxxReason; most often it
has the name "Xxx").</p>
</div>
<div class="paragraph">
<p>The multiplicity of these properties is multiplied with the multiplicity
of the value(s) property (minOccurs_property = minOccurs_property *
minOccurs_values_property; same for maxOccurs, taking into account the
case that one of the maxOccurs is 'unlimited').</p>
</div>
<div class="paragraph">
<p>If the type of the "value" property is an enumeration, the Flattener
adds ONINA codes (other, noInformation, notApplicable) to it. If the
model makes use of the "BooleanReason" type, the Flattener adds a new
enumeration BooleanWithONINA (enums: false, true, noInformation,
notApplicable, other) to the model (in the package where the
BooleanReason resides) and switches all properties in the application
schema with type BooleanReason to use the type BooleanWithONINA.The
Flattener also removes all XxxReason «union» classes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Current behavior assumes that properties of type XxxReason are
attributes, not association roles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Parameter Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Required / Optional (for Execution of Rule)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>codeByTaggedValue</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-ONINAs-onlyRemoveReasons"><a class="anchor" href="#rule-trf-prop-flatten-ONINAs-onlyRemoveReasons"></a>2.2.29. rule-trf-prop-flatten-ONINAs-onlyRemoveReasons</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Amends <em>rule-trf-prop-flatten-ONINAs</em> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ONINA enums ("other", "noInformation", "notApplicable") are not added
to enumerations</p>
</li>
<li>
<p>No BooleanWithONINA type is created</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The type of a property with a "Reason" union as type will simply be
changed to the type of the value(s) property from the "Reason" union.
Once this modification is complete, all "Reason" unions are removed.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-types"><a class="anchor" href="#rule-trf-prop-flatten-types"></a>2.2.30. rule-trf-prop-flatten-types</h4>
<div class="paragraph">
<p>This rule flattens complex model structures.</p>
</div>
<div class="paragraph">
<p>At first, all classes that shall be flattened by the rule are
identified. Per default, that is all data type, union, and object types
(A) that:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>belong to one of the schemas selected for processing and</p>
</li>
<li>
<p>are used as value type by the property (P1of ) of a feature, object,
union or data type (B) of the selected schemas.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If object types shall not be flattened, make use of the
configuration parameter <em>flattenObjectTypes</em> (set it to <em>false</em>). If
only a subset of object types shall be flattened, then set
<em>flattenObjectTypes</em> to <em>false</em> and identify the object types that shall
be flattened via the parameter <em>flattenObjectTypesIncludeRegex</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If certain data types shall not be flattened, make use of the
configuration parameter
<em><a href="./Flattener.html#flattenDataTypesExcludeRegex">flattenDataTypesExcludeRegex</a>,</em>
providing a regular expression that matches the names of the data types
to exclude from type flattening. Note that the documentation of the
parameter also has an example where the expression is used to exclude
all but a certain set of data types from flattening.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All properties (P1) that have a value type for which a type mapping is
defined in the ShapeChange configuration (via Map Entries for the
Flattener transformation containing this rule, see further below)
receive the value type defined by the type mapping.</p>
</div>
<div class="paragraph">
<p>If the value type of property (P1) in type (B) is one of type (A), the
content of (A) is flattened, i.e. the properties of (A) are copied to
(B):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the configuration parameter
<em>ignoreReflexiveRelationshipInTypeFlattening</em> is set to <em>true</em> (default
is <em>false</em>) then all properties of (A) whose value type is (A) itself
are not flattened. In other words, reflexive relationships in types that
are flattened are ignored.</p>
</li>
<li>
<p>Each property (P2) of type (A) is copied into type (B):</p>
<div class="ulist">
<ul>
<li>
<p>The copy of (P2) receives the documentation and tagged values of
(P1).</p>
</li>
<li>
<p>If type (A) has tagged value <em>representsFeatureTypeSet</em> or
<em>representsTypeSet</em> with value 'true' (NOTE: these tags are added
during <a href="./Flattener.html#rule-trf-cls-flatten-inheritance">inheritance flattening</a>,
when creating unions that represent
supertypes), then tag <em>originalPropertyName</em> is added to the
property copy, with the name of property (P1) as value - unless property (P1)
has a non-blank value for the tag (if such a value exists, then it is set
as the tag value on the property copy). That information
is used, for example, by the <a href="../targets/ldproxy2.html">ldproxy2 target</a>,
when creating configuration items for generating GML output.</p>
</li>
<li>
<p>Name and descriptors of the copy are modified to reflect the
flattening process:</p>
<div class="ulist">
<ul>
<li>
<p>The names of (P1) and (P2) are concatenated with a separator. If (A)
is a union then the separator is the value of the configuration
parameter <em>separatorForPropertyFromUnion</em>. Otherwise the separator is
the value of parameter <em>separatorForPropertyFromNonUnion</em>.</p>
</li>
<li>
<p>If (A) has tagged value <em>omitWhenFlattened</em> set to true then the
name of (P1) is not used in the name of the copy. In other words, the
copy receives the name of (P2).</p>
<div class="ulist">
<ul>
<li>
<p>NOTE: This behavior can be useful in case that class (A) is just a
helper class that aggregates a number of properties that are used by
multiple classes (example: a WaterResourceInfo class). The behavior also
helps reducing the length of names of flattened model elements.</p>
</li>
<li>
<p>WARNING: This mechanism only works if the maximum multiplicity of
(P1) is exactly 1. In addition, (B) must not contain a property with a
name that equals the name of one of the properties from (A). Otherwise
the result would be ambiguous.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The aforementioned procedure is also applied to combine the
descriptors of the properties (P1) and (P2).</p>
<div class="ulist">
<ul>
<li>
<p>Separators for descriptors are configured via the configuration
parameters <em>descriptorModification_nonUnionSeparator</em> and
<em>descriptorModification_unionSeparator</em>. If these parameters are not
configured, then the values from parameters
<em>separatorForPropertyFromUnion</em> and <em>separatorForPropertyFromNonUnion</em>
are used as fallback.</p>
</li>
<li>
<p>NOTE: Descriptors <em>dataCaptureStatement</em> and <em>example</em> are not
concatenated using a separator. Since these two descriptors can be
multi-valued, the two sets of values would simply be combined.</p>
</li>
<li>
<p>NOTE: The tagged value <em>omitWhenFlattened</em> does not apply to the
descriptor <em>globalIdentifier</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the property (P1) has the tagged value "name" then that tagged
value is also set in copies of (P2), combined with the "name" tagged
value of (P2) if the tagged value is set there (the separator is "-" in
that case).</p>
</li>
</ul>
</div>
</li>
<li>
<p>In addition, the multiplicity is modified:</p>
<div class="ulist">
<ul>
<li>
<p>If (A) is a union then the minimum multiplicity of the property copy
is set to 0 (in order to support the "choice" character of the union).
Otherwise the minimum multiplicity is set to the lower one of (P1) and
(P2).</p>
</li>
<li>
<p>The maximum multiplicity is set to unbounded if one of (P1) and (P2)
has that maximum multiplicity - otherwise it is set to the product of
the maximum multiplicity values of (P1) and (P2).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Property copies are inserted in (B) in the order in which they occur
in (A) - at the location of (P1).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Finally, all types (A) and properties (P1) - which have been replaced by
a number of copies - are removed from the model.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
(since v2.8.0) If the copy of a property from (A) has the same
name as a property that already exists in (B), then by default the copy
from (A) is ignored. However, that behavior can be changed using
parameter <em>flattenTypesPropertyCopyDuplicateBehavior</em>, essentially
allowing you to overwrite the existing property in (B).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule currently only flattens data, object, and union types
from selected application schema, not from external packages. Types from
external packages may be replaced according to the type mappings defined
for this rule.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If a schema contains an undirected association between types to be
flattened (most likely object types) then the flattening process can
lead to unexpected results. The tagged value "isFlatTarget" can be used
to further specify the flattening behavior for undirected associations.
See the documentation for
<em>rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget</em> for further
details.
</td>
</tr>
</table>
</div>
<hr>
<div class="paragraph">
<p>Example 1</p>
</div>
<div class="paragraph">
<p>ClassA:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«property» p: ClassB [1..3]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ClassB:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«property» prop1: Integer [1..*]</p>
</li>
<li>
<p>«property» prop2: Boolean [0..3]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Flattener will transform this to:</p>
</div>
<div class="paragraph">
<p>ClassA:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«property» p.prop1: Integer [1..*]</p>
</li>
<li>
<p>«property» p.prop2: Boolean [0..9]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>-</p>
</div>
<div class="paragraph">
<p>Example 2</p>
</div>
<div class="paragraph">
<p>ClassA:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«property» pA: ClassB</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ClassB (tagged value "omitWhenFlattened"= true):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«property» pB1: Integer</p>
</li>
<li>
<p>«property» pB2: Boolean</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Flattener will transform this to:</p>
</div>
<div class="paragraph">
<p>ClassA:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«property» pB1: Integer</p>
</li>
<li>
<p>«property» pB2: Boolean</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As we can see, the names of ClassA properties in the flattened schema do
not contain the component "pA".</p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>codeByTaggedValue</p>
</li>
<li>
<p>descriptorModification_nonUnionSeparator</p>
</li>
<li>
<p>descriptorModification_unionSeparator</p>
</li>
<li>
<p><a href="./Flattener.html#flattenDataTypesExcludeRegex">flattenDataTypesExcludeRegex</a></p>
</li>
<li>
<p>flattenObjectTypes</p>
</li>
<li>
<p>flattenObjectTypesIncludeRegex</p>
</li>
<li>
<p>flattenTypesPropertyCopyDuplicateBehavior</p>
</li>
<li>
<p>includeUnionIdentifierTaggedValue</p>
</li>
<li>
<p>ignoreReflexiveRelationshipInTypeFlattening</p>
</li>
<li>
<p>includeUnionIdentifierTaggedValue</p>
</li>
<li>
<p>mergeDescriptors</p>
</li>
<li>
<p>separatorForPropertyFromUnion</p>
</li>
<li>
<p>setMinCardinalityToZeroWhenMergingUnion</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Map Entries:</p>
</div>
<div class="paragraph">
<p>If a property has a «dataType» or «type» as its type and a process
map entry defines a target type for this type, then the type of the
property is switched to that target type.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-types-ignoreSelfReferenceByPropertyWithAssociationClassOrigin"><a class="anchor" href="#rule-trf-prop-flatten-types-ignoreSelfReferenceByPropertyWithAssociationClassOrigin"></a>2.2.31. rule-trf-prop-flatten-types-ignoreSelfReferenceByPropertyWithAssociationClassOrigin</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>When copying properties while processing <em>rule-trf-prop-flatten-types</em>,
properties that originate from an association class and represent a self
reference are not copied. More specifically: if a property P1 whose type
is flattened has tagged value <em>toAssociationClassFrom</em> and a property P2
from that type has tagged value <em>fromAssociationClassTo</em>, and both
tagged values have the same value, then property P2 is not copied.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets"><a class="anchor" href="#rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets"></a>2.2.32. rule-trf-prop-flatten-types-ignoreUnionsRepresentingFeatureTypeSets</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Amends <em>rule-trf-prop-flatten-types</em> to ignore unions that represent
feature type sets, i.e. unions that have tagged value
<em>representsFeatureTypeSet</em> = true. These unions are not flattened and
also not removed at the end of processing <em>rule-trf-prop-flatten-types</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-flatten-types-removeMappedTypes"><a class="anchor" href="#rule-trf-prop-flatten-types-removeMappedTypes"></a>2.2.33. rule-trf-prop-flatten-types-removeMappedTypes</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>All types for which map entries have been declared in the configuration
of the flattener transformation are removed at the end of processing
<em>rule-trf-prop-flatten-types</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-optionality"><a class="anchor" href="#rule-trf-prop-optionality"></a>2.2.34. rule-trf-prop-optionality</h4>
<div class="paragraph">
<p>Sets all model properties that are of a type identified by the
enforceOptionality parameter to optional.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Only applies to properties of the application schema(s) selected
for processing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Parameter Name</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Required / Optional (for Execution of Rule)</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>enforceOptionality</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Required (if the parameter is omitted, a warning
will be logged and the rule not executed)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-remove-name-and-code-component"><a class="anchor" href="#rule-trf-prop-remove-name-and-code-component"></a>2.2.35. rule-trf-prop-remove-name-and-code-component</h4>
<div class="paragraph">
<p>(Alias: rule-trf-prop-remove-name-and-alias-component)</p>
</div>
<div class="paragraph">
<p>The Flattener removes all components of the name and code value (if
existent) of a property that match one of the regular expressions
defined by the parameter 'removePropertyNameAndCodeComponent'.</p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Parameter Name</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Required / Optional (for Execution of Rule)</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>codeByTaggedValue</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>removePropertyNameAndCodeComponent</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional (if not provided or
empty, the model simply won&#8217;t be changed.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget"><a class="anchor" href="#rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget"></a>2.2.36. rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget</h4>
<div class="paragraph">
<p>If a navigable association role has <em>isFlatTarget</em> tagged value set to
<em>true</em> then it will be removed from the model. More specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the association is bi-directional, the association role will be set
to be non-navigable.</p>
</li>
<li>
<p>If the association is uni-directional (and the role is the only
navigable end), the whole association will be removed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This will ensure that the contents of the class (A) that owns the
property (so the class on the other end of the association) can be
copied into the value type (B) of the property but not the other way
round - if (A) was flattened by <em>rule-trf-prop-flatten-types</em>. Setting
the isFlatTarget tagged value is especially useful for managing how
complex type flattening is applied in case of a bi-directional
association.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the isFlatTarget setting(s) on the association leads to the
removal of the whole association (because both ends have been removed /
are no longer navigable) a warning will be logged.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-trf-prop-removeObjectToFeatureTypeNavigability"><a class="anchor" href="#rule-trf-prop-removeObjectToFeatureTypeNavigability"></a>2.2.37. rule-trf-prop-removeObjectToFeatureTypeNavigability</h4>
<div class="paragraph">
<p>If the name of an object type matches the regular expression given via
the configuration parameter <em>removeObjectToFeatureNavRegex</em>, then each
navigable property whose value type is a feature type will be removed
from the object type. If the property is an attribute it will be removed
from the model. If the property is an association role and the whole
association is no longer navigable then the association will be removed.</p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Parameter Name</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Required / Optional (for Execution of Rule)</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>removeObjectToFeatureNavRegex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Required (if the parameter is
omitted, an error will be logged and the rule not executed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>includeObjectToObjectNavigability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> Optional</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="A_Word_on_the_Order_of_Execution"><a class="anchor" href="#A_Word_on_the_Order_of_Execution"></a>2.3. A Word on the Order of Execution</h3>
<div class="paragraph">
<p>Flattening rules and requirements can be configured as a sequence of
standalone transformations. This is useful to apply flattening in a very
specific order. For example, configure one transformation to flatten
inheritance and then configure another transformation to flatten
multiplicity (with input being the result of inheritance flattening).</p>
</div>
<div class="paragraph">
<p>Because all flattening behavior is implemented by a single transformer -
the "Flattener" - it is possible to configure a single transformation
with all flattening rules and requirements that shall be processed. In
this case, the order of execution is especially important. The Flattener
executes flattening rules and requirements in the following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>rule-trf-all-removeType</p>
</li>
<li>
<p>rule-trf-cls-dissolve-mixins</p>
</li>
<li>
<p>rule-trf-prop-removeObjectToFeatureTypeNavigability</p>
</li>
<li>
<p>rule-trf-all-removeFeatureTypeRelationships</p>
</li>
<li>
<p>rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget</p>
</li>
<li>
<p>rule-trf-all-flatten-constraints</p>
</li>
<li>
<p>rule-trf-all-flatten-removeConstraints</p>
</li>
<li>
<p>rule-trf-prop-flatten-codelists</p>
</li>
<li>
<p>rule-trf-prop-flatten-ONINAs</p>
</li>
<li>
<p>rule-trf-prop-optionality</p>
</li>
<li>
<p>rule-trf-all-flatten-type-mapToSimpleBaseType</p>
</li>
<li>
<p>rule-trf-cls-flatten-inheritance</p>
</li>
<li>
<p>req-flattener-flattenTypes-identify-circular-dependencies</p>
</li>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
<li>
<p>rule-trf-cls-replace-with-union-properties</p>
</li>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
<li>
<p>rule-trf-all-flatten-name</p>
</li>
<li>
<p>rule-trf-prop-remove-name-and-code-component</p>
</li>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
<li>
<p>rule-trf-cls-remove-inheritance-relationship</p>
</li>
<li>
<p>rule-trf-cls-flatten-geometryTypeInheritance</p>
</li>
<li>
<p>rule-trf-prop-flatten-measure-typed-properties</p>
</li>
<li>
<p>rule-trf-prop-flatten-directposition-typed-properties</p>
</li>
<li>
<p>rule-trf-prop-flatten-mediatype-typed-properties</p>
</li>
<li>
<p>rule-trf-prop-flatten-explicit-time-interval</p>
</li>
<li>
<p>rule-trf-cls-flatten-reverse-inheritance</p>
</li>
<li>
<p>rule-trf-cls-non-default-geometry-to-feature-type</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The execution order may or may not have an impact on rule parameter
values. For example, if the maxOccursForSpecificProperties parameter was
set to change the maximum cardinality of a property in a type that is a
supertype and has already been processed - and removed - by
rule-trf-cls-flatten-inheritance, then the parameter won&#8217;t have an
effect on the resulting schema. One would need to set the parameter in
such a way that it takes the preceding modifications (applied through
flattening) into account. In this example one would need to list all the
(direct and indirect, non-abstract) subtypes of the supertype to change
the cardinality of the property that they received from the supertype.</p>
</div>
<div class="paragraph">
<p>Further considerations regarding the order of rule execution:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If rule-trf-prop-flatten-types was executed before
rule-trf-prop-flatten-multiplicity then the index number appended for
each individual copy created by rule-trf-prop-flatten-multiplicity for a
property p with maximum cardinality &gt; 1 would not be added to the name
of property p but to each following facet (created by
rule-trf-prop-flatten-types). Thus, instead of p_1.xyz, p_2.xyz, p_3.xyz
one would get p.xyz_1, p.xyz_2, p.xyz_3. By looking at the latter list
of names one would think that property xyz had maximum cardinality &gt; 1,
while it is actually property p.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Parameters"><a class="anchor" href="#Parameters"></a>2.4. Parameters</h3>
<div class="paragraph">
<p>The parameters supported by the Flattener are described in the following
sections.</p>
</div>
<div class="sect3">
<h4 id="applyHomogeneousGeometriesOnSubtypes"><a class="anchor" href="#applyHomogeneousGeometriesOnSubtypes"></a>2.4.1. applyHomogeneousGeometriesOnSubtypes</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Controls whether or not <em>rule-trf-prop-flatten-homogeneousgeometries</em>
creates geometry type specific inheritance trees.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="basicTypeSupertypeNames"><a class="anchor" href="#basicTypeSupertypeNames"></a>2.4.2. basicTypeSupertypeNames</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings</p>
</div>
<div class="paragraph">
<p>Default Value: Character, CharacterString, Number, Real, Integer,
Decimal, Date, DateTime, Boolean, Measure, Length, Distance, Area,
Velocity, Volume</p>
</div>
<div class="paragraph">
<p>Behavior: Identifies the types within the conceptual model that are
supertypes of basic types defined in application schemas. Such basic
types will not be processed by
<em>rule-trf-cls-flatten-reverse-inheritance</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./Flattener.html#rule-trf-cls-flatten-reverse-inheritance">rule-trf-cls-flatten-reverse-inheritance</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="codeByTaggedValue"><a class="anchor" href="#codeByTaggedValue"></a>2.4.3. codeByTaggedValue</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>by default the alias is used to look up and store the
code value</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Provides the name of a tagged value that shall be used to look up and
store the code value of a model element (e.g. class or property).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-all-flatten-name</p>
</li>
<li>
<p>rule-trf-cls-flatten-inheritance</p>
</li>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
<li>
<p>rule-trf-prop-flatten-ONINAs</p>
</li>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
<li>
<p>rule-trf-prop-remove-name-and-code-component</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="codeForEnumerationValues"><a class="anchor" href="#codeForEnumerationValues"></a>2.4.4. codeForEnumerationValues</h4>
<div class="paragraph">
<p>Alias: aliasForEnumerationValues<em> </em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>True if flattening of enumeration value/property names by replacing them
with the code value (if set) shall be performed, else false (in that
case, the existing name is kept for enumeration values).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-all-flatten-name</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="directionToNewFeatureType"><a class="anchor" href="#directionToNewFeatureType"></a>2.4.5. directionToNewFeatureType</h4>
<div class="paragraph">
<p>(since v2.13)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Behavior: Indicates whether the new association is directed from the
original feature to the new feature type (true) or the other way round
 (false).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./Flattener.html#rule-trf-cls-non-default-geometry-to-feature-type">rule-trf-cls-non-default-geometry-to-feature-type</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorModification_geometryTypeAlias"><a class="anchor" href="#descriptorModification_geometryTypeAlias"></a>2.4.6. descriptorModification_geometryTypeAlias</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Alias: none</p>
</div>
<div class="paragraph">
<p>Type: structured string; sequence of descriptors with separator
value in curly braces; each item of the sequence should satisfy the
following regular expression: (\w+)\\{([^}]+)}</p>
</div>
<div class="paragraph">
<p>Default value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior</p>
</div>
<div class="paragraph">
<p>Defines the geometry type suffix to append to specific descriptors of a
geometry type specific feature copy. The separator is defined via the
configuration parameter
<em>descriptorModification_geometryTypeSuffixSeparator</em>. The parameter
value lists descriptors, each with a list of suffixes for specific
geometry types.</p>
</div>
<div class="paragraph">
<p>By default, the geometry type suffix is defined by param attributes of
map entries. If one of these suffixes is defined for a descriptor by the
<em>descriptorModification_geometryTypeAlias</em> parameter, then the according
value is used as suffix instead.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="tag">&lt;mapEntries&gt;</span>
  <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">P</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
 <span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
 <span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Curve</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Curve</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">S</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
 <span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Surface</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Surface</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/mapEntries&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">descriptorModification_geometryTypeAlias</span><span class="delimiter">&quot;</span></span>
 <span class="error"> </span><span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">alias{P=Point,C=Curve,S=Surface}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in the alias of feature types with point geometry
having the suffix "Point" instead of just "P".</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorModification_geometryTypeSuffixSeparator"><a class="anchor" href="#descriptorModification_geometryTypeSuffixSeparator"></a>2.4.7. descriptorModification_geometryTypeSuffixSeparator</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: structured string; sequence of descriptors with separator
value in curly braces; each item of the sequence should satisfy the
following regular expression: (\w+)\\{([^}]+)}</p>
</div>
<div class="paragraph">
<p>Default value: none</p>
</div>
<div class="paragraph">
<p>Behavior</p>
</div>
<div class="paragraph">
<p>Use this parameter for appending a geometry type suffix to specific
descriptors of a geometry type specific feature copy, with a descriptor
specific separator. The parameter value lists descriptors to which the
geometry type suffix shall be appended. For each such descriptor, the
separator is contained in curly braces (that directly follow the
descriptor name).</p>
</div>
<div class="paragraph">
<p>By default, the geometry type suffix is defined by param attributes of
map entries. The suffix to use for specific geometry types can be
configured per descriptor via the parameter
<em>descriptorModification_geometryTypeAlias</em>.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">descriptorModification_geometryTypeSuffixSeparator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">alias{ : } definition{ : }</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorModification_nonUnionSeparator"><a class="anchor" href="#descriptorModification_nonUnionSeparator"></a>2.4.8. descriptorModification_nonUnionSeparator</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: structured string; sequence of descriptors with separator
value in curly braces; each item of the sequence should satisfy the
following regular expression: (\w+)\\{([^}]+)}</p>
</div>
<div class="paragraph">
<p>Default value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior</p>
</div>
<div class="paragraph">
<p>Use this parameter for merging specific descriptors - with a descriptor
specific separator – when flattening the property of a non-union type
into another type. The parameter value lists descriptors that shall be
merged. The global identifier is always merged (with "." as separator,
if nothing specific is configured). For each such descriptor, the
separator is contained in curly braces (that directly follow the
descriptor name).</p>
</div>
<div class="paragraph">
<p>If one or both of the descriptors from the two properties – one being a
property of the non-union type and one being the property that has the
non-union type as value type – do not have a value, then the descriptors
are not merged. Instead, if a descriptor is available, it is used as-is.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">descriptorModification_nonUnionSeparator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">documentation{ : }, alias{ : }, definition{ : }, description{ : }, primaryCode{ : }</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorModification_propertyIndexNumberSeparator"><a class="anchor" href="#descriptorModification_propertyIndexNumberSeparator"></a>2.4.9. descriptorModification_propertyIndexNumberSeparator</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: structured string; sequence of descriptors with separator
value in curly braces; each item of the sequence should satisfy the
following regular expression: (\w+)\\{([^}]+)}</p>
</div>
<div class="paragraph">
<p>Default value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior</p>
</div>
<div class="paragraph">
<p>Use this parameter for appending the index number to specific
descriptors, with a descriptor specific separator. The parameter value
lists descriptors to which the index number shall be appended. For each
such descriptor, the separator is contained in curly braces (that
directly follow the descriptor name).</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">descriptorModification_propertyIndexNumberSeparator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">alias{ - } definition{ : }</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="descriptorModification_unionSeparator"><a class="anchor" href="#descriptorModification_unionSeparator"></a>2.4.10. descriptorModification_unionSeparator</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: structured string; sequence of descriptors with separator
value in curly braces; each item of the sequence should satisfy the
following regular expression: (\w+)\\{([^}]+)}</p>
</div>
<div class="paragraph">
<p>Default value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior</p>
</div>
<div class="paragraph">
<p>Use this parameter for merging specific descriptors - with a descriptor
specific separator – when flattening the property of a union type into
another type. The parameter value lists descriptors that shall be
merged. The global identifier is always merged (with "." as separator,
if nothing specific is configured). For each such descriptor, the
separator is contained in curly braces (that directly follow the
descriptor name).</p>
</div>
<div class="paragraph">
<p>If one or both of the descriptors from the two properties – one being a
property of the union type and one being the property that has the union
type as value type – do not have a value, then the descriptors are not
merged. Instead, if a descriptor is available, it is used as-is.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">descriptorModification_unionSeparator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">documentation{ : }, alias{ : }, definition{ : }, description{ : }, primaryCode{ : }</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="directPositionRsidSuffix"><a class="anchor" href="#directPositionRsidSuffix"></a>2.4.11. directPositionRsidSuffix</h4>
<div class="paragraph">
<p>Alias: none</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default value: <em>srsName</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Defines the suffix of the new property that is created with rule
rule-trf-prop-flatten-directposition-typed-properties-add-rsid-property.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-directposition-typed-properties-add-rsid-property</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="enforceOptionality"><a class="anchor" href="#enforceOptionality"></a>2.4.12. enforceOptionality</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Properties that are of one of the types listed in this parameter (type
is identified via its name, for example "GM_Point, GM_Curve,
GM_MultiPoint") are set to optional.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-optionality</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixedUomPropertyDefinitions"><a class="anchor" href="#fixedUomPropertyDefinitions"></a>2.4.13. fixedUomPropertyDefinitions</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior: Identifies the which properties have fixed unit of measure,
and which suffix to append to the name of such a property. Each string
value is a key-value-pair (separator is '='), where the key either is a
property name (if all properties of that name with a relevant measure
type shall receive that suffix) or a combination of class name, ".", and
property name (if the key-value-pair only applies to the property of a
specific class).</p>
</div>
<div class="paragraph">
<p>Example: Feature1.angle = _deg, length=_m</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>subrule
<em>rule-trf-prop-flatten-measure-typed-properties-fixed-uom-suffix</em> of
<a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="flattenDataTypesExcludeRegex"><a class="anchor" href="#flattenDataTypesExcludeRegex"></a>2.4.14. flattenDataTypesExcludeRegex</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>This parameter allows to identify the complex data types that shall NOT
be flattened. The value of this parameter contains a (Java compliant)
regular expression which, if it matches the name of a data type, marks
it to be excluded from type flattening.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you only want to flatten a certain set of data types from the
schemas selected for processing, then you can use 'negative lookahead'
in the regular expression to actually ensure that these types are
flattened, but the other data types are excluded. For example, if the
data types CountInterval, IntegerInterval, and CurrencyValue shall be
flattened, but no other data type, use the following regular expression:
^(?!(CountInterval|IntegerInterval|CurrencyValue)).+$
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>req-flattener-flattenTypes-identify-circular-dependencies</p>
</li>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="flattenInheritanceIncludeRegex"><a class="anchor" href="#flattenInheritanceIncludeRegex"></a>2.4.15. flattenInheritanceIncludeRegex</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Only those supertypes whose name - or the name of one of its supertypes
up in the inheritance hierarchy (but ignoring supertypes outside of the
application schema(s) selected for processing - matches the regular
expression are subject to inheritance flattening via
<em>rule-trf-cls-flatten-inheritance</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-cls-flatten-inheritance</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="flattenObjectTypes"><a class="anchor" href="#flattenObjectTypes"></a>2.4.16. flattenObjectTypes</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If set to 'false', object type classes (with no stereotype or stereotype
«type») will not be flattened by <em>rule-trf-prop-flatten-types</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>req-flattener-flattenTypes-identify-circular-dependencies</p>
</li>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="flattenObjectTypesIncludeRegex"><a class="anchor" href="#flattenObjectTypesIncludeRegex"></a>2.4.17. flattenObjectTypesIncludeRegex</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If the parameter 'flattenObjectTypes' is set to false, then via this
parameter one can still identify object types that shall be flattened.
The value of this parameter contains a (Java compliant) regular
expression which, if it matches the name of an object type, marks it for
type flattening.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>req-flattener-flattenTypes-identify-circular-dependencies</p>
</li>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="flattenTypesPropertyCopyDuplicateBehavior"><a class="anchor" href="#flattenTypesPropertyCopyDuplicateBehavior"></a>2.4.18. flattenTypesPropertyCopyDuplicateBehavior</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Enumeration: "IGNORE" or "OVERWRITE"</p>
</div>
<div class="paragraph">
<p>Default Value: IGNORE</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Defines the behavior for copying a property - while flattening types -
from class A to class B, and class B already has a property with the
same name. Available behaviors are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IGNORE: The property from class A shall be ignored. The property from
class B is kept.</p>
</li>
<li>
<p>OVERWRITE: The property from class A shall overwrite the property from
class B.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geometryTypeRegex"><a class="anchor" href="#geometryTypeRegex"></a>2.4.19. geometryTypeRegex</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: ^GM_.*</p>
</div>
<div class="paragraph">
<p>Behavior: If the name of the value type of a property matches the
regular expression, then the property is considered to be a geometric
property.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./Flattener.html#rule-trf-cls-non-default-geometry-to-feature-type">rule-trf-cls-non-default-geometry-to-feature-type</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="ignoreFeatureOrObjectTypedProperties"><a class="anchor" href="#ignoreFeatureOrObjectTypedProperties"></a>2.4.20. ignoreFeatureOrObjectTypedProperties</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If set to 'true', the multiplicity of an attribute whose type is a
feature, object, or mixin type is kept as is, thus ignoring the
maxOccurs setting completely. For associations where the type of both
ends falls into one of the aforementioned categories (feature, object,
mixin) the multiplicity will also be kept as is. For all other cases
multiplicity will be flattened using the maxOccurs setting.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="ignoreFeatureTypedProperties"><a class="anchor" href="#ignoreFeatureTypedProperties"></a>2.4.21. ignoreFeatureTypedProperties</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If set to 'true', the multiplicity of an attribute whose type is a
feature type is kept as is, thus ignoring the maxOccurs setting
completely. For associations where both ends are feature types the
multiplicity will also be kept as is. For all other cases multiplicity
will be flattened using the maxOccurs setting.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="ignoreReflexiveRelationshipInTypeFlattening"><a class="anchor" href="#ignoreReflexiveRelationshipInTypeFlattening"></a>2.4.22. ignoreReflexiveRelationshipInTypeFlattening</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false<em> </em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If this parameter is set to true then reflexive relationships in types
that are flattened are ignored in <em>rule-trf-prop-flatten-types</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="includeObjectToObjectNavigability"><a class="anchor" href="#includeObjectToObjectNavigability"></a>2.4.23. includeObjectToObjectNavigability</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If this parameter is set to <em>true</em> then execution of
<em>rule-trf-prop-removeObjectToFeatureTypeNavigability</em> will also remove
navigable properties whose value type is an object type.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-removeObjectToFeatureTypeNavigability</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="includeUnionIdentifierTaggedValue"><a class="anchor" href="#includeUnionIdentifierTaggedValue"></a>2.4.24. includeUnionIdentifierTaggedValue</h4>
<div class="paragraph">
<p>(available since 2.2.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If this parameter is set to true, then properties that originate from
flattening a specific union will be tagged (with tag 'SC_UNION_SET').
This allows identifying which properties belong to the union after it
has been flattened - just by looking at the tagged values. Properties
from a union that are copied into another union will not be tracked.
Also, tracking information will be removed / not created if union
options replace a property with max multiplicity &gt; 1 (because then the
union semantics will become irrelevant, as that property can have values
from more than one union option).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
<li>
<p>rule-trf-cls-replace-with-union-properties</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="keepOriginalNameAsCode"><a class="anchor" href="#keepOriginalNameAsCode"></a>2.4.25. keepOriginalNameAsCode</h4>
<div class="paragraph">
<p>Alias: keepOriginalNameAsAlias</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If set to 'false', the original name of a model element is not stored in
its code value during the execution of <em>rule-trf-all-flatten-name</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-all-flatten-name</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="linkedDocumentPagebreak"><a class="anchor" href="#linkedDocumentPagebreak"></a>2.4.26. linkedDocumentPagebreak</h4>
<div class="paragraph">
<p>(since v2.5.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Explanation: If set to true, a pagebreak will be added between two
linked documents that are merged.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
rule-trf-cls-flatten-inheritance-mergeLinkedDocuments</p>
</div>
</div>
<div class="sect3">
<h4 id="lowerCaseCodeForProperties"><a class="anchor" href="#lowerCaseCodeForProperties"></a>2.4.27. lowerCaseCodeForProperties</h4>
<div class="paragraph">
<p>Alias: lowerCaseAliasForProperties</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>True if code values shall be converted to lower case while replacing
property names with code values, else false.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-all-flatten-name</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="maxMultiplicityThreshold"><a class="anchor" href="#maxMultiplicityThreshold"></a>2.4.28. maxMultiplicityThreshold</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Integer (&gt;1)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Identifies the threshold for multiplicity flattening if
rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold is
enabled, together with rule-trf-prop-flatten-multiplicity. The value
shall be an integer bigger than 1.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity-withMaxMultiplicityThreshold</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="maxOccurs"><a class="anchor" href="#maxOccurs"></a>2.4.29. maxOccurs</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Integer (&gt;0)</p>
</div>
<div class="paragraph">
<p>Default Value: 3</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Identifies the default for the maximum occurrence of model properties
with cardinality greater than one.The tagged value "maxOccurs" can also
directly be set for a model property. In that case its value overrides
the default defined by this parameter.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="maxOccursForSpecificProperties"><a class="anchor" href="#maxOccursForSpecificProperties"></a>2.4.30. maxOccursForSpecificProperties</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Allows the override of the local and global maxOccurs settings defined
for a model property (local = via the 'maxOccurs' tagged value on the
property, global = via the 'maxOccurs' parameter in the configuration).</p>
</div>
<div class="paragraph">
<p>Each component in the list of strings that is the value of this
parameter follows a specific pattern:&lt;class name&gt;::&lt;property
name&gt;::&lt;explicit maxOccurs&gt;</p>
</div>
<div class="paragraph">
<p>Example: FeatureEntity::propGeometry::1 &#8594; the property 'propGeometry'
in class 'FeatureEntity' shall have a maximum occurrence of 1</p>
</div>
<div class="paragraph">
<p>Multiple patterns are separated via a comma.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="measureTypes"><a class="anchor" href="#measureTypes"></a>2.4.31. measureTypes</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings</p>
</div>
<div class="paragraph">
<p>Default Value: <em>Angle, AngularSpeed, Area, Currency, Distance, Length,
Measure, Scale, Speed, TimeMeasure, Volume, Weight</em></p>
</div>
<div class="paragraph">
<p>Behavior: Defines the names of the types that are measures, to be
processed by
<a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="measureUomTaggedValue"><a class="anchor" href="#measureUomTaggedValue"></a>2.4.32. measureUomTaggedValue</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior: Defines the name of the unit of measure tagged value in
subrule
<em>rule-trf-prop-flatten-measure-typed-properties-fixed-uom-suffix</em> of
<a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Subrule
<em>rule-trf-prop-flatten-measure-typed-properties-fixed-uom-suffix</em> of
<a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="omitHomogeneousGeometriesForTypesWithSingleGeometryProperty"><a class="anchor" href="#omitHomogeneousGeometriesForTypesWithSingleGeometryProperty"></a>2.4.33. omitHomogeneousGeometriesForTypesWithSingleGeometryProperty</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Set to <em>true</em> if <em>rule-trf-prop-flatten-homogeneousgeometries</em> shall not
be applied on feature types that only use a single geometry type (in
other words: they already have homogeneous geometry).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removeInheritanceIncludeRegex"><a class="anchor" href="#removeInheritanceIncludeRegex"></a>2.4.34. removeInheritanceIncludeRegex</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If the name of a class matches this expression, then all supertype
relationships to this class will be removed in the model. In other
words: the class is disconnected from its subtypes.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-cls-remove-inheritance-relationship</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removeObjectToFeatureNavRegex"><a class="anchor" href="#removeObjectToFeatureNavRegex"></a>2.4.35. removeObjectToFeatureNavRegex</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If the name of an object type matches this expression, then each
navigable property whose value type is a feature type will be removed
from the object type.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-removeObjectToFeatureTypeNavigability</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removePropertyNameAndCodeComponent"><a class="anchor" href="#removePropertyNameAndCodeComponent"></a>2.4.36. removePropertyNameAndCodeComponent</h4>
<div class="paragraph">
<p>Alias: removePropertyNameAndAliasComponent</p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings (representing Java compliant
regular expressions)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Each match (for one of the regular expressions listed in this parameter,
for example ".valueOrReason") within the name or code value of a
property is replaced by the empty string (thus removing the matching
part of the property name/code).This is useful for shortening the names
of feature type properties whose complex structure has been flattened to
a simple one. Common name parts that are introduced during the
flattening process can thus be removed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Expects Java compliant regular expressions; constructs of the
expression can be escaped accordingly.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-remove-name-and-code-component</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removeType"><a class="anchor" href="#removeType"></a>2.4.37. removeType</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (comma separated) list of Strings</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Any of the types (identified by name, for example "ClassX") listed in
this parameter will be removed from the model.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-all-removeType</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="replaceUnionExcludeRegex"><a class="anchor" href="#replaceUnionExcludeRegex"></a>2.4.38. replaceUnionExcludeRegex</h4>
<div class="paragraph">
<p>(available since 2.2.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (with Java compliant regular expression)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>This parameter identifies the unions that shall NOT be flattened. The
value of this parameter contains a (Java compliant) regular expression
which, if it matches the name of a union, marks it to be excluded by the
Flattener.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-cls-replace-with-union-properties</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="simpleBaseTypes"><a class="anchor" href="#simpleBaseTypes"></a>2.4.39. simpleBaseTypes</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Type: Comma separated list of strings</p>
</div>
<div class="paragraph">
<p>Default Value: "CharacterString, Integer, Measure, Real"</p>
</div>
<div class="paragraph">
<p>Behavior</p>
</div>
<div class="paragraph">
<p>List of names of types that represent simple base types.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>rule-trf-all-flatten-type-mapToSimpleBaseType</em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="separatorForGeometryTypeSuffix"><a class="anchor" href="#separatorForGeometryTypeSuffix"></a>2.4.40. separatorForGeometryTypeSuffix</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (can be empty)</p>
</div>
<div class="paragraph">
<p>Default Value: "" (the empty string)</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Separator to use for concatenating the name of a feature type with the
geometry type suffix while applying
<em>rule-trf-prop-flatten-homogeneousgeometries</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="separatorForPropertyFromNonUnion"><a class="anchor" href="#separatorForPropertyFromNonUnion"></a>2.4.41. separatorForPropertyFromNonUnion</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (non empty) String</p>
</div>
<div class="paragraph">
<p>Default Value: "."</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Separator to use for name/code concatenation when flattening properties
from a NON union type. If the length of the parameter value is zero, the
default value will be used.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="separatorForPropertyFromUnion"><a class="anchor" href="#separatorForPropertyFromUnion"></a>2.4.42. separatorForPropertyFromUnion</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: (non empty) String</p>
</div>
<div class="paragraph">
<p>Default Value: "-"</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Separator to use for name/code concatenation when flattening properties
from a union type. If the length of the parameter value is zero, the
default value will be used.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-cls-flatten-inheritance</p>
</li>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
<li>
<p>rule-trf-prop-flatten-homogeneousgeometries</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="separatorForPropertyIndexNumber"><a class="anchor" href="#separatorForPropertyIndexNumber"></a>2.4.43. separatorForPropertyIndexNumber</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String (can be empty)</p>
</div>
<div class="paragraph">
<p>Default Value: "_"</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>Separator to use for concatenating the name/code of a property with an
index number while flattening multiplicity.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-multiplicity</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="setMinCardinalityToZeroWhenMergingUnion"><a class="anchor" href="#setMinCardinalityToZeroWhenMergingUnion"></a>2.4.44. setMinCardinalityToZeroWhenMergingUnion</h4>
<div class="paragraph">
<p>(available since 2.2.0)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If, during execution of "rule-trf-prop-flatten-types", a union is
flattened, then by default the minimum multiplicity of the flattened
property is set to 0. However, if the replaced property has a maximum
multiplicity of 1 and the transformation parameter
"includeUnionIdentifierTaggedValue" is set to true, then the union
semantics can be represented in the model. In that case, setting the
minimum multiplicity of the flattened property to 0 would unnecessarily
reduce valuable information. To prevent this from happening, set this
parameter to false (the default is true).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rule-trf-prop-flatten-types</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="targetNamespaceSuffix"><a class="anchor" href="#targetNamespaceSuffix"></a>2.4.45. targetNamespaceSuffix</h4>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Behavior:</p>
</div>
<div class="paragraph">
<p>If provided, the value of this parameter is added to the
targetNamespaces of all selected schema in the flattened model (unless
the target namespace already ends with this suffix).</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): universal parameter for Flattener transformation,
i.e. if added to a Flattener transformation, it will be applied to the
transformation result.</p>
</div>
</div>
<div class="sect3">
<h4 id="typeEnumerationPropertyName"><a class="anchor" href="#typeEnumerationPropertyName"></a>2.4.46. typeEnumerationPropertyName</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: "_type"</p>
</div>
<div class="paragraph">
<p>Behavior: The name of the new property that is added to a root class in
<em>rule-trf-cls-flatten-reverse-inheritance</em>, with value type being the
enumeration that lists all the non-abstract types that the root class
can represent.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./Flattener.html#rule-trf-cls-flatten-reverse-inheritance">rule-trf-cls-flatten-reverse-inheritance</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="typeSuffixSeparator"><a class="anchor" href="#typeSuffixSeparator"></a>2.4.47. typeSuffixSeparator</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: "_"</p>
</div>
<div class="paragraph">
<p>Behavior: The separator to use when appending the name/code of a subtype
to the name/code of a property that is moved by
<em>rule-trf-cls-flatten-reverse-inheritance</em> to a supertype.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./Flattener.html#rule-trf-cls-flatten-reverse-inheritance">rule-trf-cls-flatten-reverse-inheritance</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="uomSuffixSeparator"><a class="anchor" href="#uomSuffixSeparator"></a>2.4.48. uomSuffixSeparator</h4>
<div class="paragraph">
<p>(since v2.10)</p>
</div>
<div class="paragraph">
<p>Alias: <em>none</em></p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: "_"</p>
</div>
<div class="paragraph">
<p>Behavior: Defines the separator to be put between the name
of P and the uom symbol suffix in
subrule
<em>rule-trf-prop-flatten-measure-typed-properties-fixed-uom-suffix</em> of
<a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Subrule
<em>rule-trf-prop-flatten-measure-typed-properties-fixed-uom-suffix</em> of
<a href="./Flattener.html#rule-trf-prop-flatten-measure-typed-properties">rule-trf-prop-flatten-measure-typed-properties</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Sample_Configurations"><a class="anchor" href="#Sample_Configurations"></a>2.5. Sample Configurations</h3>
<div class="sect3">
<h4 id="Single_Transformation"><a class="anchor" href="#Single_Transformation"></a>2.5.1. Single Transformation</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre></td>
  <td class="code"><pre><span class="tag">&lt;Transformer</span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flat</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">targetNamespaceSuffix</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/flat</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">maxOccurs</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enforceOptionality</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Object,GM_Point,GM_MultiPoint,GM_Curve,GM_MultiCurve,GM_Surface,GM_MultiSurface,GM_Solid,GM_MultiSolid</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lowerCaseCodeForProperties</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">codeForEnumerationValues</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">removeType</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TypeMeta,FeatureAttMetadata</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">removePropertyNameAndCodeComponent</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">(?i)\.valueOrReason</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
        <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-all-removeType</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-ONINAs</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-optionality</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-cls-flatten-inheritance</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-multiplicity</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-all-flatten-constraints</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-all-flatten-name</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-remove-name-and-code-component</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
    <span class="tag">&lt;mapEntries&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CharacterString</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CI_Citation</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Real</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Measure</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_P</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_C</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Object</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Curve</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_S</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Object</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Surface</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Solid</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiPoint</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiCurve</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiSurface</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiSolid</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/mapEntries&gt;</span>
<span class="tag">&lt;/Transformer&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="Chain_of_Transformations"><a class="anchor" href="#Chain_of_Transformations"></a>2.5.2. Chain of Transformations</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
</pre></td>
  <td class="code"><pre><span class="tag">&lt;transformers&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeType</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">removeType</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TypeMeta,FeatureAttMetadata</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-all-removeType</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeObjectToFeatureTypeNavigability</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeType</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">removeObjectToFeatureNavRegex</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">^((?!Geometry).)*Info</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">includeObjectToObjectNavigability</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-removeObjectToFeatureTypeNavigability</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeNavigabilityBasedOnIsFlatTarget</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeObjectToFeatureTypeNavigability</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-removeNavigabilityBasedOnIsFlatTarget</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_constraints</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeNavigabilityBasedOnIsFlatTarget</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-all-flatten-constraints</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_codelists</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_constraints</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-codelists</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_oninas</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_codelists</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-ONINAs</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_inheritance</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_oninas</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-cls-flatten-inheritance</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_multiplicity</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_inheritance</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">maxOccurs</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-multiplicity</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_multiplicity</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ignoreReflexiveRelationshipInTypeFlattening</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
    <span class="tag">&lt;mapEntries&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CharacterString</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CI_Citation</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CharacterString</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CI_Address</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CharacterString</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CI_Contact</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Real</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Measure</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/mapEntries&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_name</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_types</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lowerCaseCodeForProperties</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-all-flatten-name</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeNameComp</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_name</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">removePropertyNameAndCodeComponent</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">(?i)\.valueOrReason</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-remove-name-and-code-component</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_homogGeom</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_removeNameComp</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;parameters&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">targetNamespaceSuffix</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/flat</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">separatorForGeometryTypeSuffix</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/parameters&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
    <span class="tag">&lt;mapEntries&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">P</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Curve</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Curve</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">S</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Surface</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Surface</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Solid</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiPoint</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiCurve</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiSurface</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;ProcessMapEntry</span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-homogeneousgeometries</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_MultiSolid</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/mapEntries&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
  <span class="tag">&lt;Transformer</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Transformation.Flattening.Flattener</span><span class="delimiter">&quot;</span></span>
<span class="error"> </span><span class="error"> </span><span class="error"> </span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_types_final</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">F_homogGeom</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;rules&gt;</span>
      <span class="tag">&lt;ProcessRuleSet</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">flattener</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-trf-prop-flatten-types</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/ProcessRuleSet&gt;</span>
    <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;/Transformer&gt;</span>
<span class="tag">&lt;/transformers&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>