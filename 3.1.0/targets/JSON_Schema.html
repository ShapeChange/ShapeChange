<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>JSON Schema</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="JSON_Schema" class="book toc2 toc-left">
<div id="header">
<h1>JSON Schema</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#Overview">1. Overview</a></li>
<li><a href="#Configuration">2. Configuration</a>
<ul class="sectlevel2">
<li><a href="#Class">2.1. Class</a></li>
<li><a href="#Conversion_Rules">2.2. Conversion Rules</a>
<ul class="sectlevel3">
<li><a href="#rule-json-all-documentation">2.2.1. rule-json-all-documentation</a></li>
<li><a href="#rule-json-all-featureRefs">2.2.2. rule-json-all-featureRefs</a></li>
<li><a href="#rule-json-all-notEncoded">2.2.3. rule-json-all-notEncoded</a></li>
<li><a href="#rule-json-cls-basictype">2.2.4. rule-json-cls-basictype</a></li>
<li><a href="#rule-json-cls-codelist-link">2.2.5. rule-json-cls-codelist-link</a></li>
<li><a href="#rule-json-cls-codelist-uri-format">2.2.6. rule-json-cls-codelist-uri-format</a></li>
<li><a href="#rule-json-cls-collectionsBasedOnEntityType">2.2.7. rule-json-cls-collectionsBasedOnEntityType</a></li>
<li><a href="#rule-json-cls-collectionsWithTopLevelEntityType">2.2.8. rule-json-cls-collectionsWithTopLevelEntityType</a></li>
<li><a href="#rule-json-cls-defaultGeometry-multipleGeometryProperties">2.2.9. rule-json-cls-defaultGeometry-multipleGeometryProperties</a></li>
<li><a href="#rule-json-cls-defaultGeometry-singleGeometryProperty">2.2.10. rule-json-cls-defaultGeometry-singleGeometryProperty</a></li>
<li><a href="#rule-json-cls-documentation-enumDescription">2.2.11. rule-json-cls-documentation-enumDescription</a></li>
<li><a href="#rule-json-cls-genericValueType">2.2.12. rule-json-cls-genericValueType</a></li>
<li><a href="#rule-json-cls-identifierForTypeWithIdentity">2.2.13. rule-json-cls-identifierForTypeWithIdentity</a></li>
<li><a href="#rule-json-cls-identifierStereotype">2.2.14. rule-json-cls-identifierStereotype</a></li>
<li><a href="#rule-json-cls-ignoreIdentifier">2.2.15. rule-json-cls-ignoreIdentifier</a></li>
<li><a href="#rule-json-cls-jsonFgGeometry">2.2.16. rule-json-cls-jsonFgGeometry</a></li>
<li><a href="#rule-json-cls-name-as-anchor">2.2.17. rule-json-cls-name-as-anchor</a></li>
<li><a href="#rule-json-cls-name-as-entityType">2.2.18. rule-json-cls-name-as-entityType</a></li>
<li><a href="#rule-json-cls-name-as-entityType-dataType">2.2.19. rule-json-cls-name-as-entityType-dataType</a></li>
<li><a href="#rule-json-cls-name-as-entityType-union">2.2.20. rule-json-cls-name-as-entityType-union</a></li>
<li><a href="#rule-json-cls-nestedProperties">2.2.21. rule-json-cls-nestedProperties</a></li>
<li><a href="#rule-json-cls-primaryGeometry">2.2.22. rule-json-cls-primaryGeometry</a></li>
<li><a href="#rule-json-cls-primaryPlace">2.2.23. rule-json-cls-primaryPlace</a></li>
<li><a href="#rule-json-cls-primaryTime">2.2.24. rule-json-cls-primaryTime</a></li>
<li><a href="#rule-json-cls-restrictExternalEntityTypeMember">2.2.25. rule-json-cls-restrictExternalEntityTypeMember</a></li>
<li><a href="#rule-json-cls-restrictExternalIdentifierMember">2.2.26. rule-json-cls-restrictExternalIdentifierMember</a></li>
<li><a href="#rule-json-cls-union-propertyCount">2.2.27. rule-json-cls-union-propertyCount</a></li>
<li><a href="#rule-json-cls-union-typeDiscriminator">2.2.28. rule-json-cls-union-typeDiscriminator</a></li>
<li><a href="#rule-json-cls-valueTypeOptions">2.2.29. rule-json-cls-valueTypeOptions</a></li>
<li><a href="#rule-json-cls-virtualGeneralization">2.2.30. rule-json-cls-virtualGeneralization</a></li>
<li><a href="#rule-json-prop-derivedAsReadOnly">2.2.31. rule-json-prop-derivedAsReadOnly</a></li>
<li><a href="#rule-json-prop-initialValueAsDefault">2.2.32. rule-json-prop-initialValueAsDefault</a></li>
<li><a href="#rule-json-prop-inlineOrByReferenceTag">2.2.33. rule-json-prop-inlineOrByReferenceTag</a></li>
<li><a href="#rule-json-prop-measure">2.2.34. rule-json-prop-measure</a></li>
<li><a href="#rule-json-prop-readOnly">2.2.35. rule-json-prop-readOnly</a></li>
<li><a href="#rule-json-prop-voidable">2.2.36. rule-json-prop-voidable</a></li>
</ul>
</li>
<li><a href="#Rule_execution_priority_and_dependencies">2.3. Rule execution priority and dependencies</a>
<ul class="sectlevel3">
<li><a href="#Code_lists">2.3.1. Code lists</a></li>
<li><a href="#Identifier">2.3.2. Identifier</a></li>
<li><a href="#Union">2.3.3. Union</a></li>
<li><a href="#Geometry">2.3.4. Geometry</a></li>
</ul>
</li>
<li><a href="#Parameters">2.4. Parameters</a>
<ul class="sectlevel3">
<li><a href="#baseJsonSchemaDefinitionForCollections">2.4.1. baseJsonSchemaDefinitionForCollections</a></li>
<li><a href="#baseJsonSchemaDefinitionForDataTypes">2.4.2. baseJsonSchemaDefinitionForDataTypes</a></li>
<li><a href="#baseJsonSchemaDefinitionForDataTypes_encodingInfos">2.4.3. baseJsonSchemaDefinitionForDataTypes_encodingInfos</a></li>
<li><a href="#baseJsonSchemaDefinitionForFeatureTypes">2.4.4. baseJsonSchemaDefinitionForFeatureTypes</a></li>
<li><a href="#baseJsonSchemaDefinitionForFeatureTypes_encodingInfos">2.4.5. baseJsonSchemaDefinitionForFeatureTypes_encodingInfos</a></li>
<li><a href="#baseJsonSchemaDefinitionForObjectTypes">2.4.6. baseJsonSchemaDefinitionForObjectTypes</a></li>
<li><a href="#baseJsonSchemaDefinitionForObjectTypes_encodingInfos">2.4.7. baseJsonSchemaDefinitionForObjectTypes_encodingInfos</a></li>
<li><a href="#byReferenceFormat">2.4.8. byReferenceFormat</a></li>
<li><a href="#byReferenceJsonSchemaDefinition">2.4.9. byReferenceJsonSchemaDefinition</a></li>
<li><a href="#collectionSchemaFileName">2.4.10. collectionSchemaFileName</a></li>
<li><a href="#defaultEncodingRule">2.4.11. defaultEncodingRule</a></li>
<li><a href="#entityTypeName">2.4.12. entityTypeName</a></li>
<li><a href="#featureCollectionOnly">2.4.13. featureCollectionOnly</a></li>
<li><a href="#featureRefIdTypes">2.4.14. featureRefIdTypes</a></li>
<li><a href="#featureRefProfiles">2.4.15. featureRefProfiles</a></li>
<li><a href="#featureRefWithAnyCollectionId">2.4.16. featureRefWithAnyCollectionId</a></li>
<li><a href="#genericValueTypes">2.4.17. genericValueTypes</a></li>
<li><a href="#geoJsonCompatibleGeometryTypes">2.4.18. geoJsonCompatibleGeometryTypes</a></li>
<li><a href="#idMemberEncodingRestrictions">2.4.19. idMemberEncodingRestrictions</a></li>
<li><a href="#inlineOrByReferenceDefault">2.4.20. inlineOrByReferenceDefault</a></li>
<li><a href="#jsonBaseUri">2.4.21. jsonBaseUri</a></li>
<li><a href="#jsonSchemaVersion">2.4.22. jsonSchemaVersion</a></li>
<li><a href="#linkObjectUri">2.4.23. linkObjectUri</a></li>
<li><a href="#lowerCaseCollectionIdsInRelAsKeyProfile">2.4.24. lowerCaseCollectionIdsInRelAsKeyProfile</a></li>
<li><a href="#measureObjectUri">2.4.25. measureObjectUri</a></li>
<li><a href="#objectIdentifierName">2.4.26. objectIdentifierName</a></li>
<li><a href="#objectIdentifierRequired">2.4.27. objectIdentifierRequired</a></li>
<li><a href="#objectIdentifierType">2.4.28. objectIdentifierType</a></li>
<li><a href="#outputDirectory">2.4.29. outputDirectory</a></li>
<li><a href="#prettyPrint">2.4.30. prettyPrint</a></li>
<li><a href="#preventUnknownTypesInFeatureCollection">2.4.31. preventUnknownTypesInFeatureCollection</a></li>
<li><a href="#sortedOutput">2.4.32. sortedOutput</a></li>
<li><a href="#schemaDefinitionForVoidable">2.4.33. schemaDefinitionForVoidable</a></li>
<li><a href="#useAnchorsInLinksToGeneratedSchemaDefinitions">2.4.34. useAnchorsInLinksToGeneratedSchemaDefinitions</a></li>
<li><a href="#writeMapEntries">2.4.35. writeMapEntries</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Map_Entries">3. Map Entries</a>
<ul class="sectlevel2">
<li><a href="#type">3.1. type</a></li>
<li><a href="#rule">3.2. rule</a></li>
<li><a href="#targetType">3.3. targetType</a></li>
<li><a href="#param">3.4. param</a>
<ul class="sectlevel3">
<li><a href="#Parameter_collectionInfos">3.4.1. Parameter: collectionInfos</a></li>
<li><a href="#Parameter_keywords">3.4.2. Parameter: keywords</a></li>
<li><a href="#Parameter_encodingInfos">3.4.3. Parameter: encodingInfos</a></li>
<li><a href="#Parameter_geometry">3.4.4. Parameter: geometry</a></li>
<li><a href="#Parameter_ignoreForTypeFromSchemaSelectedForProcessing">3.4.5. Parameter: ignoreForTypeFromSchemaSelectedForProcessing</a></li>
<li><a href="#Parameter_measure">3.4.6. Parameter: measure</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Annotations">4. JSON Schema Annotations</a></li>
<li><a href="#Configuration_Example">5. Configuration Example</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>(since v2.10.0)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Overview"><a class="anchor" href="#Overview"></a>1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This target derives a JSON Schema representation from an application
schema in UML.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A number of configuration options and extensions have been
implemented. They are documented in detail in the
<em><a href="https://docs.ogc.org/per/20-012.html">OGC UGAS-2020 Engineering
Report</a></em>. Another source of information is the
<a href="https://github.com/Geonovum/uml2json">UML to JSON Encoding Rules</a>
specification. The documents also explain which model transformations may need
to be applied before executing this target, for example to transform
association classes. Therefore, if you are looking for a complete
introduction of the conversion from UML to JSON Schema, read the
according chapter in the OGC Engineering Report as well as the other
specification first.
This page provides a quick reference of the available conversion rules,
parameters, and configuration elements.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuration"><a class="anchor" href="#Configuration"></a>2. Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Class"><a class="anchor" href="#Class"></a>2.1. Class</h3>
<div class="paragraph">
<p>The class for the Target implementation is
<em>de.interactive_instruments.ShapeChange.Target.JSON.JsonSchemaTarget.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="Conversion_Rules"><a class="anchor" href="#Conversion_Rules"></a>2.2. Conversion Rules</h3>
<div class="paragraph">
<p>The behavior for processing a model is primarily controlled through
conversion rules. In addition, parameters and other configuration
elements (like map entries) influence the way a schema is processed. An
encoding rule represents a specific set of conversion rules.</p>
</div>
<div class="paragraph">
<p>An encoding rule is defined by an &lt;EncodingRule&gt; element.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="tag">&lt;EncodingRule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myGeoJson</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">extends</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">defaultGeoJson</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-basictype</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-codelist-uri-format</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-name-as-entityType</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-union-propertyCount</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-valueTypeOptions</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/EncodingRule&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>name</strong> attribute of the &lt;EncodingRule&gt; element defines the
identifier of the encoding rule to be used in the
<a href="./JSON_Schema.html#defaultEncodingRule">defaultEncodingRule</a>
parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The encoding rules 'defaultGeoJson' and 'defaultPlainJson' are
pre-configured in ShapeChange. They can thus be used as-is, without the
need to explicitly define them in the configuration. They can also be
extended as required (see the example).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The optional <strong>extends</strong> attribute of the &lt;EncodingRule&gt; element includes
all rules from the referenced encoding rule in this encoding rule, too.</p>
</div>
<div class="paragraph">
<p>Each <strong>&lt;rule&gt;</strong> references either a conversion rule or - possibly in the
future - a <a href="../application schemas/UML_profile.html">requirement
or recommendation</a> to be tested before the conversion process.</p>
</div>
<div class="paragraph">
<p>This target supports the rules defined in the following subsections.</p>
</div>
<div class="sect3">
<h4 id="rule-json-all-documentation"><a class="anchor" href="#rule-json-all-documentation"></a>2.2.1. rule-json-all-documentation</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>With <em>rule-json-all-documentation</em>, descriptive information of application schema elements (packages, classes, and properties) can be encoded via JSON Schema <em>annotations</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p><em>Annotations</em> represent one category of JSON Schema keywords. <em>Annotations</em> attach information that applications may use as they see fit. The other categories are <em>assertions</em>, which validate that a JSON instance satisfies constraints, and <em>applicators</em>, which apply subschemas to parts of the instance and combine their results.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Descriptive information of a model element in ShapeChange, i.e., properties (attributes and association roles), classes, and packages, includes the pieces of information, called <em>descriptors</em>, that are documented in <a href="#table_descriptors">Table 1</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A model element can have all, a subset, or none of these descriptors.
</td>
</tr>
</table>
</div>
<table id="table_descriptors" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Well-known descriptors</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Descriptor Name<br>
(and ID)</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name<br>
(name)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the model element (as named in the source UML, i.e., using upper and lower camel case).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alias<br>
(alias)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An alternative, human-readable name for the model element.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition<br>
(definition)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The normative specification of the model element.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description<br>
(description)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Additional information about the model element.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation<br>
(documentation)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The overall documentation of the model element. May be structured, containing other descriptors (such as definition and description).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example(s)<br>
(example)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Example(s) illustrating the model element.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global identifier<br>
(globalIdentifier)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The globally unique identifier of the model element; that is, unique across models.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legal basis<br>
(legalBasis)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The legal basis for the model element.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data capture statement(s)<br>
(dataCaptureStatement)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Statement(s) describing how to capture instances of this model element from the real world.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary code<br>
(primaryCode)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The primary code for this model element.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The main code for a model element should be assigned to this descriptor. The primary code may be the only one. Optional additional tagged values may be added for other codes.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The descriptor ID is used in ShapeChange configuration elements that define JSON Schema annotations.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Typically, a community has a preferred way to model and encode this information. For example, one community may want to encode the description of a model element via the "description" annotation, while another may prefer to encode the values of multiple descriptors of a model element within a single "description" annotation.</p>
</div>
<div class="paragraph">
<p>ShapeChange can support this type of diversity through <em>JSON Schema annotation</em> elements. An annotation element specifies how the content of a specific JSON Schema annotation (that shall be generated while converting a model element) shall be constructed. The annotation element takes into account that a UML model element may not have an actual value for a descriptor, and that some descriptors can have multiple values, e.g., the descriptor <em>example</em>.</p>
</div>
<div class="paragraph">
<p>In addition to the well-known descriptors (see <a href="#table_descriptors">previous table</a>), additional descriptive information can be incorporated through UML tagged values from the application schema.</p>
</div>
<div class="paragraph">
<p>For details about configuring JSON Schema annotation elements, see <a href="#Annotations">JSON Schema Annotations</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-all-featureRefs"><a class="anchor" href="#rule-json-all-featureRefs"></a>2.2.2. rule-json-all-featureRefs</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This conversion rule overrides the default behavior of ShapeChange
when encoding property values by reference. The rule is meant to
support the encoding of feature references as proposed for
<em>OGC API - Features - Part 5: Schemas</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The proposal for <em>OGC API - Features - Part 5: Schemas</em> is
subject to change, and thus the conversion rule, as implemented,
may not fully reflect what is defined by that specification.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The conversion rule supports the following profiles, which define
how a feature reference is encoded in actual JSON data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rel-as-link - The feature reference is encoded as a link object.
ShapeChange automatically creates an <em>SCLinkObject</em> definition in
every generated JSON Schema where such a feature reference is used.
The definition only requires the "href" member to be present in
actual JSON data.</p>
</li>
<li>
<p>rel-as-uri - Encodes a feature reference as a simple string, with
the format being defined by target parameter
<a href="./JSON_Schema.html#byReferenceFormat">byReferenceFormat</a>.</p>
</li>
<li>
<p>rel-as-key - Encodes feature references with plain feature identifier,
possibly adding information about the collection id and a title.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The profile(s) to use are configured via target parameter
<a href="./JSON_Schema.html#featureRefProfiles">featureRefProfiles</a>.</p>
</div>
<div class="paragraph">
<p>Feature reference schema definitions for profile <code>rel-as-key</code> are constructed as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, ShapeChange determines if the feature reference is for an
external collection. This is indicated either via map entry <a href="#Parameter_collectionInfos">Parameter: collectionInfos</a>,
for cases in which the value type of a property is mapped, or via
tagged value <code>collectionUriTemplate</code> (defined on the property value type).
If a URI template is available, ShapeChange creates a JSON Schema
definition for an external feature reference.</p>
</li>
<li>
<p>ShapeChange then determines the collection ids applicable for the
property value type, i.e., the referenced feature type. If the type is
mapped, collection infos must be defined by the map entry. If these infos
are missing, the by reference encoding will be omitted (with a suitable
error message in the log). The collection infos define the collection ids
via characteristic <code>collectionIds</code>. If the type is not mapped, the collection
ids are given by the names of all non-abstract classes that are in the
subtype hierarchy of the type (including the type itself), with these
names being converted to lower case (unless target parameter
<a href="./JSON_Schema.html#lowerCaseCollectionIdsInRelAsKeyProfile">lowerCaseCollectionIdsInRelAsKeyProfile</a>
 is set to false). Note that in the future, additional
methods for determining the collection ids can be designed and implemented.</p>
</li>
<li>
<p>The type(s) of feature identifiers in these collections must also be
determined. For a mapped type, the identifier types are defined by map
entry characteristic <code>collectionIdTypes</code>. For all other cases, the applicable
identifier types are defined by target parameter
<a href="./JSON_Schema.html#featureRefIdTypes">featureRefIdTypes</a>.</p>
</li>
<li>
<p>With all this information available, ShapeChange can create the right
schema definition for a feature reference (all such definitions include
member "x-ogc-role": "reference"; examples are shown below):</p>
<div class="ulist">
<ul>
<li>
<p>If a URI template is available:</p>
<div class="ulist">
<ul>
<li>
<p>If the template does not contain variable
<code>{collectionId}</code>, then a schema for a simple external reference is
created. The schema contains a type definition with the determined
feature identifier types. The schema also contains the "x-ogc-uriTemplate"
member, with the template as value.</p>
</li>
<li>
<p>Otherwise, i.e. the template does contain variable
<code>{collectionId}</code>, then a more complex external reference schema is created,
defining a JSON object with required "collectionId" member (whose values
are restricted if one or more collection ids have been determined before),
required "featureId" member (whose type definition contains the determined
feature identifier types), and an optional "title" member (of type string).
The schema will also contain the "x-ogc-uriTemplate" member, with
the template as value. If one or more collection ids have been determined
before, the "x-ogc-collectionId" member is also added, to list these ids.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otherwise, i.e. no URI template is available:</p>
<div class="ulist">
<ul>
<li>
<p>If a single collection id was determined, and target parameter
<a href="./JSON_Schema.html#featureRefWithAnyCollectionId">featureRefWithAnyCollectionId</a>
is not set to true, then a schema for a simple feature reference is created.
The schema contains a type definition with the determined
feature identifier types.</p>
</li>
<li>
<p>Otherwise, a more complex reference schema is created,
defining a JSON object with required "collectionId" member (whose values
are restricted if target parameter
<a href="./JSON_Schema.html#featureRefWithAnyCollectionId">featureRefWithAnyCollectionId</a>
is not set to true, and one or more collection ids have been determined before),
required "featureId" member (whose type definition contains the determined
feature identifier types), and an optional "title" member (of type string).</p>
</li>
<li>
<p>In both cases, if target parameter
<a href="./JSON_Schema.html#featureRefWithAnyCollectionId">featureRefWithAnyCollectionId</a>
is not set to true, and one or more collection ids have been determined
before, the "x-ogc-collectionId" member is added, to list these ids.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><em>Simple reference schema</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-role</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-collectionId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">buildings</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Simple external reference schema</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-role</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-uriTemplate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.com/foo/bar/{featureId}</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Reference schema</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">object</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-role</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-collectionId</span><span class="delimiter">&quot;</span></span>: [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">roads</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">railways</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">waterways</span><span class="delimiter">&quot;</span></span>
  ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span>: [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">collectionId</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">featureId</span><span class="delimiter">&quot;</span></span>
  ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collectionId</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">enum</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">roads</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">railways</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">waterways</span><span class="delimiter">&quot;</span></span>
      ]
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">featureId</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
      ]
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>External reference schema</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">object</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-role</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">x-ogc-uriTemplate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.com/foo/{collectionId}/bar/{featureId}</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span>: [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">collectionId</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">featureId</span><span class="delimiter">&quot;</span></span>
  ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collectionId</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">featureId</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-all-notEncoded"><a class="anchor" href="#rule-json-all-notEncoded"></a>2.2.3. rule-json-all-notEncoded</h4>
<div class="paragraph">
<p>This conversion rule suppresses the conversion to JSON Schema of any
model elements (more specifically: application schemas, classes, and
properties) for which the "jsonEncodingRule" tag is set to "notEncoded".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The encoding rule "notEncoded" is defined in the standard rules,
which can be included in the target configuration via:
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>&lt;xi:include
href="https://shapechange.net/resources/config/StandardRules.xml" /&gt;</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-basictype"><a class="anchor" href="#rule-json-cls-basictype"></a>2.2.4. rule-json-cls-basictype</h4>
<div class="paragraph">
<p>If a direct or indirect supertype of an application schema class is
mapped to one of the simple JSON Schema types <em>string</em>, <em>number</em>,
<em>integer</em>, or <em>boolean</em>, then under <em>rule-json-cls-basictype</em> that class
represents a so called <em>basic type</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Uses of the stereotype «BasicType» with application schema classes are ignored by this conversion rule.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A basic type does not define a JSON object. It represents a simple data
value, e.g. a string. The JSON Schema definition of a basic type thus
defines a simple JSON Schema type. A basic type can be restricted using
a number of JSON Schema keywords. The following table defines which
tagged values can be used to define these restrictions for a basic type,
and which restrictions are available for which simple JSON Schema type.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 42.8571%;">
<col style="width: 28.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">JSON Schema keyword</th>
<th class="tableblock halign-left valign-top">tagged value to define the restriction</th>
<th class="tableblock halign-left valign-top">applicable
JSON Schema type(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jsonFormat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string, number, integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>length</em>, <em>maxLength</em>, or <em>size</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">minLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>minLength</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>jsonPattern</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimum<br>
(inclusive)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rangeMinimum</em> or <em>minInclusive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number, integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exclusiveMinimum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>minExclusive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number, integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum<br>
(inclusive)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>rangeMaximum</em> or <em>maxInclusive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number, integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exclusiveMaximum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>maxExclusive</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number, integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-json-cls-codelist-link"><a class="anchor" href="#rule-json-cls-codelist-link"></a>2.2.5. rule-json-cls-codelist-link</h4>
<div class="paragraph">
<p>This rule results in the conversion of a code list as a reference to the
JSON Schema defining a link object. That reference must explicitly be
configured using the target parameter
<a href="./JSON_Schema.html#linkObjectUri">linkObjectUri</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-codelist-uri-format"><a class="anchor" href="#rule-json-cls-codelist-uri-format"></a>2.2.6. rule-json-cls-codelist-uri-format</h4>
<div class="paragraph">
<p>With this rule, all code lists are represented by a JSON Schema that
restricts the type to "string", and states that the "format" is "uri"
(as defined by
<a href="https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-02#autoid-46">JSON
Schema validation, section 7.3.5</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-collectionsBasedOnEntityType"><a class="anchor" href="#rule-json-cls-collectionsBasedOnEntityType"></a>2.2.7. rule-json-cls-collectionsBasedOnEntityType</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule creates collection schemas for feature types.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Object types are ignored. Such types can be transformed to feature types
(using the TypeConverter
<a href="../transformations/Type_Converter.html#rule-trf-objectTypesToFeatureTypes">rule-trf-objectTypesToFeatureTypes</a>),
if they should be treated like feature types in the JSON encoding.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
It is assumed that the content model of all relevant feature types contains an
entity type member (e.g., "featureType", "type", "properties/type"), which
identifies the name of the type of the encoded object. If no such entity type
member is available for one of the feature types of a collection definition,
ShapeChange will log an error and ignore that feature type when creating the
collection definition. The collection definition is not created if all of the
feature types are ignored.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The entity type member can be defined via a MapEntry for one of the
supertypes for a class, via target parameter <a href="./JSON_Schema.html#baseJsonSchemaDefinitionForFeatureTypes_encodingInfos">baseJsonSchemaDefinitionForFeatureTypes_encodingInfos</a>,
or generated via <a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a>.</p>
</li>
<li>
<p>The collection encoding supports objects with different entity type
member paths.</p>
</li>
<li>
<p>Via <a href="./JSON_Schema.html#rule-json-cls-collectionsWithTopLevelEntityType">rule-json-cls-collectionsWithTopLevelEntityType</a>, the conversion
can be altered to support cases in which the entity type member is
not set per object, but on the collection level for all objects. Of
course, this only makes sense if all objects in a collection are of the
same type.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The rule creates the following collection schema definitions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A general "FeatureCollection" schema for all non-abstract feature types.</p>
</li>
<li>
<p>One collection schema for each feature type (abstract and non-abstract).
Each of these schemas defines a uniform collection, i.e. a collection
that only has objects of a specific feature type (or subtypes thereof).
The collection name is <code>{feature type name} + 'Collection'</code>. Example: BuildingCollection.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The generation of the uniform collections can be suppressed using
target parameter <a href="./JSON_Schema.html#featureCollectionOnly">featureCollectionOnly</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The JSON Schema files to which the collection definitions are
added are determined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, the FeatureCollection schema will be added to the JSON Schema document
that is created for the main schema package (for further details, see the
description of input parameter <a href="../get started/The_element_input.html#mainAppSchema">mainAppSchema</a>).
The other collection schemas will be added to the JSON Schema documents that contain
the definition of the respective feature type. If only a single application
schema is processed, and all classes are encoded in a single JSON Schema document,
then all collection schemas will be defined in that document.</p>
</li>
<li>
<p>If target parameter
<a href="./JSON_Schema.html#collectionSchemaFileName">collectionSchemaFileName</a>
has a non-empty value, all collection schema definitions are added
to a new JSON Schema document with the name given by the parameter. The file
will be located in the same directory as determined for the main schema package.
The $id of the new JSON Schema document is created using the $id for
the main schema package as a basis. If that id ends with ".json", only the substring
until the last "/" is used as basis. The value of target parameter
collectionSchemaFileName is appended (using "/" as join character, unless the basis
already ends with that character).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Two aspects play an important role when creating the collection schema:
a base collection schema as well as how the actual member checks are defined.</p>
</div>
<div class="paragraph">
<p>The base collection schema is determined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The conversion is based upon the assumption that the members of a collection are
encoded in a JSON array.</p>
</li>
<li>
<p>The target parameter <a href="./JSON_Schema.html#baseJsonSchemaDefinitionForCollections">baseJsonSchemaDefinitionForCollections</a>,
if set, gives a reference to the base collection schema (which will be included
in a particular collection schema using the "allOf" member). An example value would be
<a href="https://geojson.org/schema/FeatureCollection.json" class="bare">https://geojson.org/schema/FeatureCollection.json</a> - to reference the GeoJSON
feature collection schema.</p>
<div class="ulist">
<ul>
<li>
<p>If the parameter is not set, or has no value, it is
assumed that collections are encoded as simple JSON arrays, without any
further structure (which can be useful in a plain JSON encoding).</p>
</li>
<li>
<p>If the parameter is set, then it is assumed that the JSON member that contains
the array of collection members is the top-level "features" member. This is
compatible with the GeoJSON feature collection. In the future, the path to that
JSON member can be made configurable.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The member check is realized as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Within the general "FeatureCollection", the check is realized using an "allOf", which bundles a number of if-then-constraints:</p>
<div class="ulist">
<ul>
<li>
<p>One if-then-constraint per non-abstract feature type. The if-part checks the value of the entity type member against the name of the feature type. The then-part references the JSON Schema definition of the feature type.</p>
</li>
<li>
<p>By default, the FeatureCollection allows objects of unknown type.
Such objects are not validated, since none of the previously described if-constraints
will match them.
In order to forbid unknown members in a collection, set target parameter
<a href="./JSON_Schema.html#preventUnknownTypesInFeatureCollection">preventUnknownTypesInFeatureCollection</a>
to "true". In that case, another if-then-constraint is added:</p>
<div class="ulist">
<ul>
<li>
<p>if-part:</p>
<div class="ulist">
<ul>
<li>
<p>If the paths to the entity type members of all the feature types are equal: not-constraint
with the path to the entity type member and enum with the names of the feature types.</p>
</li>
<li>
<p>Otherwise, i.e. the entity type member paths are not all equal: not-constraint with oneOf,
with one schema per entity type member path, and an enum with the names of the feature types
whose entity type member is at that path.</p>
</li>
</ul>
</div>
</li>
<li>
<p>then-part: simply <code>false</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>For uniform collections, it depends on the represented feature type:</p>
<div class="ulist">
<ul>
<li>
<p>In case the feature type is a supertype:</p>
<div class="ulist">
<ul>
<li>
<p>The member check is created using an "allOf" with a number of if-then-constraints,
one per non-abstract class (in the set consisting of the feature types as
well as its direct and indirect subtypes) - much like it is done for the
general "FeatureCollection".</p>
</li>
<li>
<p>An additional if-then-constraint is used to validate objects of unknown type.
However, other than for the general "FeatureCollection", here we have an actual
schema to work with: that of the collection&#8217;s feature type.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otherwise, the feature type is a leaf class. In that case, the collection
member check simply consists of a reference to the JSON Schema definition of
the feature type.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-collectionsWithTopLevelEntityType"><a class="anchor" href="#rule-json-cls-collectionsWithTopLevelEntityType"></a>2.2.8. rule-json-cls-collectionsWithTopLevelEntityType</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Extends <a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a>
to support cases in which the entity type member is not set per object,
but on the collection level for all objects. This rule should only be
applied if the assumption then is that all objects in the collection
are of the same type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In order for rule-json-cls-collectionsWithTopLevelEntityType
to work as expected,
<a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a>
should be part of the encoding rule as well.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This rule further assumes that
<a href="./JSON_Schema.html#baseJsonSchemaDefinitionForCollections">baseJsonSchemaDefinitionForCollections</a>
is set, and that the base collection schema contains a top-level
"featureType" member, which, if set, identifies the type of all
collection members. In the following, that member is called
<em>collection-featuretype-member</em>.</p>
</div>
<div class="paragraph">
<p>In order for the assumed mechanism to work in practice, it is
necessary that both the collection-featuretype-member as well
as the entity type members of collection member feature types
are optional.</p>
</div>
<div class="paragraph">
<p>The implementation of the collection schemas created by
<a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a>
for the general "FeatureCollection" and the uniform collections for supertypes
is extended. In the collection definition, the first "allOf" schema -
which links the base schema defined by parameter
<a href="./JSON_Schema.html#baseJsonSchemaDefinitionForCollections">baseJsonSchemaDefinitionForCollections</a>
with the member checks - is modified, so that the second schema
consists of an if-then-else constraint:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The if-part checks via <code>"required": ["featureType"]</code> if the
collection-featuretype-member is present in a given collection object. Note
that the actual value is not checked here, including if the value is null.
The mere presence of the collection-featuretype-member is assumed to
indicate that it conveys the feature type name of all collection members.</p>
</li>
<li>
<p>The then-part contains an "allOf" with a number of if-then-constraints:</p>
<div class="ulist">
<ul>
<li>
<p>For each relevant non-abstract feature type, an if-then-constraint
is created, which checks the value of the collection-featuretype-member
against the name of the feature type. The then-part contains a
reference to the JSON Schema definition created for that feature type.</p>
</li>
<li>
<p>Similar to <a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a>,
a final if-then-constraint is created (though for the general "FeatureCollection",
only if target parameter
<a href="./JSON_Schema.html#preventUnknownTypesInFeatureCollection">preventUnknownTypesInFeatureCollection</a>
is set to "true"). The constraint checks in the if-part that the
collection-featuretype-member value is not equal to a name of one
of the feature types. In the case of the general "FeatureCollection"
(with target parameter preventUnknownTypesInFeatureCollection
not being "true"), the then-part is then simply <code>false</code>. In case
of a uniform collection for a supertype, the then-part is a
reference to the schema of the collection feature type.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The else part of the if-then-else constraint contains the member
check as created by
<a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a>
(assuming that the entity type member is present for each
collection member).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The encoding of uniform collections for leaf classes in
rule-json-cls-collectionsBasedOnEntityType does not need to be
extended, since it is completely independent of any entity type
member checks.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-defaultGeometry-multipleGeometryProperties"><a class="anchor" href="#rule-json-cls-defaultGeometry-multipleGeometryProperties"></a>2.2.9. rule-json-cls-defaultGeometry-multipleGeometryProperties</h4>
<div class="paragraph">
<p>This conversion rule is typically used in case that a) a GeoJSON
compliant encoding shall be created, and b) for application schemas with
classes that have multiple geometry properties.</p>
</div>
<div class="paragraph">
<p>With this rule, a geometry property is identified as default geometry by
setting tagged value <em>defaultGeometry</em> on the property to the value
<code>true</code>. That property will then be encoded as a top-level "geometry"
member. If multiple such properties exist (potentially inherited), none
of them is selected as default geometry (because no informed choice can
be made) and an error will be logged.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
(since v2.14.0) If the default geometry property is optional or voidable,
then the schema restriction for the "geometry" member will define a choice
- using the "oneOf" JSON Schema keyword - between a null value and
the geometry schema definition for the value type of the geometry property
(e.g., a GeoJSON Polygon in case of the property value type being GM_Surface).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
(since v2.14.0) If the geometry type of the default geometry property is NOT
one of those defined by target parameter
<a href="./JSON_Schema.html#geoJsonCompatibleGeometryTypes">geoJsonCompatibleGeometryTypes</a>,
then the constraint for the "geometry" member will NOT be created.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-defaultGeometry-singleGeometryProperty"><a class="anchor" href="#rule-json-cls-defaultGeometry-singleGeometryProperty"></a>2.2.10. rule-json-cls-defaultGeometry-singleGeometryProperty</h4>
<div class="paragraph">
<p>This conversion rule is typically used in case that a) a GeoJSON
compliant encoding shall be created, and b) for application schemas with
classes that have at most one geometry property.</p>
</div>
<div class="paragraph">
<p>With this rule, the geometry property of a class represents the default
geometry, and is encoded as the top-level "geometry" member. If a class
has multiple - potentially inherited - geometry properties with
different names, none of them is selected as default geometry (because
no informed choice can be made) and ShapeChange will log an error.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
(since v2.14.0) If the default geometry property is optional or voidable,
then the schema restriction for the "geometry" member will define a choice
- using the "oneOf" JSON Schema keyword - between a null value and
the geometry schema definition for the value type of the geometry property
(e.g., a GeoJSON Polygon in case of the property value type being GM_Surface).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
(since v2.14.0) If the geometry type of the default geometry property is NOT
one of those defined by target parameter
<a href="./JSON_Schema.html#geoJsonCompatibleGeometryTypes">geoJsonCompatibleGeometryTypes</a>,
then the constraint for the "geometry" member will NOT be created.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-documentation-enumDescription"><a class="anchor" href="#rule-json-cls-documentation-enumDescription"></a>2.2.11. rule-json-cls-documentation-enumDescription</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule extends
<em><a href="./JSON_Schema.html#rule-json-all-documentation">rule-json-all-documentation</a></em>
by creating a new "enumDescription" annotation within the JSON Schema definition
of an enumeration, with one member per encoded enum. The name of such a member
is the initial value of the enum, if available, otherwise the enum name. The
member value is a JSON object with annotation members created by applying the
configured <a href="./JSON_Schema.html#Annotations">JSON Schema annotations</a> to the
enum. Note that if none of the annotation definitions creates an annotation
value for the enum, then the JSON object will be empty.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-genericValueType"><a class="anchor" href="#rule-json-cls-genericValueType"></a>2.2.12. rule-json-cls-genericValueType</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Some domains use constructs like the one shown in
<a href="#img_jsonschema_generic_value_types">Figure 1</a>
to add extension points to their feature types. The generic attributes
shown in this example contain a name and a (simple) value. They provide
a specific place for additional key-value-pair based information.</p>
</div>
<div id="img_jsonschema_generic_value_types" class="imageblock text-center">
<div class="content">
<img src="./../images/ldp2_specificrules_genericvaluetypes.png" alt="ldp2 specificrules genericvaluetypes">
</div>
<div class="title">Figure 1. Example schema with generic value types</div>
</div>
<div class="paragraph">
<p>There is a specific solution for supporting such structures in JSON.</p>
</div>
<div class="paragraph">
<p>The according conversion is enabled using <em>rule-json-cls-genericValueType</em>.
The conversion rule is applied for a «dataType» whose name is contained in the
(comma-separated) value of target parameter
<a href="./JSON_Schema.html#genericValueTypes">genericValueTypes</a>.
The subtypes will automatically be taken into account as well.
For example: <code>genericValueTypes=GenerAttribute</code></p>
</div>
<div class="paragraph">
<p>The JSON Schema definition for GenerAttribute, in plain JSON encoding, would be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JSON"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td>
  <td class="code"><pre>{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">$schema</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://json-schema.org/draft/2019-09/schema</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">$defs</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">GenerAttribute</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">object</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span>]
        }
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>
      ]
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Only the plain type information from the value types of the common value
property of the subtypes contributes to the type definition of the according
JSON property. Any JSON Schema format keywords, defined for such value types,
are ignored.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>rule-json-cls-genericValueType</em> only looks for a single attribute that
is common to all subtypes of the classes identified by target
parameter <em>genericValueTypes</em>. Additional properties of these subtypes are ignored!
Also, if multiple common properties exist, all will be ignored (and an error logged)!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The resulting JSON definition of GenerAttribute supports encoding of
values for any of the actual subtypes of GenerAttribute.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The JSON Schema definition allows for type checks and is more
expressive than the definition that would be created by default for just
GenerAttribute (with only the "name" attribute defined).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-identifierForTypeWithIdentity"><a class="anchor" href="#rule-json-cls-identifierForTypeWithIdentity"></a>2.2.13. rule-json-cls-identifierForTypeWithIdentity</h4>
<div class="paragraph">
<p>With <em>rule-json-cls-identifierForTypeWithIdentity</em>, an identifier JSON
member will be added to the JSON object that represents a type with
identity (feature type or object type). The key and value type of that
member can be configured using ShapeChange JSON Schema target
parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="./JSON_Schema.html#objectIdentifierName">objectIdentifierName</a></em>:
"id" (the default) or any other suitable string that does not conflict
with other member names);</p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#objectIdentifierType">objectIdentifierType</a></em>:
"string" (the default), "number", or "string, number";</p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#objectIdentifierRequired">objectIdentifierRequired</a></em>:
"false" (the default) or "true" is used to define if the property is
optional or required.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-identifierStereotype"><a class="anchor" href="#rule-json-cls-identifierStereotype"></a>2.2.14. rule-json-cls-identifierStereotype</h4>
<div class="paragraph">
<p>This conversion rule assumes that all types with identity (feature type
or object type) have an attribute with stereotype «identifier»
(directly, or inherited from a supertype). That attribute is used to
encode the identifier. The rule is typically used in conjunction with
<a href="./JSON_Schema.html#rule-json-cls-ignoreIdentifier">rule-json-cls-ignoreIdentifier</a>,
in order to detect identifier properties and not encode them (e.g.
because a JSON Schema that applies to all types with identity already
defines an identifier member).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the maximum multiplicity of an «identifier» attribute is
greater than 1, ShapeChange will log an error.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-ignoreIdentifier"><a class="anchor" href="#rule-json-cls-ignoreIdentifier"></a>2.2.15. rule-json-cls-ignoreIdentifier</h4>
<div class="paragraph">
<p>With this rule, the identifier of a type with identity (feature type or
object type) will be encoded using an identifier member that is provided
by a common base type (e.g. the "id" member of a GeoJSON Feature, to
which a generalization relationship exists for a given feature type -
see
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em>).
That means that no additional identifier property is created.
<em><a href="./JSON_Schema.html#rule-json-cls-identifierForTypeWithIdentity">rule-json-cls-identifierForTypeWithIdentity</a></em>
is therefore overridden by
<em><a href="./JSON_Schema.html#rule-json-cls-ignoreIdentifier">rule-json-cls-ignoreIdentifier</a></em>.
Also, all identifier properties that are identified by
<em><a href="./JSON_Schema.html#rule-json-cls-identifierStereotype">rule-json-cls-identifierStereotype</a></em>
- if also included in the encoding rule - will simply be ignored when
encoding the type with identity.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-jsonFgGeometry"><a class="anchor" href="#rule-json-cls-jsonFgGeometry"></a>2.2.16. rule-json-cls-jsonFgGeometry</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule takes into account the different options for encoding
geometry values in JSON-FG features. The primary geometry property
(identified via
<a href="./JSON_Schema.html#rule-json-cls-primaryGeometry">rule-json-cls-primaryGeometry</a>,
<a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-multipleGeometryProperties">rule-json-cls-defaultGeometry-multipleGeometryProperties</a>,
or <a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-singleGeometryProperty">rule-json-cls-defaultGeometry-singleGeometryProperty</a>)
is encoded as JSON Schema constraints for the geometry and / or place members as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the geometry type of the primary geometry property is one of those defined
by target parameter <a href="./JSON_Schema.html#geoJsonCompatibleGeometryTypes">geoJsonCompatibleGeometryTypes</a>:
The JSON Schema constraint for the geometry type is created for both the
"geometry" and the "place" member. A null value is allowed for both members.</p>
</li>
<li>
<p>Otherwise: The JSON Schema constraint for the geometry type is only created for
the "place" member. A null value is only allowed for that member, if the primary
geometry property is optional.</p>
<div class="ulist">
<ul>
<li>
<p>NOTE: In this case, no specific constraints are created for the "geometry" member.
When publishing data, for example in the GeoJSON compatibility mode, the
publisher can thus choose a suitable way of deriving a value for the "geometry"
member from the geometry that is encoded in the "place" member.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
At the moment, this rule is only applicable for application schemas that
do not define a secondary geometry! Issue
<a href="https://github.com/ShapeChange/ShapeChange/issues/344">344</a> documents how the rule
can be enhanced to support schemas with secondary geometry as well. That approach
has not been implemented yet.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-name-as-anchor"><a class="anchor" href="#rule-json-cls-name-as-anchor"></a>2.2.17. rule-json-cls-name-as-anchor</h4>
<div class="paragraph">
<p>With <em>rule-json-cls-name-as-anchor</em>, the name of a class is encoded as
an "$anchor", which is added at the start of the schema definition of
the class (within the definitions schema). Schema definitions that have
an "$anchor" can be referenced using the plain text value of the anchor
as fragment identifier, instead of using a more complex JSON Pointer.
However, pay attention to target parameter
<a href="./JSON_Schema.html#useAnchorsInLinksToGeneratedSchemaDefinitions">useAnchorsInLinksToGeneratedSchemaDefinitions</a>
and what is written in its documentation about the support of anchors
in schema references.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The "$anchor" keyword was added in JSON Schema draft 2019-09. It
replaces the somewhat ambiguous use of the "$id" keyword in JSON Schema
draft 07 to define plain name fragment identifiers for subschemas.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-name-as-entityType"><a class="anchor" href="#rule-json-cls-name-as-entityType"></a>2.2.18. rule-json-cls-name-as-entityType</h4>
<div class="paragraph">
<p>The rule adds another JSON member to the JSON object which represents
the class (a feature or object type) that is being converted. The
name of the JSON member can be configured using the target parameter
<em><a href="./JSON_Schema.html#entityTypeName">entityTypeName</a></em>.
The JSON member is required and string-valued. It should be used to
encode the name of the type that is represented by the JSON object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Since ShapeChange v2.14.0, this rule no longer applies to data types.
The change was made for GeoJSON based applications where data type values
are not converted to RDF/OWL using JSON-LD, and no entity type member checks
are needed/encoded for JSON objects that represent data types.
However, by adding
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType-dataType">rule-json-cls-name-as-entityType-dataType</a></em>
to the encoding rule, entity type members can still be created for data types.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An example for the benefit of encoding the type name in JSON objects is
given in
<a href="https://docs.ogc.org/per/18-091r2.html#JSON_LD">chapter 6 of
the OGC Testbed-14: Application Schemas and JSON Technologies
Engineering Report</a>: Having a key within a JSON object with a string
value that identifies the type of the object allows that object to be
mapped to RDF. More specifically, the string value can be mapped to an
IRI that identifies the type of an RDFS resource.</p>
</div>
<div class="paragraph">
<p>There are also some cases in which
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>
is ignored or conditional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To prevent the addition of unnecessary JSON members (here: because the
JSON member would already be inherited), the rule is ignored for a type
T if T is a subtype and
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>
already applies to one of its supertypes.</p>
</li>
<li>
<p>By default, the rule does not apply to mixins, data types, unions, enumerations, and code
lists.<br>
However, if
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType-union">rule-json-cls-name-as-entityType-union</a></em>
is enabled together with
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>,
then the latter also applies to unions. Likewise for data types (with
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType-dataType">rule-json-cls-name-as-entityType-dataType</a></em>).</p>
</li>
<li>
<p>Since v2.14.0, encoding infos from external schemas - either from a base schema or from
a supertype that is mapped to an external schema - can inform about the presence of an
entity type member in the external schema. If such an external schema applies to a given
type, then this conversion rule is ignored for that type.</p>
<div class="ulist">
<ul>
<li>
<p>The base schema assignment is enabled via <em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em> (and the target parameters identified there), and encoding infos for the base schema can be given via the target parameters <em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForDataTypes_encodingInfos">baseJsonSchemaDefinitionForDataTypes_encodingInfos</a></em>,
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForObjectTypes_encodingInfos">baseJsonSchemaDefinitionForObjectTypes_encodingInfos</a></em>, and <em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForFeatureTypes_encodingInfos">baseJsonSchemaDefinitionForFeatureTypes_encodingInfos</a></em>.</p>
</li>
<li>
<p>Type mappings are documented <a href="./JSON_Schema.html#Map_Entries">here</a>. The encoding infos of a mapped type
are conveyed via map entry parameter <a href="./JSON_Schema.html#Parameter_encodingInfos">encodingInfos</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-name-as-entityType-dataType"><a class="anchor" href="#rule-json-cls-name-as-entityType-dataType"></a>2.2.19. rule-json-cls-name-as-entityType-dataType</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>If this rule is enabled together with
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>,
then the latter also applies to data types.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-name-as-entityType-union"><a class="anchor" href="#rule-json-cls-name-as-entityType-union"></a>2.2.20. rule-json-cls-name-as-entityType-union</h4>
<div class="paragraph">
<p>If this rule is enabled together with
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>,
then the latter also applies to unions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType-union">rule-json-cls-name-as-entityType-union</a></em>
has been implemented because with
<em><a href="./JSON_Schema.html#rule-json-cls-union-propertyCount">rule-json-cls-union-propertyCount</a></em>
unions are converted to JSON objects. The
<a href="../targets/ontology/UML_to_RDF_OWL_based_on_ISO_IS_19150_2.html">ontology
target of ShapeChange</a> encodes a union as a class, with cardinality
restrictions to ensure that only one option (defined by the union) is
used. For further details, also see the
<a href="https://docs.ogc.org/per/16-020.html#rdf_cr_class_union">OGC
Testbed-12 ShapeChange Engineering Report</a>. This is an argument for
applying
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>
to unions, because it would support a JSON-LD based mapping to the union
class in RDF/OWL.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-nestedProperties"><a class="anchor" href="#rule-json-cls-nestedProperties"></a>2.2.21. rule-json-cls-nestedProperties</h4>
<div class="paragraph">
<p>By default, the properties of a type with identity (feature type or
object type) are converted to first-level properties of the resulting
JSON object. In GeoJSON, feature properties are encoded within the
GeoJSON "properties" member. Notable exceptions from that rule are the
GeoJSON members "id", "geometry", and "bbox". In order to produce a JSON
Schema that converts the properties of a type with identity to be
encoded within a nested "properties" member - minus any properties that
are mapped to the other aforementioned GeoJSON keys - the conversion
rule <em>rule-json-cls-nestedProperties</em> needs to be included in the
encoding rule.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-primaryGeometry"><a class="anchor" href="#rule-json-cls-primaryGeometry"></a>2.2.22. rule-json-cls-primaryGeometry</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule can be used to identify which UML property of a
«FeatureType» should be encoded as a schema constraint for
the top-level "geometry" member, and to create such a constraint.
The rule can be applied when creating a GeoJSON-compliant encoding.</p>
</div>
<div class="paragraph">
<p>If a UML property has tag <em>jsonPrimaryGeometry</em> with value
equal to, ignoring case, "true", and the property is directly
owned (i.e., not inherited) by a «FeatureType», then that property
is encoded as the <em>primary geometry</em> of the feature type.</p>
</div>
<div class="paragraph">
<p>If the set of (direct and inherited, but ignoring redefined)
UML properties of a «FeatureType» only contains a single UML
property with a geometric type, and that property is directly
owned by the feature type, and that property does not have tag
<em>jsonPrimaryGeometry</em> with value equal to, ignoring case, "false",
then that property is encoded as the primary geometry of the
feature type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
That a property has a geometric type, i.e., a geometry as
value type, can be determined if the
property value type is mapped, and the map entry contains parameter
<em><a href="./JSON_Schema.html#Parameter_geometry">geometry</a></em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the JSON Schema definition of the «FeatureType», the primary
geometry property is encoded as a type restriction for the top-level
"geometry" member. The primary geometry property itself is then
not encoded within the normal properties of the JSON object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the primary geometry property is optional or voidable,
then the schema restriction for the "geometry" member will define a choice
- using the "oneOf" JSON Schema keyword - between a null value and
the geometry schema definition for the value type of the geometry property
(e.g., a GeoJSON Polygon in case of the property value type being GM_Surface).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the geometry type of the primary geometry property is NOT
one of those defined by target parameter
<a href="./JSON_Schema.html#geoJsonCompatibleGeometryTypes">geoJsonCompatibleGeometryTypes</a>,
then the constraint for the "geometry" member will NOT be created.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In instance data, the value of the primary geometry property
must be encoded within the (GeoJSON) top-level "geometry" member
of the JSON object that represents the «FeatureType».</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule overrides
<em><a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-multipleGeometryProperties">rule-json-cls-defaultGeometry-multipleGeometryProperties</a></em> and
<em><a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-singleGeometryProperty">rule-json-cls-defaultGeometry-singleGeometryProperty</a></em>
for cases in which the encoded type is a feature type.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-primaryPlace"><a class="anchor" href="#rule-json-cls-primaryPlace"></a>2.2.23. rule-json-cls-primaryPlace</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule is useful to restrict the value of the JSON-FG
"place" member. The conversion behavior is as follows:</p>
</div>
<div class="paragraph">
<p>A UML property that is owned by a
«FeatureType» and that has tag <em>jsonPrimaryPlace</em> with
value equal to, ignoring case, "true", is encoded
as a type restriction for the top-level "place" member.
The UML property is not encoded within the normal properties
of the JSON object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the UML property is optional or voidable,
then the schema restriction for the "place" member will define a choice
- using the "oneOf" JSON Schema keyword - between a null value and
the geometry schema definition for the value type of the UML property
(e.g., a JSON-FG Polygon in case of the property value type being GM_Surface).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In instance data, the value of such a property must be
encoded within the (JSON-FG) top-level "place" member of the
JSON object that represents the «FeatureType».
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-primaryTime"><a class="anchor" href="#rule-json-cls-primaryTime"></a>2.2.24. rule-json-cls-primaryTime</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule is useful to restrict the value of the JSON-FG
feature "time" member. The conversion rule identifies the primary
instant and interval properties of a «FeatureType».
Depending upon the characteristics of the identified properties,
a JSON Schema restriction is created for the top-level "time" member.</p>
</div>
<div class="paragraph">
<p><strong>Primary instant determination:</strong></p>
</div>
<div class="paragraph">
<p>A UML property that is owned by a «FeatureType» and
that has tag <em>jsonPrimaryInstant</em> with value equal to,
ignoring case, "true", shall not be encoded within the
"properties" member. Instead, it shall be encoded as a
restriction for the top-level "time" member. How the
restriction is encoded also depends on the presence of
a primary interval (as explained in the following).
The details for the "time" restriction encoding are given
further below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In instance data, the value of such a property must be
encoded within the (JSON-FG) top-level time/date or time/timestamp
member of the JSON object that represents the «FeatureType».
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Primary interval determination:</strong></p>
</div>
<div class="paragraph">
<p>A UML property that is owned by a «FeatureType» and that has
tag <em>jsonPrimaryInterval</em> with value equal to, ignoring case,
one of the allowed values "start", "end", or "interval", must
not be encoded within the "properties" member. Instead, it is
encoded as a restriction for the top-level "time" member. How the
restriction is encoded also depends on the presence of
a primary instant (as explained before).
The details for the "time" restriction encoding are given
further below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The value types of UML properties that represent
or contribute to the primary interval should be compatible
with that use. For example, properties marked as primary
interval start or end can have value type "Date", "DateTime",
or "TM_Instant", whereas a property marked as primary interval
can have value type "TM_Period". However, the target does not
check or enforce these value types (because of the possibility of
suitable custom value types being used in an application schema).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In instance data, the value of properties that represent
or constitute to the primary interval must be encoded within
the (JSON-FG) time/interval member of the JSON object that
represents the «FeatureType».
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Constraints of a «FeatureType» regarding primary instant and interval:</strong></p>
</div>
<div class="paragraph">
<p>A «FeatureType» must satisfy the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At most one of the direct properties has tag <em>jsonPrimaryInstant</em> = "true".</p>
</li>
<li>
<p>At most one of the direct properties has tag <em>jsonPrimaryInterval</em> = "interval".</p>
</li>
<li>
<p>At most one of the direct properties has tag <em>jsonPrimaryInterval</em> = "start".</p>
</li>
<li>
<p>At most one of the direct properties has tag <em>jsonPrimaryInterval</em> = "end".</p>
</li>
<li>
<p>The use of "interval" and "start"/"end" are mutually exclusive within
the direct properties of the «FeatureType»: If one direct property has
tag <em>jsonPrimaryInterval</em> = "interval", none of the direct properties
must have tag <em>jsonPrimaryInterval</em> equal to "start" or "end".
Likewise, if one direct property has tag <em>jsonPrimaryInterval</em> equal
to "start" or "end", none of the direct properties must have
tag <em>jsonPrimaryInterval</em> = "interval".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The target will log errors if these conditions are not fulfilled.</p>
</div>
<div class="paragraph">
<p><strong>Restriction of the "time" member:</strong></p>
</div>
<div class="paragraph">
<p>The restriction encoding depends upon the characteristics of the
primary instant and interval properties, more specifically, whether
they are optional or required.</p>
</div>
<div class="paragraph">
<p>If the primary interval is given via interval start and/or end properties,
the optionality of the primary interval is determined as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Primary Interval Start</p></th>
<th class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Primary Interval End</p></th>
<th class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Result (primary interval is optional or required)</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The encoding - depending upon the optionality of
primary instant and primary interval - is identified
in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Primary Instant</p></th>
<th class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Primary Interval</p></th>
<th class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Encoding</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no restriction is necessary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oneof: (null, required time/interval)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required time/interval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oneof: (null, required time/date, required time/timestamp)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oneof: (required time/date, required time/timestamp)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no restriction is necessary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required time/interval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oneof: (required time/date, required time/timestamp)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allof: (required time/interval, (oneof: required time/date, required time/timestamp))</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-json-cls-restrictExternalEntityTypeMember"><a class="anchor" href="#rule-json-cls-restrictExternalEntityTypeMember"></a>2.2.25. rule-json-cls-restrictExternalEntityTypeMember</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule can be used to restrict the entity type member that
the JSON Schema definition of a class (feature, object, or data type)
receives through an external JSON Schema definition,
either through mapping of a direct supertype to such a schema definition, or by
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em>.</p>
</div>
<div class="paragraph">
<p>The only restriction right now is to make the entity type member
a required property.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The according constraint is only defined for the last
segment of the entity type member path.</p>
</div>
<div class="paragraph">
<p>The restrictions are only defined in
the JSON Schema definition of the class that directly "inherits" the
external JSON Schema definition (thereby avoiding duplicate constraints
in JSON Schema definitions of potentially existing subtypes of that class).</p>
</div>
<div class="paragraph">
<p>The restriction of the entity type member will not be encoded in
case that the encoding infos for the external JSON
Schema definition (given via map entry or the target parameters
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForFeatureTypes_encodingInfos">baseJsonSchemaDefinitionForFeatureTypes_encodingInfos</a></em>,
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForObjectTypes_encodingInfos">baseJsonSchemaDefinitionForObjectTypes_encodingInfos</a></em>, or
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForDataTypes_encodingInfos">baseJsonSchemaDefinitionForDataTypes_encodingInfos</a></em>)
indicate that the restriction would be superfluous.
The log will inform the user about such a situation.</p>
</div>
<div class="paragraph">
<p>The rule does not apply if the entity type member was generated by
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-restrictExternalIdentifierMember"><a class="anchor" href="#rule-json-cls-restrictExternalIdentifierMember"></a>2.2.26. rule-json-cls-restrictExternalIdentifierMember</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule can be used to restrict the identifier member that
the JSON Schema definition of a class (feature, object, or data type)
receives through an external JSON Schema definition,
either through mapping of a direct supertype to such a schema definition, or by
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em>.
The restrictions are defined by parameter <em><a href="./JSON_Schema.html#idMemberEncodingRestrictions">idMemberEncodingRestrictions</a></em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The restrictions are only defined in the JSON Schema definition of
the class that directly "inherits" the external JSON Schema
definition (thereby avoiding duplicate constraints in JSON Schema
definitions of potentially existing subtypes of that class).</p>
</div>
<div class="paragraph">
<p>Restrictions for the identifier member (concerning its type, format, obligation),
defined by target parameter <em>idMemberEncodingRestrictions</em>,
will not be encoded in case that the encoding infos for the external JSON
Schema definition (given via map entry or the target parameters
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForFeatureTypes_encodingInfos">baseJsonSchemaDefinitionForFeatureTypes_encodingInfos</a></em>,
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForObjectTypes_encodingInfos">baseJsonSchemaDefinitionForObjectTypes_encodingInfos</a></em>, or
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForDataTypes_encodingInfos">baseJsonSchemaDefinitionForDataTypes_encodingInfos</a></em>)
indicate that such restrictions would be incompatible or superfluous.
The log will inform the user about such a situation.</p>
</div>
<div class="paragraph">
<p>The rule does not apply if the identifier member was generated by
<em><a href="./JSON_Schema.html#rule-json-cls-identifierForTypeWithIdentity">rule-json-cls-identifierForTypeWithIdentity</a></em> or
<em><a href="./JSON_Schema.html#rule-json-cls-identifierStereotype">rule-json-cls-identifierStereotype</a></em>.
But note that both of these rules are ignored if <em><a href="./JSON_Schema.html#rule-json-cls-ignoreIdentifier">rule-json-cls-ignoreIdentifier</a></em> applies, in case of which
<em>rule-json-cls-restrictExternalIdentifierMember</em> indeed does apply.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-union-propertyCount"><a class="anchor" href="#rule-json-cls-union-propertyCount"></a>2.2.27. rule-json-cls-union-propertyCount</h4>
<div class="paragraph">
<p>With this rule, a «union» is converted to the JSON Schema definition
of a JSON object. Each union option is represented as an optional member
of the JSON object. The choice between the options defined by the union
is encoded using "maxProperties" = "minProperties" = 1. That is, the
number of members that are allowed for the JSON object is restricted to
exactly one.</p>
</div>
<div class="paragraph">
<p>An <code>"additionalProperties": false</code> is used to prevent any undefined
properties.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-union-typeDiscriminator"><a class="anchor" href="#rule-json-cls-union-typeDiscriminator"></a>2.2.28. rule-json-cls-union-typeDiscriminator</h4>
<div class="paragraph">
<p>With this rule, a «union» is converted to a JSON Schema definition
that represents a choice between the value types of the union
properties.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value types are only simple, without a specific format
definition, then the JSON Schema will only contain a "type" member, with
an array of the simple types.</p>
</li>
<li>
<p>Otherwise, a "oneOf" member is added to the JSON Schema definition,
with:</p>
<div class="ulist">
<ul>
<li>
<p>one "$ref" per non-simple type,</p>
</li>
<li>
<p>one "type" for all simple types without specific format, and</p>
</li>
<li>
<p>one "type" per simple type with specific format.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-valueTypeOptions"><a class="anchor" href="#rule-json-cls-valueTypeOptions"></a>2.2.29. rule-json-cls-valueTypeOptions</h4>
<div class="paragraph">
<p>This rule looks for tagged value <em>valueTypeOptions</em> on a class (that is
not a basic type, enumeration, or code list). If the tag exists and has
a value, it defines which types are allowed as value type for a given
UML property of the class. Note that this UML property can be directly
defined on the class but also be inherited from a supertype. The
property can also originally have been an association role that belonged
to an association class. The conversion rule ensures that instead of the
actual value type of the property, only one of the allowed types is
encoded as type definition in the JSON Schema. The conversion also takes
into account that the property may have been a role of an association
class. The restriction to a set of allowed types uses an if-then-else
construct, which depends on the presence of a type identifying member in
property values, and thus <em>rule-json-cls-valueTypeOptions</em> should always
be used in combination
with <em>rule-<a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">json-cls-name-as-entityType</a></em>.
Note that value type restrictions (defined on a subtype) of inherited
UML properties will result in these properties being explicitly defined
in the JSON Schema definition of the subtype.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Value type options can be parsed from OCL constraints using
transformation
<a href="../transformations/Constraint_Converter.html#rule-trf-cls-constraints-valueTypeRestrictionToTV-exclusion">rule-trf-cls-constraints-valueTypeRestrictionToTV-exclusion</a>
of the Constraint Converter.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-cls-virtualGeneralization"><a class="anchor" href="#rule-json-cls-virtualGeneralization"></a>2.2.30. rule-json-cls-virtualGeneralization</h4>
<div class="paragraph">
<p>It is often useful to encode all classes with a certain stereotype with
a common base type. The generalization relationship to such a base type
is often implied with the stereotype, for a given encoding. In GML, for
example, the common base type for classes with stereotype
«featureType» is gml:AbstractFeature. Rather than explicitly modeling
such a base type (e.g. <em>AnyFeature</em> defined by ISO 19109), as well as
explicitly modeling generalization relationships to the base type, the
encoding rule typically takes care of adding that relationship to
relevant schema types.</p>
</div>
<div class="paragraph">
<p>This kind of virtual generalization is supported via
<em>rule-json-cls-virtualGeneralization</em>. The rule adds generalization
relationships to specific kinds of classes - if a) according ShapeChange
JSON Schema target parameters have been set, and b) the class does not
already have that generalization relationship via one of its supertypes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>feature type - configuration parameter
<a href="./JSON_Schema.html#baseJsonSchemaDefinitionForFeatureTypes"><em>baseJsonSchemaDefinitionForFeatureTypes</em></a></p>
</li>
<li>
<p>object type - configuration parameter
<a href="./JSON_Schema.html#baseJsonSchemaDefinitionForObjectTypes"><em>baseJsonSchemaDefinitionForObjectTypes</em></a></p>
</li>
<li>
<p>data type - configuration parameter
<a href="./JSON_Schema.html#baseJsonSchemaDefinitionForDataTypes"><em>baseJsonSchemaDefinitionForDataTypes</em></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The parameter value shall be a URI to reference the JSON Schema that
defines the common base type. For example, in order for all feature
types to use the GeoJSON Feature definition as common base, set
<code>baseJsonSchemaDefinitionForFeatureTypes = <a href="https://geojson.org/schema/Feature.json" class="bare">https://geojson.org/schema/Feature.json</a></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The parameters do not have a default value. If a parameter is not
set or does not have a value, then <em>rule-json-cls-virtualGeneralization</em>
will not have an effect for the kind of class (feature, object, or data
type) for which the parameter applies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The virtual generalization relationship is implemented by converting the
class to a JSON Schema that consists of an "allOf" with two subschemas:
the first being a "$ref" with the URI defined by the target parameter,
the second being the schema produced by applying the other conversion
rules to the class (the only exception being
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-anchor">rule-json-cls-name-as-anchor</a></em>,
because the "$anchor" created by that rule is not encoded in the second
subschema, but in the schema that contains the "allOf").</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-prop-derivedAsReadOnly"><a class="anchor" href="#rule-json-prop-derivedAsReadOnly"></a>2.2.31. rule-json-prop-derivedAsReadOnly</h4>
<div class="paragraph">
<p>With this rule, a UML property marked as derived will be encoded with
<code>"readOnly": true</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-prop-initialValueAsDefault"><a class="anchor" href="#rule-json-prop-initialValueAsDefault"></a>2.2.32. rule-json-prop-initialValueAsDefault</h4>
<div class="paragraph">
<p>With this rule, the JSON Schema definition of a UML attribute that has
an initial value, is not owned by an enumeration or code list, and whose
value type is mapped to "string", "number", or "boolean", will include
the "default" annotation with that value.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The value of the annotation can have any JSON value type. The
initial value is encoded accordingly: quoted, if the property type is
"string", unquoted if the property type is "number", and true if the
property type is "boolean" and the initial value is equal to, ignoring
case, "true"; otherwise the value will be false. Theoretically, the
default value can also be a JSON array or object, but that cannot be
represented in UML and thus is not a relevant use case.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-prop-inlineOrByReferenceTag"><a class="anchor" href="#rule-json-prop-inlineOrByReferenceTag"></a>2.2.33. rule-json-prop-inlineOrByReferenceTag</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>This rule overrides target parameter
<em><a href="./JSON_Schema.html#inlineOrByReferenceDefault">inlineOrByReferenceDefault</a></em>,
by defining the default value for tag <em>inlineOrByReference</em> of
a UML property, for cases in which the tag is undefined or has an
empty value, and the value type is a type with identity that is
not implemented as a simple JSON Schema type. The default tag value then is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>inline</em>, in case that the UML property is an attribute, and</p>
</li>
<li>
<p><em>byReference</em>, in case that the UML property is an association role.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-prop-measure"><a class="anchor" href="#rule-json-prop-measure"></a>2.2.34. rule-json-prop-measure</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>With this rule, a property whose value type is one of the ISO 19103
measure types - as indicated via map entries with parameter
<em><a href="./JSON_Schema.html#Parameter_measure">measure</a></em> - is encoded
as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If tagged value <em>unit</em> is defined on the UML property, with a
non-blank value, then member "type" with value "number", and
member "unit", with value being the value of tag <em>unit</em>, are encoded
in the JSON Schema definition of the property.</p>
</li>
<li>
<p>Otherwise, i.e., tag <em>unit</em> is undefined on the property,
member "$ref" is added to the definition, with value being defined by
target parameter
<em><a href="./JSON_Schema.html#measureObjectUri">measureObjectUri</a></em>. The
referenced schema defines the structure of a measure object.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-prop-readOnly"><a class="anchor" href="#rule-json-prop-readOnly"></a>2.2.35. rule-json-prop-readOnly</h4>
<div class="paragraph">
<p>With this rule, the JSON Schema definition of a UML property that is
read only or fixed will include the "readOnly" annotation with JSON
value true.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-json-prop-voidable"><a class="anchor" href="#rule-json-prop-voidable"></a>2.2.36. rule-json-prop-voidable</h4>
<div class="paragraph">
<p>With this rule, the JSON Schema of a UML property with stereotype
«voidable», or with tagged value <em>nillable</em> = true, is defined in a
way that only allows either a null value or a(n array of) actual
value(s).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the UML property has maximum multiplicity 1, then a simple "type"
restriction with value "null" is added to the type definition that is
produced for the property.</p>
</li>
<li>
<p>Otherwise - the maximum multiplicity is greater than 1 - a choice
(encoded using the "oneOf" keyword) between a "null" value and an array
of actual values will be created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since v3.1.0: If target parameter <em>schemaDefinitionForVoidable</em> is set,
a JSON Schema reference is encoded instead of the null value type, with
the parameter value as reference value.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Rule_execution_priority_and_dependencies"><a class="anchor" href="#Rule_execution_priority_and_dependencies"></a>2.3. Rule execution priority and dependencies</h3>
<div class="paragraph">
<p>Some of the conversion rules supported by this target address the same
conversion aspects. When conflicting conversion rules are included in
the encoding rule, ShapeChange usually only executes one of them. This
section documents the execution priorities and dependencies of rules
that address the same conversion aspects.</p>
</div>
<div class="sect3">
<h4 id="Code_lists"><a class="anchor" href="#Code_lists"></a>2.3.1. Code lists</h4>
<div class="paragraph">
<p>The default behavior for encoding code lists is overridden whenever
either
<a href="./JSON_Schema.html#rule-json-cls-codelist-link">rule-json-cls-codelist-link</a>
or
<a href="./JSON_Schema.html#rule-json-cls-codelist-uri-format">rule-json-cls-codelist-uri-format</a>
is in the encoding rule.</p>
</div>
<div class="paragraph">
<p>These conversion rules are executed with the following priority:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="./JSON_Schema.html#rule-json-cls-codelist-uri-format">rule-json-cls-codelist-uri-format</a></p>
</li>
<li>
<p><a href="./JSON_Schema.html#rule-json-cls-codelist-link">rule-json-cls-codelist-link</a></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="Identifier"><a class="anchor" href="#Identifier"></a>2.3.2. Identifier</h4>
<div class="paragraph">
<p>With
<a href="./JSON_Schema.html#rule-json-cls-identifierForTypeWithIdentity">rule-json-cls-identifierForTypeWithIdentity</a>,
an identifier member can be added to the JSON Schema representation of a
type with identity (feature type or object type). That rule will be
ignored if
<a href="./JSON_Schema.html#rule-json-cls-ignoreIdentifier">rule-json-cls-ignoreIdentifier</a>
also applies to the type with identity.</p>
</div>
</div>
<div class="sect3">
<h4 id="Union"><a class="anchor" href="#Union"></a>2.3.3. Union</h4>
<div class="paragraph">
<p>The rules for converting unions are executed with the following
priority:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./JSON_Schema.html#rule-json-cls-union-typeDiscriminator">rule-json-cls-union-typeDiscriminator</a></p>
</li>
<li>
<p><a href="./JSON_Schema.html#rule-json-cls-union-propertyCount">rule-json-cls-union-propertyCount</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="Geometry"><a class="anchor" href="#Geometry"></a>2.3.4. Geometry</h4>
<div class="paragraph">
<p>When determining if a UML property of a «FeatureType» should
be encoded as a restriction of the top-level "geometry" member,
and otherwise be ignored (i.e., not encoded in the normal properties of
the JSON object),
<em><a href="./JSON_Schema.html#rule-json-cls-primaryGeometry">rule-json-cls-primaryGeometry</a></em>
overrides (i.e., has a higher priority than)
<em><a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-multipleGeometryProperties">rule-json-cls-defaultGeometry-multipleGeometryProperties</a></em> and
<em><a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-singleGeometryProperty">rule-json-cls-defaultGeometry-singleGeometryProperty</a></em>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Parameters"><a class="anchor" href="#Parameters"></a>2.4. Parameters</h3>
<div class="paragraph">
<p>This target supports the parameters defined in the following
subsections.</p>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForCollections"><a class="anchor" href="#baseJsonSchemaDefinitionForCollections"></a>2.4.1. baseJsonSchemaDefinitionForCollections</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URI</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Reference to the JSON Schema definition which shall be
used as base schema for collection definitions generated by
<em><a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a></em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForDataTypes"><a class="anchor" href="#baseJsonSchemaDefinitionForDataTypes"></a>2.4.2. baseJsonSchemaDefinitionForDataTypes</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URI</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Reference to the JSON Schema definition which shall be
added to a data type in order to represent an additional generalization
relationship under
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForDataTypes_encodingInfos"><a class="anchor" href="#baseJsonSchemaDefinitionForDataTypes_encodingInfos"></a>2.4.3. baseJsonSchemaDefinitionForDataTypes_encodingInfos</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Provides additional information about the JSON structure
that is represented by the JSON Schema definition given by parameter
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForDataTypes">baseJsonSchemaDefinitionForDataTypes</a></em>.
The additional information can be relevant for creating a JSON encoding
for data types (e.g., restricting an entity type member).</p>
</div>
<div class="paragraph">
<p>The value of this parameter follows the structure of the the map entry
parameter <em><a href="./JSON_Schema.html#Parameter_encodingInfos">encodingInfos</a></em>.
The semicolon is used as separator. However, no curly braces are used. Example:</p>
</div>
<div class="paragraph">
<p><code>&lt;TargetParameter name="baseJsonSchemaDefinitionForDataTypes_encodingInfos" value="entityTypeMemberPath=type;entityTypeMemberRequired=false"/&gt;</code></p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalEntityTypeMember">rule-json-cls-restrictExternalEntityTypeMember</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalIdentifierMember">rule-json-cls-restrictExternalIdentifierMember</a></em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForFeatureTypes"><a class="anchor" href="#baseJsonSchemaDefinitionForFeatureTypes"></a>2.4.4. baseJsonSchemaDefinitionForFeatureTypes</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URI</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Reference to the JSON Schema definition which shall be
added to a feature type in order to represent an additional
generalization relationship under
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForFeatureTypes_encodingInfos"><a class="anchor" href="#baseJsonSchemaDefinitionForFeatureTypes_encodingInfos"></a>2.4.5. baseJsonSchemaDefinitionForFeatureTypes_encodingInfos</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Provides additional information about the JSON structure
that is represented by the JSON Schema definition given by parameter
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForFeatureTypes">baseJsonSchemaDefinitionForFeatureTypes</a></em>.
The additional information can be relevant for creating a JSON encoding
for feature types (e.g., restricting an entity type member).</p>
</div>
<div class="paragraph">
<p>The value of this parameter follows the structure of the the map entry
parameter <em><a href="./JSON_Schema.html#Parameter_encodingInfos">encodingInfos</a></em>.
The semicolon is used as separator. However, no curly braces are used. Example:</p>
</div>
<div class="paragraph">
<p><code>&lt;TargetParameter name="baseJsonSchemaDefinitionForFeatureTypes_encodingInfos" value="entityTypeMemberPath=featureType;entityTypeMemberRequired=false;idMemberPath=id;idMemberTypes=string,number;idMemberRequired=false"/&gt;</code></p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalEntityTypeMember">rule-json-cls-restrictExternalEntityTypeMember</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalIdentifierMember">rule-json-cls-restrictExternalIdentifierMember</a></em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForObjectTypes"><a class="anchor" href="#baseJsonSchemaDefinitionForObjectTypes"></a>2.4.6. baseJsonSchemaDefinitionForObjectTypes</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URI</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Reference to the JSON Schema definition which shall be
added to an object type in order to represent an additional
generalization relationship under
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-virtualGeneralization">rule-json-cls-virtualGeneralization</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="baseJsonSchemaDefinitionForObjectTypes_encodingInfos"><a class="anchor" href="#baseJsonSchemaDefinitionForObjectTypes_encodingInfos"></a>2.4.7. baseJsonSchemaDefinitionForObjectTypes_encodingInfos</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Provides additional information about the JSON structure
that is represented by the JSON Schema definition given by parameter
<em><a href="./JSON_Schema.html#baseJsonSchemaDefinitionForObjectTypes">baseJsonSchemaDefinitionForObjectTypes</a></em>.
The additional information can be relevant for creating a JSON encoding
for object types (e.g., restricting an entity type member).</p>
</div>
<div class="paragraph">
<p>The value of this parameter follows the structure of the the map entry
parameter <em><a href="./JSON_Schema.html#Parameter_encodingInfos">encodingInfos</a></em>.
The semicolon is used as separator. However, no curly braces are used. Example:</p>
</div>
<div class="paragraph">
<p><code>&lt;TargetParameter name="baseJsonSchemaDefinitionForObjectTypes_encodingInfos" value="entityTypeMemberPath=type;entityTypeMemberRequired=false;idMemberPath=id;idMemberTypes=string;idMemberRequired=false"/&gt;</code></p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalEntityTypeMember">rule-json-cls-restrictExternalEntityTypeMember</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalIdentifierMember">rule-json-cls-restrictExternalIdentifierMember</a></em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="byReferenceFormat"><a class="anchor" href="#byReferenceFormat"></a>2.4.8. byReferenceFormat</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Enum (one of "uri" and "uri-reference")</p>
</div>
<div class="paragraph">
<p>Default Value: "uri"</p>
</div>
<div class="paragraph">
<p>Explanation: Defines the format for the "by reference" encoding
of a UML property, in case that target parameter
<a href="./JSON_Schema.html#byReferenceJsonSchemaDefinition">byReferenceJsonSchemaDefinition</a>
is not set.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): The parameter applies both for the
<em>default behavior</em> of encoding "by reference", as well as for
<a href="./JSON_Schema.html#rule-json-all-featureRefs">rule-json-all-featureRefs</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="byReferenceJsonSchemaDefinition"><a class="anchor" href="#byReferenceJsonSchemaDefinition"></a>2.4.9. byReferenceJsonSchemaDefinition</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URI</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: References a JSON Schema definition which shall be used to
encode the value of a UML property "by reference", i.e. somehow link to
the actual value. That is relevant for cases in which tag
<em>inlineOrByReference</em> of the UML property (taking into account target
parameter
<a href="./JSON_Schema.html#inlineOrByReferenceDefault">inlineOrByReferenceDefault</a>)
has value <em>byReference</em> or <em>inlineOrByReference</em>. By setting this
parameter, the default encoding for the "by reference" case - which is
"type": "string", and "format" with value defined by
parameter
<a href="./JSON_Schema.html#byReferenceFormat">byReferenceFormat</a> -
can be overridden.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none - default behavior</em></p>
</div>
</div>
<div class="sect3">
<h4 id="collectionSchemaFileName"><a class="anchor" href="#collectionSchemaFileName"></a>2.4.10. collectionSchemaFileName</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: The name of the file to which all collection definitions
shall be added, for example "collections.json".
If the file name does not end with ".json", that suffix
is added to the file name.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If target parameter <a href="./JSON_Schema.html#featureCollectionOnly">featureCollectionOnly</a>
is set to "true", then only the general feature collection is generated.
In that case, also a "$ref" to the definition of the general feature
collection is added to the collection schema (when encoded in a separate
file using target parameter <em>collectionSchemaFileName</em>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="defaultEncodingRule"><a class="anchor" href="#defaultEncodingRule"></a>2.4.11. defaultEncodingRule</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: *</p>
</div>
<div class="paragraph">
<p>Explanation: The identifier of the default encoding rule governing the
conversion to JSON Schema. To use a custom encoding rule defined in the
configuration, simply provide the name of the custom encoding rule via
this parameter.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none</em> - default behavior</p>
</div>
</div>
<div class="sect3">
<h4 id="entityTypeName"><a class="anchor" href="#entityTypeName"></a>2.4.12. entityTypeName</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: "entityType"</p>
</div>
<div class="paragraph">
<p>Explanation: The name of the JSON member to be added to a JSON object in
order to encode the type represented by that object.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-name-as-entityType">rule-json-cls-name-as-entityType</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="featureCollectionOnly"><a class="anchor" href="#featureCollectionOnly"></a>2.4.13. featureCollectionOnly</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Explanation: If this parameter is set to "true", then only
the general feature collection is created. The uniform
collections (one per feature type) are not created.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="featureRefIdTypes"><a class="anchor" href="#featureRefIdTypes"></a>2.4.14. featureRefIdTypes</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String - one of "string", "integer", or a (comma-separated)
combination thereof.</p>
</div>
<div class="paragraph">
<p>Default Value: "integer"</p>
</div>
<div class="paragraph">
<p>Explanation: The type of feature identifiers in non-external collection(s).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In future, more sophisticated ways of determining the feature
identifier type can be designed and implemented.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-all-featureRefs">rule-json-all-featureRefs</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="featureRefProfiles"><a class="anchor" href="#featureRefProfiles"></a>2.4.15. featureRefProfiles</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String - one of "rel-as-link", "rel-as-uri", "rel-as-key", or a (comma-separated)
combination thereof.</p>
</div>
<div class="paragraph">
<p>Default Value: "rel-as-link"</p>
</div>
<div class="paragraph">
<p>Explanation: Defines the profiles to support for encoding
feature references. If multiple profiles are chosen, a choice
using the "oneOf" JSON Schema keyword is created.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Pay attention that when "rel-as-uri" and "rel-as-key" are combined,
then there is a danger of overlapping type definitions, in case that key-based
references only consist of the feature id and the type of that id also is a
string. In that case, JSON data may not be valid against the resulting JSON Schema,
since the oneOf would not be satisfied for each case of a string-encoded feature id.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-all-featureRefs">rule-json-all-featureRefs</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="featureRefWithAnyCollectionId"><a class="anchor" href="#featureRefWithAnyCollectionId"></a>2.4.16. featureRefWithAnyCollectionId</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Explanation: True if non-external feature references shall not restrict the value
of the "collectionId" member, else false.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-all-featureRefs">rule-json-all-featureRefs</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="genericValueTypes"><a class="anchor" href="#genericValueTypes"></a>2.4.17. genericValueTypes</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: (comma-separated list of) string(s)</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Identifies the classes that represent the roots of generic
value type inheritance trees, which shall be encoded as defined by
<em>rule-json-cls-genericValueType</em>.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-genericValueType">rule-json-cls-genericValueType</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="geoJsonCompatibleGeometryTypes"><a class="anchor" href="#geoJsonCompatibleGeometryTypes"></a>2.4.18. geoJsonCompatibleGeometryTypes</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: (comma-separated list of) String(s)</p>
</div>
<div class="paragraph">
<p>Default Value: GM_Point, GM_Curve, GM_Surface, GM_MultiPoint, GM_MultiCurve, GM_MultiSurface</p>
</div>
<div class="paragraph">
<p>Explanation: Set of types (typically from ISO 19107), that are defined
as being compatible with GeoJSON geometry types. Geometric properties
that have one of these types can be encoded as JSON Schema constraints
for the geometry-member.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-singleGeometryProperty">rule-json-cls-defaultGeometry-singleGeometryProperty</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-defaultGeometry-multipleGeometryProperties">rule-json-cls-defaultGeometry-multipleGeometryProperties</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-primaryGeometry">rule-json-cls-primaryGeometry</a></em></p>
</li>
<li>
<p><em><a href="./JSON_Schema.html#rule-json-cls-jsonFgGeometry">rule-json-cls-jsonFgGeometry</a></em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="idMemberEncodingRestrictions"><a class="anchor" href="#idMemberEncodingRestrictions"></a>2.4.19. idMemberEncodingRestrictions</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type:</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Can be used to restrict the identifier member
that is incorporated from an external JSON Schema definition.
The value is a semicolon-separated list of restrictions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>typeRestriction: For restricting the type of the
ID member. The value is either "string", "number", or "integer".</p>
</li>
<li>
<p>formatRestriction: For restricting the format of the
ID member. The value is a comma-separated list of values for
JSON Schema keyword "format".</p>
</li>
<li>
<p>memberRequired: The presence of this key (i.e., without a specific value)
defines that the ID member shall be declared as a required property.
Note that the according constraint is only defined for the last
segment of the ID member path.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example: <code>&lt;TargetParameter name="idMemberEncodingRestrictions" value="typeRestriction=string;formatRestriction=uuid;memberRequired"/&gt;</code></p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em><a href="./JSON_Schema.html#rule-json-cls-restrictExternalIdentifierMember">rule-json-cls-restrictExternalIdentifierMember</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="inlineOrByReferenceDefault"><a class="anchor" href="#inlineOrByReferenceDefault"></a>2.4.20. inlineOrByReferenceDefault</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Enumeration, one of "inline", "byReference", "inlineOrByReference"</p>
</div>
<div class="paragraph">
<p>Default Value: "byReference"</p>
</div>
<div class="paragraph">
<p>Explanation: Defines the default value for tag <em>inlineOrByReference</em> of
a UML property, in case that tag is undefined or has an empty value for
the property.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
(since v2.14.0) This parameter is ignored for a given UML property, if
<em><a href="./JSON_Schema.html#rule-json-prop-inlineOrByReferenceTag">rule-json-prop-inlineOrByReferenceTag</a></em> is in the encoding rule that applies to that
property.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none - default behavior</em></p>
</div>
</div>
<div class="sect3">
<h4 id="jsonBaseUri"><a class="anchor" href="#jsonBaseUri"></a>2.4.21. jsonBaseUri</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URI</p>
</div>
<div class="paragraph">
<p>Default Value: http://example.org/FIXME</p>
</div>
<div class="paragraph">
<p>Explanation: The base URI, used to construct the value of the "$id"
members of resulting JSON Schemas.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the tagged value <em>jsonBaseUri</em> of an application schema has a
non empty value, then that value will be used as base URI for all JSON
Schemas produced for the content of that application schema.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>(since v2.14.0) If the application schema has tagged value <em>jsonId</em> with a
non empty value, then that value will be used as value of the "$id"
member, <strong>overruling</strong> the default mechanism of constructing that value
using the template <code>{jsonBaseUri}/{jsonDirectory}/{jsonDocument}</code>.</p>
</div>
<div class="paragraph">
<p>Also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The file name given in tag <em>jsonDocument</em> should match the file
name in the <em>jsonId</em> (if the path of the URI given there contains
a file name). However, it is not required to do this, if the file is
re-named during the publication process.</p>
</li>
<li>
<p>If tag <em>jsonDocument</em> is set on sub-packages of the application
schema, then tag <em>jsonId</em> should also be set for those packages.
Otherwise, the fallback of schema-ID creation using the template
(see above) would be applied.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none - default behavior</em></p>
</div>
</div>
<div class="sect3">
<h4 id="jsonSchemaVersion"><a class="anchor" href="#jsonSchemaVersion"></a>2.4.22. jsonSchemaVersion</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Enumeration, one of "2020-12", "2019-09", "draft-07", "OpenApi30"</p>
</div>
<div class="paragraph">
<p>Default Value: "2019-09"</p>
</div>
<div class="paragraph">
<p>Explanation: Specifies the version of the resulting JSON Schemas.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none - default behavior</em></p>
</div>
</div>
<div class="sect3">
<h4 id="linkObjectUri"><a class="anchor" href="#linkObjectUri"></a>2.4.23. linkObjectUri</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URL</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Reference to the JSON Schema of the "Link" object.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-codelist-link">rule-json-cls-codelist-link</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="lowerCaseCollectionIdsInRelAsKeyProfile"><a class="anchor" href="#lowerCaseCollectionIdsInRelAsKeyProfile"></a>2.4.24. lowerCaseCollectionIdsInRelAsKeyProfile</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Explanation: Encode collection identifiers - determined for a property with
value type that is not mapped - in lower-case.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-all-featureRefs">rule-json-all-featureRefs</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="measureObjectUri"><a class="anchor" href="#measureObjectUri"></a>2.4.25. measureObjectUri</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: URL</p>
</div>
<div class="paragraph">
<p>Default Value: <em>FIXME</em></p>
</div>
<div class="paragraph">
<p>Explanation: Reference to the JSON Schema of the "Measure" object.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-prop-measure">rule-json-prop-measure</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="objectIdentifierName"><a class="anchor" href="#objectIdentifierName"></a>2.4.26. objectIdentifierName</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: "id"</p>
</div>
<div class="paragraph">
<p>Explanation: Name of the JSON member to be added to a JSON object that
represents the type with identity.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-identifierForTypeWithIdentity">rule-json-cls-identifierForTypeWithIdentity</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="objectIdentifierRequired"><a class="anchor" href="#objectIdentifierRequired"></a>2.4.27. objectIdentifierRequired</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Explanation: "false", if the new object identifier member shall not be
required, else "true"</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-identifierForTypeWithIdentity">rule-json-cls-identifierForTypeWithIdentity</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="objectIdentifierType"><a class="anchor" href="#objectIdentifierType"></a>2.4.28. objectIdentifierType</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String - one of "string", "number", or a (comma-separated)
combination thereof</p>
</div>
<div class="paragraph">
<p>Default Value: "string"</p>
</div>
<div class="paragraph">
<p>Explanation: Value type of the JSON member to be added to a JSON object
that represents the type with identity.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-identifierForTypeWithIdentity">rule-json-cls-identifierForTypeWithIdentity</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="outputDirectory"><a class="anchor" href="#outputDirectory"></a>2.4.29. outputDirectory</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: &lt;the current run directory&gt;</p>
</div>
<div class="paragraph">
<p>Explanation: The path to which the JSON Schema file(s) will be written.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none</em> - this is a common target parameter</p>
</div>
</div>
<div class="sect3">
<h4 id="prettyPrint"><a class="anchor" href="#prettyPrint"></a>2.4.30. prettyPrint</h4>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Explanation: True if the resulting json schemas shall be pretty printed,
else false.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none</em> – default behavior</p>
</div>
</div>
<div class="sect3">
<h4 id="preventUnknownTypesInFeatureCollection"><a class="anchor" href="#preventUnknownTypesInFeatureCollection"></a>2.4.31. preventUnknownTypesInFeatureCollection</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Explanation: "false", if objects of unknown type shall be allowed (and ignored) in
the general "FeatureCollection"; "true", if such objects shall cause the validation
to fail.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s):
<em><a href="./JSON_Schema.html#rule-json-cls-collectionsBasedOnEntityType">rule-json-cls-collectionsBasedOnEntityType</a></em></p>
</div>
</div>
<div class="sect3">
<h4 id="sortedOutput"><a class="anchor" href="#sortedOutput"></a>2.4.32. sortedOutput</h4>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: "false"</p>
</div>
<div class="paragraph">
<p>Explanation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If "false", the types in a schema will be processed in random order.</p>
</li>
<li>
<p>If "true", the types will be processed alphabetically.</p>
</li>
<li>
<p>If "taggedValue=&lt;tag&gt;", the types will be processed in the order of
the values of the tagged value with name "&lt;tag&gt;".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none</em> - this is a common target parameter</p>
</div>
</div>
<div class="sect3">
<h4 id="schemaDefinitionForVoidable"><a class="anchor" href="#schemaDefinitionForVoidable"></a>2.4.33. schemaDefinitionForVoidable</h4>
<div class="paragraph">
<p>(since v3.1.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: String</p>
</div>
<div class="paragraph">
<p>Default Value: <em>none</em></p>
</div>
<div class="paragraph">
<p>Explanation: Defines the URI of the JSON Schema definition to
be used in
<a href="./JSON_Schema.html#rule-json-prop-voidable">rule-json-prop-voidable</a>
for encoding the voidable case via a schema reference instead of a
null value type.</p>
</div>
</div>
<div class="sect3">
<h4 id="useAnchorsInLinksToGeneratedSchemaDefinitions"><a class="anchor" href="#useAnchorsInLinksToGeneratedSchemaDefinitions"></a>2.4.34. useAnchorsInLinksToGeneratedSchemaDefinitions</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: true</p>
</div>
<div class="paragraph">
<p>Explanation: If set to "false", then the fragment identifier of a link
to a schema definition that is generated by the target is always created
as a JSON Pointer (e.g., <code>#/$defs/XYZ</code>). Setting this parameter to "true"
means that the fragment identifier should use the anchor of the
referenced schema definition (e.g., <code>#xyz</code>). However, that is only
possible if the definition has an anchor (for further details, see
<a href="./JSON_Schema.html#rule-json-cls-name-as-anchor">rule-json-cls-name-as-anchor</a>).
If a given schema definition has no anchor, ShapeChange will
automatically use a JSON Pointer when referencing that schema definition.</p>
</div>
<div class="paragraph">
<p>The reason why there is a configuration option to control whether
JSON Pointers or anchors should be used in fragment identifiers of
schema references is that anchors may not always be supported.
In theory, anchors are only supported as fragment identifier if
the schema is served with content type <code>application/schema+json</code>. A
JSON Schema validator may not be able to handle a schema reference with
anchor as fragment identifier, if the schema is not served with
that content type (a reason could be that the validator then thinks
that the fragment identifier has to be a JSON Pointer, and parses
the fragment identifier as such).</p>
</div>
<div class="paragraph">
<p>So, even if the referenced schema
definition has an anchor, it may still be served with a content
type that does not support anchors, which requires schema references
to be created using JSON Pointers. Target parameter
useAnchorsInLinksToGeneratedSchemaDefinitions supports
controlling the generation of fragment identifiers. If the generated
schemas will be published with a content type other than <code>application/schema+json</code>,
or if it is known that JSON Schema validators that need to work with the
generated schemas only support JSON Pointers as fragment identifiers
(for whatever reason), or if in doubt, then set parameter
useAnchorsInLinksToGeneratedSchemaDefinitions to "false".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the schemas are generated for OpenAPI 3.0 (value of target parameter
<a href="./JSON_Schema.html#jsonSchemaVersion">jsonSchemaVersion</a>
is "OpenApi30"), then anchors are not supported at all, and JSON
Pointers will always be used as fragment identifier.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For references to external schema definitions, the link given
in the map entry defines the syntax to use.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none</em> - this is a common target parameter</p>
</div>
</div>
<div class="sect3">
<h4 id="writeMapEntries"><a class="anchor" href="#writeMapEntries"></a>2.4.35. writeMapEntries</h4>
<div class="paragraph">
<p>Required / Optional: optional</p>
</div>
<div class="paragraph">
<p>Type: Boolean</p>
</div>
<div class="paragraph">
<p>Default Value: false</p>
</div>
<div class="paragraph">
<p>Explanation: If set to "true", a map entry file will be written for each
processed schema, containing a map entry for each encoded type from that
schema.</p>
</div>
<div class="paragraph">
<p>Applies to Rule(s): <em>none</em> - this is a common target parameter</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Map_Entries"><a class="anchor" href="#Map_Entries"></a>3. Map Entries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&lt;mapEntries&gt; contain individual &lt;MapEntry&gt; elements, which for this
target contain information for mapping specific types (classes) from the
UML model to either JSON Schema simple types, or using references to
specific JSON Schema definitions.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="tag">&lt;mapEntries&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CharacterString</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">URI</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">keywords{format=uri}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Boolean</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">boolean</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Real</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Measure</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DateTime</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">keywords{format=date-time}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;MapEntry</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">GM_Point</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rule</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">targetType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://geojson.org/schema/Point.json</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">param</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">geometry</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/mapEntries&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>A &lt;MapEntry&gt; element contains the attributes described in the following
sections.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
StandardMapEntries_JSON.xml defines standard mappings for a number
of types of the ISO Harmonized Model. This file can be included in
ShapeChange configuration files (via XInclude - see the configuration
example). Additional XInclude files, or individual &lt;MapEntry&gt; elements
added to the &lt;mapEntries&gt; section of the configuration file, may be used
to customize the map entries to support additional pre-defined
conceptual UML classes.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="type"><a class="anchor" href="#type"></a>3.1. type</h3>
<div class="paragraph">
<p>Required / Optional: Required</p>
</div>
<div class="paragraph">
<p>Explanation: The unqualified UML type/class name to be mapped. Should be
unique within the model (if it is not unique, this can lead to
unexpected results).</p>
</div>
</div>
<div class="sect2">
<h3 id="rule"><a class="anchor" href="#rule"></a>3.2. rule</h3>
<div class="paragraph">
<p>Required / Optional: Required</p>
</div>
<div class="paragraph">
<p>Explanation: The encoding rule to which this mapping applies. May be "*"
to indicate that the mapping applies to all encoding rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="targetType"><a class="anchor" href="#targetType"></a>3.3. targetType</h3>
<div class="paragraph">
<p>Required / Optional: Required</p>
</div>
<div class="paragraph">
<p>Explanation: Name of a simple JSON Schema type (boolean, number,
integer, or string), or a reference to a particular JSON Schema,
typically expressed as a URL.</p>
</div>
</div>
<div class="sect2">
<h3 id="param"><a class="anchor" href="#param"></a>3.4. param</h3>
<div class="paragraph">
<p>Required / Optional: Optional</p>
</div>
<div class="paragraph">
<p>Explanation: Defines one or more parameters for the mapping. If no
parameter is provided (leaving the 'param' attribute empty) then the map
entry contains a straightforward mapping.</p>
</div>
<div class="paragraph">
<p>Each parameter has a name. A list of parameters is separated by commas.
Each parameter can also have characteristics defined for it, providing
even further information for the conversion. Characteristics for a
parameter are provided within curly braces. A characteristic usually is
provided by a key-value pair, with the key being the identification of
the characteristic.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>geometry</p>
</li>
<li>
<p>keywords{format=date}</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Supported parameters, their interpretation as well as characteristics
are described in the following sections.</p>
</div>
<div class="sect3">
<h4 id="Parameter_collectionInfos"><a class="anchor" href="#Parameter_collectionInfos"></a>3.4.1. Parameter: collectionInfos</h4>
<div class="paragraph">
<p>Explanation: Provides additional information about the feature
 collection(s) in which data for the mapped type is stored.</p>
</div>
<div class="paragraph">
<p>Characteristics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>collectionIds: Identifiers of the collections in which data for the mapped type
is stored. Can be a comma-separated list of identifiers, in case that the data may
be spread across multiple collections (e.g. if the type has subtypes). Can also be
omitted, which can be useful for cases in which the collection identifiers are not
fully defined at schema creation time.</p>
</li>
<li>
<p>collectionIdTypes: The type of the feature identifiers used in the collection(s).
"string", "integer", or a (comma-separated) list thereof. Optional; default is "integer".</p>
</li>
<li>
<p>uriTemplate: This characteristic is required for the map entry parameter <em>collectionInfos</em>.
The value is a URI - typically a URL - template for links that reference the members of
OGC API Features collection(s).
The template must contain variable <code>(featureId)</code>. It may also contain variable <code>(collectionId)</code>.
If the latter variable is not present, then the template must necessarily address only
a single collection, and the characteristic <code>collectionIds</code> will be ignored by ShapeChange.
Note that ShapeChange will convert the parentheses of the variables to curly brackets.
The parentheses are only necessary because the encoding of a map entry parameter
uses curly brackets for its characteristics, too.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="Parameter_keywords"><a class="anchor" href="#Parameter_keywords"></a>3.4.2. Parameter: keywords</h4>
<div class="paragraph">
<p>Explanation: Indicates that the simple JSON type (boolean, number,
integer, string) that is the target of the map entry has one or more
restrictions defined by JSON Schema keywords. The following keywords are
supported - they also represent the characteristics of the parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for any simple JSON type: keyword <em>format</em></p>
</li>
<li>
<p>for JSON type <em>string</em>: keywords <em>enum</em>, <em>const</em>, <em>pattern</em>,
<em>maxLength</em>, <em>minLength</em></p>
<div class="ulist">
<ul>
<li>
<p>NOTE: Complex regular expressions intended to be used as <em>pattern</em>
may need to be base64 encoded, in order to avoid problems with syntax
rules of the map entry parameter. For base64 encoded regular
expressions, use the <em>patternBase64</em> characteristic (instead of
<em>pattern</em>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>for JSON types <em>integer</em> and <em>number</em>: keywords <em>enum</em>, <em>const</em>,
<em>multipleOf</em>, <em>maximum</em>, <em>minimum</em>, <em>exclusiveMaximum</em>,
<em>exclusiveMinimum</em></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Multiple keywords may be specified as a semicolon-delimited list, e.g.: "keywords{minimum=0;maximum=3}".
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="Parameter_encodingInfos"><a class="anchor" href="#Parameter_encodingInfos"></a>3.4.3. Parameter: encodingInfos</h4>
<div class="paragraph">
<p>Explanation: Provides additional information about the JSON encoding of
the type, which is relevant for creating a JSON encoding that uses that
type.</p>
</div>
<div class="paragraph">
<p>Characteristics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>entityTypeMemberPath: The path to the JSON member that is used to
encode the type name. Only used if the JSON encoding actually has such a
member. Examples:</p>
<div class="ulist">
<ul>
<li>
<p>a plain JSON encoding: "@type"</p>
</li>
<li>
<p>a nested JSON encoding, e.g. GeoJSON encoding: "properties/@type"</p>
</li>
<li>
<p>JSON-FG encoding: "featureType"</p>
</li>
</ul>
</div>
</li>
<li>
<p>entityTypeMemberRequired (supported since v2.14.0): true, if the property identified by characteristic
<em>entityTypeMemberPath</em> is declared as required in the referenced JSON Schema
definition, else false (the default). Example(s):</p>
<div class="ulist">
<ul>
<li>
<p>JSON-FG encoding: "false"</p>
</li>
</ul>
</div>
</li>
<li>
<p>idMemberPath (supported since v2.14.0): The path to the JSON member that is used to encode the ID.
Only used if the JSON encoding actually has such a member. Examples:</p>
<div class="ulist">
<ul>
<li>
<p>GeoJSON encoding: "id"</p>
</li>
<li>
<p>JSON-FG encoding: "id"</p>
</li>
</ul>
</div>
</li>
<li>
<p>idMemberRequired (supported since v2.14.0): true, if the property identified by characteristic
<em>idMemberPath</em> is declared as required in the referenced JSON Schema
definition, else false (the default). Examples:</p>
<div class="ulist">
<ul>
<li>
<p>GeoJSON encoding: "false"</p>
</li>
<li>
<p>JSON-FG encoding: "false"</p>
</li>
</ul>
</div>
</li>
<li>
<p>idMemberTypes (supported since v2.14.0): (comma-separated) list of simple JSON Schema types, in which
the value of the ID member (identified by <em>idMemberPath</em>) can be encoded.
Allowed values are <em>string</em>, <em>integer</em>, <em>number</em>. The default value for this
characteristic is <em>string</em>. Examples:</p>
<div class="ulist">
<ul>
<li>
<p>GeoJSON encoding: "string,number"</p>
</li>
<li>
<p>JSON-FG encoding: "string,number"</p>
</li>
</ul>
</div>
</li>
<li>
<p>idMemberFormats (supported since v2.14.0): (comma-separated) list of format identifiers, which are
assigned to keyword <em>format</em> for the ID member in the referenced JSON Schema
definition. This characteristic has no default value.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="Parameter_geometry"><a class="anchor" href="#Parameter_geometry"></a>3.4.4. Parameter: geometry</h4>
<div class="paragraph">
<p>Explanation: Indicates that the map entry contains a mapping for a
geometry type (specifically from ISO 19107). IMPORTANT: If geometry
types are not identified via map entries containing this parameter then
ShapeChange cannot determine geometry typed properties, which is
relevant for default geometry encoding!</p>
</div>
<div class="paragraph">
<p>Characteristics: <em>no specific characteristics are defined for this
parameter</em></p>
</div>
</div>
<div class="sect3">
<h4 id="Parameter_ignoreForTypeFromSchemaSelectedForProcessing"><a class="anchor" href="#Parameter_ignoreForTypeFromSchemaSelectedForProcessing"></a>3.4.5. Parameter: ignoreForTypeFromSchemaSelectedForProcessing</h4>
<div class="paragraph">
<p>Explanation: Set this parameter on map entries for types from external
schemas, whose type name is the same as one of the types from the
schemas selected for processing. For example, the SWE Common 2.0 schema
defines a type called 'Boolean' - which is the same name as a type from
ISO 19103 ('Boolean'). If the parameter is set on a map entry for
'Boolean', then the type from the schema selected for processing is
still encoded and used - otherwise it would not be encoded and instead
mapped as defined by the map entry.</p>
</div>
<div class="paragraph">
<p>Characteristics: <em>no specific characteristics are defined for this
parameter</em></p>
</div>
</div>
<div class="sect3">
<h4 id="Parameter_measure"><a class="anchor" href="#Parameter_measure"></a>3.4.6. Parameter: measure</h4>
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>Explanation: Indicates that the map entry contains a mapping for a
measure type (specifically from ISO 19103).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If measure types are not identified via map entries
containing this parameter then ShapeChange cannot determine measure
typed properties, which is relevant for
<a href="./JSON_Schema.html#rule-json-prop-measure">rule-json-prop-measure</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Characteristics: <em>no specific characteristics are defined for this
parameter</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Annotations"><a class="anchor" href="#Annotations"></a>4. JSON Schema Annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(since v2.14.0)</p>
</div>
<div class="paragraph">
<p>The target supports two types of configuration elements for defining JSON Schema annotations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SimpleAnnotation - For annotations with a simple JSON value, or an array thereof.</p>
</li>
<li>
<p>TemplateAnnotation - For annotations with a JSON string as value, or an array thereof, defined via a template that can include multiple descriptors and tagged values.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Annotations are only created for a model element if <a href="./JSON_Schema.html#rule-json-all-documentation">rule-json-all-documentation</a> is part of the applicable encoding rule.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The JSON Schema annotation "examples" is an example for an annotation that has a JSON array as value, with the type of array items being unrestricted. In other words, the array can contain mixed value types. The "examples" annotation can thus have an array of strings (e.g., ["abc","xyz"]), numbers (e.g., [4,2]), booleans (e.g., [true, true]), and a mix thereof (e.g., ["abc", 2, true]) as value.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
ShapeChange JSON Schema annotation elements are not designed to support the creation of annotations with complex JSON arrays or objects as value. Only simple values, or an array thereof, can be created. So far, no use cases have been identified that require a more complex annotation value. In the future, if such use cases were identified, ShapeChange could be extended to support them.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following two tables document the structure of the two ShapeChange JSON Schema annotation elements. <a href="#example_shapechange_jsonschema_annotation_elements">Listing 1</a>, <a href="#example_shapechange_advancedprocessconfigurations_with_xinclude">Listing 2</a>, and <a href="#example_shapechange_myJsonSchemaAnnotations">Listing 3</a> provide configuration examples.</p>
</div>
<table id="table_jsonschema_annotation_element1" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. SimpleAnnotation</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration Information Item</th>
<th class="tableblock halign-left valign-top">Datatype &amp; Structure</th>
<th class="tableblock halign-left valign-top">Required / Optional</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not applicable</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the JSON Schema annotation keyword that shall be added to the JSON Schema element which represents the UML model element.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">A number of attributes are used to select relevant model elements. They
are the same as described
<a href="../transformations/Common_Transformer_Functionality.html#Model_element_filter_criteria">here</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arrayValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>false</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If true, then the annotation value will always be encoded as an array, even if only a single value is present. Otherwise, the default behavior is to only encode multiple values within a JSON array.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">descriptorOr TaggedValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not applicable</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Either a <em>descriptor-ID</em>, identifying one of the <a href="#table_descriptors">well-known descriptors</a>, or a string identifying a tagged value.</p>
</div>
<div class="paragraph">
<p>In order to identify a tagged value, add prefix "TV:" to the name of the tagged value. If a tagged value is known to contain a list of values, combined in a string using a specific separator, and these values shall be used as individual values, rather than using the whole string as value, use the prefix "TV(<em>separator</em>):," followed by the tag name. ShapeChange will then split the tagged value around matches of the given separator (which is treated as a literal).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">noValueBehavior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum: <em>ignore</em> or <em>populateOnce</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ignore</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Determines the behavior in case that no value is available for the descriptor or tagged value.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ignore</em>: No annotation is created.</p>
</li>
<li>
<p><em>populateOnce</em>: A single annotation is created, with the <em>noValueValue</em> being used as value.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">noValueValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>the empty string</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If the descriptor or tagged value has no value, then this information item provides the value to use instead (e.g., 0, or true).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum: <em>string</em>, <em>integer</em>, <em>number</em>, <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>string</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines how ShapeChange will encode the values of the descriptor / tagged value.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>type = string: each value will be quoted</p>
</li>
<li>
<p>type = integer: each value will be parsed as an integer (invalid values will be ignored, and a warning logged); values will not be quoted</p>
</li>
<li>
<p>type = number: each value will be parsed as a double (invalid values will be ignored, and a warning logged); values will not be quoted</p>
</li>
<li>
<p>type = boolean: if the value is "true" (ignoring case") or 1, the value will be encoded as the JSON value <em>true</em>; otherwise, it will be encoded as the JSON value <em>false</em>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table id="table_jsonschema_annotation_element2" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. TemplateAnnotation</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Information Item</th>
<th class="tableblock halign-left valign-top">Datatype &amp; Structure</th>
<th class="tableblock halign-left valign-top">Required / Optional</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">as defined in the <a href="#table_jsonschema_annotation_element1">previous table</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">model element selection attributes, as defined in the <a href="#table_jsonschema_annotation_element1">previous table</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arrayValue</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">as defined in the <a href="#table_jsonschema_annotation_element1">previous table</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">valueTemplate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not applicable</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Textual template where an occurrence of the field "[[<em>descriptor-ID</em>]]" is replaced with the value(s) of that descriptor. The IDs of supported descriptors are listed in <a href="#table_descriptors">Table 1</a>.<br></p>
</div>
<div class="paragraph">
<p>An occurrence of the field "[[TV:name]]" is replaced with the value(s) of the UML tagged value with the given name from the input schema.</p>
</div>
<div class="paragraph">
<p>The content of a tagged value can also be split into multiple parts. In that case, use field "[[TV(<em>separator</em>):name]]." The tagged value will be split around matches of the given separator (which is treated as a literal).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">noValueBehavior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum: <em>ignore</em> or <em>populateOnce</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>ignore</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Determines the behavior in case that no value is available for any of the fields (tagged values and descriptors) contained in the template.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>ignore</em>: No annotation is created.</p>
</li>
<li>
<p><em>populateOnce</em>: A single annotation is created, with the <em>noValueValue</em> being used for all fields.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">noValueValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>the empty string</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If a descriptor used in a template has no value, then this information item provides the value to use instead (e.g., "N/A" or "FIXME").</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiValueBehavior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum: either <em>connectInSingle</em><br>
<em>AnnotationValue</em> or <em>createMultiple</em><br>
<em>AnnotationValues</em> (note that the two enums are only split in this table cell for presentation purposes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>connectInSingle</em><br>
<em>AnnotationValue</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how a case where one or more of the descriptors and tagged values contained in the template have multiple values, shall be encoded.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>connectInSingleAnnotationValue</em>: Multiple values of a descriptor or tagged value contained in the template are combined in a single string value, using the <em>multiValueConnectorToken</em> to connect them.</p>
</li>
<li>
<p><em>createMultipleAnnotationValues</em>: Multiple values for one or more descriptor or tagged value result in an array of annotation values, with one value for each combination of multi-valued descriptors / tagged values (resulting in a permutation of the values of each descriptor / tagged value contained in the template).</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiValue ConnectorToken</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>a single space character</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If a descriptor or tagged value used in the <em>valueTemplate</em> has multiple values, and the <em>multiValueBehavior</em> is set to <em>connectInSingleAnnotationValue</em>, then the values are concatenated to a single string value using this token as connector between two values.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Conversion rules exist to populate the annotations "default" and "readOnly" (see
<a href="./JSON_Schema.html#rule-json-prop-initialValueAsDefault">rule-json-prop-initialValueAsDefault</a>,
<a href="./JSON_Schema.html#rule-json-prop-derivedAsReadOnly">rule-json-prop-derivedAsReadOnly</a>, and
<a href="./JSON_Schema.html#rule-json-prop-readOnly">rule-json-prop-readOnly</a>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The annotation elements are configured within the <code>&lt;advancedProcessConfigurations&gt;</code> element of the JSON Schema target, as shown in <a href="#example_shapechange_jsonschema_annotation_elements">Listing 1</a>.</p>
</div>
<div id="example_shapechange_jsonschema_annotation_elements" class="listingblock">
<div class="title">Listing 1. Configuration example for JSON Schema annotation elements</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td>
  <td class="code"><pre><span class="tag">&lt;Target</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Target.JSON.JsonSchemaTarget</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">inputs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">model</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;advancedProcessConfigurations&gt;</span>
    <span class="tag">&lt;JsonSchemaAnnotations&gt;</span>
      <span class="tag">&lt;annotations&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">alias</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ignore</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;TemplateAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">valueTemplate</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Definition: [[definition]]  Description: [[description]]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[None Specified]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">populateOnce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:unit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ignore</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV(|):aliasList</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">arrayValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV(|):aliasList</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">arrayValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">deprecated</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:deprecated</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">boolean</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:codeNumber</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">populateOnce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">modelElementType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Class</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:codeNumber</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">populateOnce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">modelElementType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Property</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;TemplateAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">isDefinedBy</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">valueTemplate</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/view?i=[[TV(,):item]]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">multiValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">createMultipleAnnotationValues</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">examples</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">arrayValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;/annotations&gt;</span>
    <span class="tag">&lt;/JsonSchemaAnnotations&gt;</span>
  <span class="tag">&lt;/advancedProcessConfigurations&gt;</span>
  <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">outputDirectory</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">testResults/json/documentation/json_schemas/plainjson</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sortedOutput</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">jsonBaseUri</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org/baseuri_from_config</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">linkObjectUri</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/jsonschema/link.json</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">byReferenceJsonSchemaDefinition</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org/jsonschema/byreference.json</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">defaultEncodingRule</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myPlainJson</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;rules&gt;</span>
    <span class="tag">&lt;EncodingRule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myPlainJson</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">extends</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">defaultPlainJson</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-all-documentation</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/EncodingRule&gt;</span>
  <span class="tag">&lt;/rules&gt;</span>
  <span class="tag">&lt;xi:include</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">src/main/resources/config/StandardMapEntries_JSON.xml</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/Target&gt;</span>
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>&lt;advancedProcessConfigurations&gt;</code> element can also reference another XML file that contains the annotation definitions via an include element. That can be useful, in case that multiple JSON Schema target configurations use the same set of annotations.</p>
</div>
<div id="example_shapechange_advancedprocessconfigurations_with_xinclude" class="listingblock">
<div class="title">Listing 2. Example of advancedProcessConfigurations element with include statement</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;advancedProcessConfigurations&gt;</span>
  <span class="tag">&lt;xi:include</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">./config/myJsonSchemaAnnotations.xml</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/advancedProcessConfigurations&gt;</span>
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div id="example_shapechange_myJsonSchemaAnnotations" class="listingblock">
<div class="title">Listing 3. Example of included XML file with JSON Schema annotation elements</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;JsonSchemaAnnotations</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.interactive-instruments.de/ShapeChange/Configuration/1.1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;annotations&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">alias</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ignore</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;TemplateAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">valueTemplate</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Definition: [[definition]]  Description: [[description]]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[None Specified]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">populateOnce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:unit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ignore</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV(|):aliasList</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">arrayValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV(|):aliasList</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">arrayValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">deprecated</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:deprecated</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">boolean</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:codeNumber</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">populateOnce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">modelElementType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Class</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TV:codeNumber</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">populateOnce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">noValueValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">modelElementType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Property</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;TemplateAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">isDefinedBy</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">valueTemplate</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/view?i=[[TV(,):item]]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">multiValueBehavior</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">createMultipleAnnotationValues</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;SimpleAnnotation</span> <span class="attribute-name">annotation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">examples</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">descriptorOrTaggedValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">arrayValue</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/annotations&gt;</span>
<span class="tag">&lt;/JsonSchemaAnnotations&gt;</span>
</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuration_Example"><a class="anchor" href="#Configuration_Example"></a>5. Configuration Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
  <td class="code"><pre><span class="tag">&lt;Target</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de.interactive_instruments.ShapeChange.Target.JSON.JsonSchemaTarget</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mode</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">enabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">outputDirectory</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">results/json_schema/2019-09</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sortedOutput</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">jsonBaseUri</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org/baseuri</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">byReferenceJsonSchemaDefinition</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://example.org/jsonschema/byreference.json</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">entityTypeName</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">@type</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;targetParameter</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">defaultEncodingRule</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myGeoJson</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;rules&gt;</span>
  <span class="tag">&lt;EncodingRule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myGeoJson</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">extends</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">defaultGeoJson</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-basictype</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-codelist-uri-format</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-name-as-entityType</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-union-propertyCount</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;rule</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rule-json-cls-valueTypeOptions</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/EncodingRule&gt;</span>
 <span class="tag">&lt;/rules&gt;</span>
 <span class="tag">&lt;xi:include</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://shapechange.net/resources/config/StandardMapEntries_JSON.xml</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/Target&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>