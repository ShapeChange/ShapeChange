<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Non-Standard Conversion Rules</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="Non-Standard_Conversion_Rules" class="book toc2 toc-left">
<div id="header">
<h1>Non-Standard Conversion Rules</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#Using_the_non-standard_conversion_rules">1. Using the non-standard conversion rules</a>
<ul class="sectlevel2">
<li><a href="#Definitions">1.1. Definitions</a></li>
<li><a href="#Other_Extensions">1.2. Other Extensions</a>
<ul class="sectlevel3">
<li><a href="#Components_with_non-public_visibility">1.2.1. Components with non-public visibility</a></li>
</ul>
</li>
<li><a href="#List_of_Non-Standard_Conversion_Rules">1.3. List of Non-Standard Conversion Rules</a>
<ul class="sectlevel3">
<li><a href="#rule-xsd-all-descriptorAnnotation">1.3.1. rule-xsd-all-descriptorAnnotation</a></li>
<li><a href="#rule-xsd-all-globalIdentifierAnnotation">1.3.2. rule-xsd-all-globalIdentifierAnnotation</a></li>
<li><a href="#rule-xsd-all-gml21">1.3.3. rule-xsd-all-gml21</a></li>
<li><a href="#rule-xsd-all-notEncoded">1.3.4. rule-xsd-all-notEncoded</a></li>
<li><a href="#rule-xsd-all-no-documentation">1.3.5. rule-xsd-all-no-documentation</a></li>
<li><a href="#rule-xsd-all-propertyAssertion-ignoreProhibited">1.3.6. rule-xsd-all-propertyAssertion-ignoreProhibited</a></li>
<li><a href="#rule-xsd-all-tagged-values">1.3.7. rule-xsd-all-tagged-values</a></li>
<li><a href="#rule-xsd-cls-adeelement">1.3.8. rule-xsd-cls-adeelement</a></li>
<li><a href="#rule-xsd-cls-basictype">1.3.9. rule-xsd-cls-basictype</a></li>
<li><a href="#rule-xsd-cls-basictype-list">1.3.10. rule-xsd-cls-basictype-list</a></li>
<li><a href="#rule-xsd-cls-codelist-anonymous-xlink">1.3.11. rule-xsd-cls-codelist-anonymous-xlink</a></li>
<li><a href="#rule-xsd-cls-codelist-constraints">1.3.12. rule-xsd-cls-codelist-constraints</a></li>
<li><a href="#rule-xsd-cls-codelist-constraints2">1.3.13. rule-xsd-cls-codelist-constraints2</a></li>
<li><a href="#rule-xsd-cls-codelist-constraints-codeAbsenceInModelAllowed">1.3.14. rule-xsd-cls-codelist-constraints-codeAbsenceInModelAllowed</a></li>
<li><a href="#rule-xsd-cls-codelist-gmlsf">1.3.15. rule-xsd-cls-codelist-gmlsf</a></li>
<li><a href="#rule-xsd-cls-enum-subtypes">1.3.16. rule-xsd-cls-enum-subtypes</a></li>
<li><a href="#rule-xsd-cls-enum-supertypes">1.3.17. rule-xsd-cls-enum-supertypes</a></li>
<li><a href="#rule-xsd-cls-local-basictype">1.3.18. rule-xsd-cls-local-basictype</a></li>
<li><a href="#rule-xsd-cls-local-enumeration">1.3.19. rule-xsd-cls-local-enumeration</a></li>
<li><a href="#rule-xsd-cls-mixin-classes">1.3.20. rule-xsd-cls-mixin-classes</a></li>
<li><a href="#rule-xsd-cls-mixin-classes-as-group">1.3.21. rule-xsd-cls-mixin-classes-as-group</a></li>
<li><a href="#rule-xsd-cls-mixin-classes-non-mixin-supertypes">1.3.22. rule-xsd-cls-mixin-classes-non-mixin-supertypes</a></li>
<li><a href="#rule-xsd-cls-no-abstract-classes">1.3.23. rule-xsd-cls-no-abstract-classes</a></li>
<li><a href="#rule-xsd-cls-no-base-class">1.3.24. rule-xsd-cls-no-base-class</a></li>
<li><a href="#rule-xsd-cls-no-gml-types">1.3.25. rule-xsd-cls-no-gml-types</a></li>
<li><a href="#rule-xsd-cls-okstra-fid">1.3.26. rule-xsd-cls-okstra-fid</a></li>
<li><a href="#rule-xsd-cls-okstra-lifecycle">1.3.27. rule-xsd-cls-okstra-lifecycle</a></li>
<li><a href="#rule-xsd-cls-okstra-schluesseltabelle">1.3.28. rule-xsd-cls-okstra-schluesseltabelle</a></li>
<li><a href="#rule-xsd-cls-standard-19139-isoType">1.3.29. rule-xsd-cls-standard-19139-isoType</a></li>
<li><a href="#rule-xsd-cls-suppress">1.3.30. rule-xsd-cls-suppress</a></li>
<li><a href="#rule-xsd-cls-union-asCharacterString">1.3.31. rule-xsd-cls-union-asCharacterString</a></li>
<li><a href="#rule-xsd-cls-union-asGroup">1.3.32. rule-xsd-cls-union-asGroup</a></li>
<li><a href="#rule-xsd-cls-union-direct">1.3.33. rule-xsd-cls-union-direct</a></li>
<li><a href="#rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets">1.3.34. rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets</a></li>
<li><a href="#rule-xsd-pkg-dgiwgsp">1.3.35. rule-xsd-pkg-dgiwgsp</a></li>
<li><a href="#rule-xsd-pkg-gmlsf">1.3.36. rule-xsd-pkg-gmlsf</a></li>
<li><a href="#rule-xsd-pkg-schematron">1.3.37. rule-xsd-pkg-schematron</a></li>
<li><a href="#rule-xsd-prop-att-map-entry">1.3.38. rule-xsd-prop-att-map-entry</a></li>
<li><a href="#rule-xsd-prop-constrainingFacets">1.3.39. rule-xsd-prop-constrainingFacets</a></li>
<li><a href="#rule-xsd-prop-exclude-derived">1.3.40. rule-xsd-prop-exclude-derived</a></li>
<li><a href="#rule-xsd-prop-gmlArrayProperty">1.3.41. rule-xsd-prop-gmlArrayProperty</a></li>
<li><a href="#rule-xsd-prop-gmlListProperty">1.3.42. rule-xsd-prop-gmlListProperty</a></li>
<li><a href="#rule-xsd-prop-featureType-gmlsf-byReference">1.3.43. rule-xsd-prop-featureType-gmlsf-byReference</a></li>
<li><a href="#rule-xsd-prop-initialValue">1.3.44. rule-xsd-prop-initialValue</a></li>
<li><a href="#rule-xsd-prop-length-size-pattern">1.3.45. rule-xsd-prop-length-size-pattern</a></li>
<li><a href="#rule-xsd-prop-metadata">1.3.46. rule-xsd-prop-metadata</a></li>
<li><a href="#rule-xsd-prop-metadata-gmlsf-byReference">1.3.47. rule-xsd-prop-metadata-gmlsf-byReference</a></li>
<li><a href="#rule-xsd-prop-nillable">1.3.48. rule-xsd-prop-nillable</a></li>
<li><a href="#rule-xsd-prop-nilReasonAllowed">1.3.49. rule-xsd-prop-nilReasonAllowed</a></li>
<li><a href="#rule-xsd-prop-nilReason-constraints">1.3.50. rule-xsd-prop-nilReason-constraints</a></li>
<li><a href="#rule-xsd-prop-qualified-associations">1.3.51. rule-xsd-prop-qualified-associations</a></li>
<li><a href="#rule-xsd-prop-targetCodeListURI">1.3.52. rule-xsd-prop-targetCodeListURI</a></li>
<li><a href="#rule-xsd-prop-valueOrNilReason-constraints">1.3.53. rule-xsd-prop-valueOrNilReason-constraints</a></li>
<li><a href="#rule-xsd-prop-xsdAsAttribute">1.3.54. rule-xsd-prop-xsdAsAttribute</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="Using_the_non-standard_conversion_rules"><a class="anchor" href="#Using_the_non-standard_conversion_rules"></a>1. Using the non-standard conversion rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An encoding rule that wishes to make use of the conversion rules
specified in this section must specify
<a href="./XML_Schema.html#Specifying_Encoding_Rules">an
Encoding Rule as part of the configuration and list the desired
conversion rules</a>.</p>
</div>
<div class="sect2">
<h3 id="Definitions"><a class="anchor" href="#Definitions"></a>1.1. Definitions</h3>
<div class="paragraph">
<p>In addition to the standard definitions, the extended conversion rules
use the following terms, too:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>basic type</strong>: classifier with the stereotype «BasicType»</p>
</li>
<li>
<p><strong>derived property</strong>: property that is marked in the UML model as
isDerived.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>More information about the stereotypes and the associated tagged values
is available in the description of
the <a href="../../application schemas/UML_profile.html">UML profile
supported by ShapeChange</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Other_Extensions"><a class="anchor" href="#Other_Extensions"></a>1.2. Other Extensions</h3>
<div class="paragraph">
<p>This section describes configuration options of the input that affect
the XML Schema output, but which are not conversion rules. These are
treated separately as they are already processed during the initial
parsing of the input model. Model elements that do not meet the
selection criteria are not included in the internal model representation
and are not available during the conversion to target representations.</p>
</div>
<div class="sect3">
<h4 id="Components_with_non-public_visibility"><a class="anchor" href="#Components_with_non-public_visibility"></a>1.2.1. Components with non-public visibility</h4>
<div class="paragraph">
<p>By default, only model elements with <strong>public</strong> visibility are read from
the model. However, this can be relaxed to include all model elements
regardless of their visibility .</p>
</div>
<div class="paragraph">
<p>This is controlled by setting the <em>publicOnly</em> parameter of the
configuration
file&#8217;s <a href="../../get started/The_element_input.html">&lt;input&gt;
element</a> to "true" or "false".</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="List_of_Non-Standard_Conversion_Rules"><a class="anchor" href="#List_of_Non-Standard_Conversion_Rules"></a>1.3. List of Non-Standard Conversion Rules</h3>
<div class="sect3">
<h4 id="rule-xsd-all-descriptorAnnotation"><a class="anchor" href="#rule-xsd-all-descriptorAnnotation"></a>1.3.1. rule-xsd-all-descriptorAnnotation</h4>
<div class="paragraph">
<p>(since v2.7.0)</p>
</div>
<div class="paragraph">
<p>For each model element that is represented in the XML Schema, add the
descriptors that are defined by the <em>representDescriptors</em> target
parameter as an &lt;sc:descriptor&gt; annotation appInfo element. The
parameter contains a comma-separated list of descriptor names (as listed
<a href="../../get started/The_element_input.html#Descriptor_sources">here</a>).
If the parameter is not set or is empty, the rule will have no effect.</p>
</div>
<div class="paragraph">
<p>The descriptor annotations will contain the name of the descriptor and
the value. If the value is given in a specific language, the language
will also be indicated. Multiple values will result in multiple
annotations. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="tag">&lt;annotation</span> <span class="attribute-name">xmlns:sc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.interactive-instruments.de/ShapeChange/AppInfo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;appinfo&gt;</span>
  <span class="tag">&lt;sc:descriptor</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">alias</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>FT<span class="tag">&lt;/sc:descriptor&gt;</span>
  <span class="tag">&lt;sc:descriptor</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">documentation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>FeatureType documentation<span class="tag">&lt;/sc:descriptor&gt;</span>
  <span class="tag">&lt;sc:descriptor</span> <span class="attribute-name">lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">definition</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>FeatureType definition deutsch<span class="tag">&lt;/sc:descriptor&gt;</span>
  <span class="tag">&lt;sc:descriptor</span> <span class="attribute-name">lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">definition</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>FeatureType definition english<span class="tag">&lt;/sc:descriptor&gt;</span>
  <span class="tag">&lt;sc:descriptor</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">globalIdentifier</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>EAID_229E7B68_2D8B_42cf_A7A2_BAB9EDA5AE2E<span class="tag">&lt;/sc:descriptor&gt;</span>
 <span class="tag">&lt;/appinfo&gt;</span>
<span class="tag">&lt;/annotation&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-all-globalIdentifierAnnotation"><a class="anchor" href="#rule-xsd-all-globalIdentifierAnnotation"></a>1.3.2. rule-xsd-all-globalIdentifierAnnotation</h4>
<div class="paragraph">
<p>(since v2.5.1)</p>
</div>
<div class="paragraph">
<p>For each class or property that is represented in the XML Schema and
that has a global identifier, add the value of the global identifier via
an &lt;sc:globalIdentifier&gt; annotation appInfo element. The global
identifier is one of the well-known descriptors (for further details,
see
<a href="../../get started/The_element_input.html#Descriptor_sources">here</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-all-gml21"><a class="anchor" href="#rule-xsd-all-gml21"></a>1.3.3. rule-xsd-all-gml21</h4>
<div class="paragraph">
<p>Instructs ShapeChange to generate schema based on GML version 2.1. The
map entries and namespaces need to be configured accordingly. The
encoding takes into account certain limitations of GML 2.1:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Because GML 2.1 does not specify object types (GML 3.1 and 3.2 make a
distinction between feature and object types), feature as well as object
type classes from the application schema will derive from gml21:_Feature
(of type gml21:AbstractFeatureType). This ensures that object type
classes are represented in the GML schema as types with identity.</p>
</li>
<li>
<p>Because GML 2.1 does not support a common base type for data types and
unions, these types are not assigned to a special GML substitution group
(in GML 3.1 gml:_Object would be used in this case).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-all-notEncoded"><a class="anchor" href="#rule-xsd-all-notEncoded"></a>1.3.4. rule-xsd-all-notEncoded</h4>
<div class="paragraph">
<p>This conversion rule suppresses the conversion to XML Schema of any
model elements for which the "xsdEncodingRule" tag is set to
"notEncoded".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If Schematron output is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Constraints of a class that is NOT encoded will not be included in the
Schematron schema</p>
</li>
<li>
<p>A constraint of a class that IS encoded will be included in the
Schematron schema, even if model elements required by the constraint are
not encoded</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-all-no-documentation"><a class="anchor" href="#rule-xsd-all-no-documentation"></a>1.3.5. rule-xsd-all-no-documentation</h4>
<div class="paragraph">
<p><strong><em>Documentation</em></strong> for a model element is by default exported as part of
&lt;annotation&gt; elements in the XML Schema Document. The export of the
documentation can be suppressed using this conversion rule.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Prior to ShapeChange 2.1.0 this rule was only applied if the XmlSchema
target included the parameter <em>includeDocumentation</em> with value 'false'.</p>
</li>
<li>
<p>Since ShapeChange 2.1.0 the rule applies unless the XmlSchema target
includes the parameter <em>includeDocumentation</em> with value 'true'.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-all-propertyAssertion-ignoreProhibited"><a class="anchor" href="#rule-xsd-all-propertyAssertion-ignoreProhibited"></a>1.3.6. rule-xsd-all-propertyAssertion-ignoreProhibited</h4>
<div class="paragraph">
<p>(since v2.6.0)</p>
</div>
<div class="paragraph">
<p>This rule prevents the creation of a property assertion if either the
property or the class for which the assertion is created is prohibited,
which is currently indicated by tagged value 'prohibitedInProfile' =
true.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The
<a href="../../transformations/profiling/Profile_Constraint_Transformer.html"><em>ProfileConstraintTransformer</em></a>
can tag model elements accordingly.</p>
</li>
<li>
<p>Property assertions are currently created by
<a href="./Non_Standard_Conversion_Rules.html#rule-xsd-cls-codelist-constraints2"><em>rule-xsd-cls-codelist-constraints2</em></a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-all-tagged-values"><a class="anchor" href="#rule-xsd-all-tagged-values"></a>1.3.7. rule-xsd-all-tagged-values</h4>
<div class="paragraph">
<p>Within an XSD &lt;annotation&gt;, &lt;appinfo&gt; elements may be used to pass
information to specific applications.  ShapeChange allows selected
tagged values to be mapped to &lt;appinfo&gt; elements of the corresponding
model element.</p>
</div>
<div class="paragraph">
<p>Tagged values to be mapped in this way can be specified in
the <em>representTaggedValues</em> parameter of the ShapeChange configuration
file&#8217;s <a href="../../get started/The_element_input.html">&lt;input&gt;
element</a> .</p>
</div>
<div class="paragraph">
<p>Example, where the "primaryCode" and "secondaryCode" tagged values were
listed under <em>representTaggedValues</em> in the configuration file for this
transformation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="tag">&lt;complexType</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">PAA010Type</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;annotation&gt;</span>
    <span class="tag">&lt;documentation&gt;</span>Mine: An excavation made in the earth for the purpose of extracting natural deposits.<span class="tag">&lt;/documentation&gt;</span>
    <span class="tag">&lt;appinfo&gt;</span>
      <span class="tag">&lt;sc:taggedValue</span> <span class="attribute-name">tag</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">primaryCode</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Mine<span class="tag">&lt;/sc:taggedValue&gt;</span>
      <span class="tag">&lt;sc:taggedValue</span> <span class="attribute-name">tag</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">secondaryCode</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>PAA010<span class="tag">&lt;/sc:taggedValue&gt;</span>
    <span class="tag">&lt;/appinfo&gt;</span>
  <span class="tag">&lt;/annotation&gt;</span>
  …
<span class="tag">&lt;/complexType&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-adeelement"><a class="anchor" href="#rule-xsd-cls-adeelement"></a>1.3.8. rule-xsd-cls-adeelement</h4>
<div class="paragraph">
<p>For classes with stereotype «ADEElement», this conversion rule creates
global CityGML property elements substitutable for the relevant
_GenericApplicationPropertyOfXXX element of the CityGML supertype.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-basictype"><a class="anchor" href="#rule-xsd-cls-basictype"></a>1.3.9. rule-xsd-cls-basictype</h4>
<div class="paragraph">
<p>Basic types may be restricted with facets. For example, the length of a
subtype of CharacterString may be restricted through the use of the
"length" tagged value, or the allowed range of numeric values may be
limited through the use of the tagged values "rangeMinimum" and
"rangeMaximum".</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-basictype-list"><a class="anchor" href="#rule-xsd-cls-basictype-list"></a>1.3.10. rule-xsd-cls-basictype-list</h4>
<div class="paragraph">
<p>(since v2.11.0)</p>
</div>
<div class="paragraph">
<p>A basic type that matches this conversion rule and has a single property
with maximum multiplicity greater than 1 will be converted as a
list-based simple type. The list item type is the XSD type of the UML
property value type. If the minimum multiplicity of the UML property is
0 and the maximum multiplicity is unbounded ('*'), then the length of
the resulting list is not restricted. Otherwise, length restrictions are
defined according to the multiplicity of the property.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>«basicType» TransformationMatrix2x2 has property list: Real [4]
{sequence}</p>
</div>
<div class="paragraph">
<p>It will be encoded as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="tag">&lt;simpleType</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">TransformationMatrix2x2Type</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;restriction&gt;</span>
    <span class="tag">&lt;simpleType&gt;</span>
      <span class="tag">&lt;list</span> <span class="attribute-name">itemType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">double</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/simpleType&gt;</span>
    <span class="tag">&lt;length</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">4</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/restriction&gt;</span>
<span class="tag">&lt;/simpleType&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The multiplicity order and uniqueness are ignored by the XmlSchema
target. For other encodings, they could be significant (e.g. uniqueness
in a JSON encoding).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-codelist-anonymous-xlink"><a class="anchor" href="#rule-xsd-cls-codelist-anonymous-xlink"></a>1.3.11. rule-xsd-cls-codelist-anonymous-xlink</h4>
<div class="paragraph">
<p>Properties of type codelist are represented in the GML schema as complex
type with xlink simple attributes group. This is especially useful to
encode such properties in GML 2.1 when codelist entries shall be
referenced (note that GML 2.1 does not define a gml:CodeType or
gml:ReferenceType).</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-codelist-constraints"><a class="anchor" href="#rule-xsd-cls-codelist-constraints"></a>1.3.12. rule-xsd-cls-codelist-constraints</h4>
<div class="paragraph">
<p>If Schematron output is active (rule-xsd-pkg-schematron), additional
constraints are added for code list values depending on several tagged
values.</p>
</div>
<div class="paragraph">
<p>More information can be found in
<a href="https://portal.opengeospatial.org/files/?artifact_id=46324">this OGC
document (OWS-8 CCI Schema Automation Engineering Report)</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-codelist-constraints2"><a class="anchor" href="#rule-xsd-cls-codelist-constraints2"></a>1.3.13. rule-xsd-cls-codelist-constraints2</h4>
<div class="paragraph">
<p>(since v2.6.0)</p>
</div>
<div class="paragraph">
<p>This rule is a revision of <em>rule-xsd-cls-codelist-constraints</em> that
makes use of XPath 2.0 in the xslt2 query binding for Schematron (which
has been standardized with ISO 19757-3:2016).</p>
</div>
<div class="paragraph">
<p>If schematron generation is enabled (via rule-xsd-pkg-schematron), then
schematron assertions are created for code list typed properties.
Assertions are generated based on a reference to the authoritative
resource that represents the code list, and/or a specification of the
code list representation. This information, together with the encoding
rule that applies to the code list, controls which schematron assertions
are generated.</p>
</div>
<div class="paragraph">
<p>The reference to the authoritative resource representing the code list
is given via tagged value <em>codeList</em> on the code list.</p>
</div>
<div class="paragraph">
<p>The representation of a code list is specified via tagged value
<em>codeListRepresentation</em> on the code list. The configuration parameter
<em>defaultCodeListRepresentation</em> can be used to provide a global default
in case that, for a given code list, the tagged value
<em>codeListRepresentation</em> is undefined or does not have a value. This
rule currently supports code list representations with the following
identifiers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>application/gml+xml;version=3.2 – A GML 3.2 dictionary
(gml:Dictionary).</p>
</li>
<li>
<p>application/x.iso19139+xml – An ISO 19139:2007 dictionary
(gmx:CodeListDictionary or gmx:ML_CodeListDictionary).</p>
<div class="ulist">
<ul>
<li>
<p>NOTE: application/x.iso19139+xml is a preliminary identifier. It uses
the <a href="https://datatracker.ietf.org/doc/html/rfc6838#section-3.4">unregistered x.
Tree</a> as defined by IETF RFC 6838 - Media Type Specifications and
Registration Procedures.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the code list is encoded according to ISO 19139:2007, then a
property type will be available for the code list. Therefore:</p>
<div class="ulist">
<ul>
<li>
<p>The type of the XML element that represents the code list typed
property will be the property type of the code list. It has two XML
attributes:</p>
<div class="ulist">
<ul>
<li>
<p>@codeList – A URL that references the code list definition resource.
The URL may contain a fragment identifier in case that the definition is
only a part of the resource (e.g. an XML file that encodes a catalog or
dictionary of multiple code lists).</p>
</li>
<li>
<p>@codeListValue – The identifier of the code list value definition.</p>
</li>
<li>
<p>Example: &lt;ex1:attribute&gt;&lt;ex2:CodeListIso19139
codeList="http://example.org/CodeListIso19139.xml"
codeListValue="code1"/&gt;Code 1&lt;/ex1:attribute&gt;</p>
</li>
</ul>
</div>
</li>
<li>
<p>If tagged value <em>codeList</em> is defined, an assertion is created to
check that the value of @codeList is equal to <em>codeList</em>.</p>
</li>
<li>
<p>If the code list representation is undefined, or is equal to one of
the supported identifiers, an assertion is created that checks that the
resource referenced by @codeList exists. The referenced resource must be
available (as defined by the XPath 2.0 function
<a href="https://www.w3.org/TR/2010/REC-xpath-functions-20101214/#func-doc-available">doc-available</a>)
and, if @codeList contains a fragment identifier, an element must be
available in the resource, having XML attribute gml:id equal to the
fragment identifier.</p>
</li>
<li>
<p>If the code list representation is undefined or equal to
application/gml+xml;version=3.2, two assertions are created:</p>
<div class="ulist">
<ul>
<li>
<p>to ensure that @codeList references a GML 3.2 dictionary, and</p>
</li>
<li>
<p>to ensure that the code list value given by @codeListValue exists,
i.e. is contained in the dictionary.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the code list representation is equal to
application/x.iso19139+xml, two assertions are created:</p>
<div class="ulist">
<ul>
<li>
<p>to ensure that @codeList references an ISO 19139:2007 code list
dictionary, and</p>
</li>
<li>
<p>to ensure that the code list value given by @codeListValue exists,
i.e. is contained in the dictionary.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Otherwise, if the code list valued property is encoded according to
ISO 19136:2007, Annex E, then:</p>
<div class="ulist">
<ul>
<li>
<p>The XML element that represents the code list typed property has type
gml:CodeType. The element value therefore contains the code value, while
the optional @codeSpace contains the URI to the dictionary. This is
quite similar to the ISO 19139 based encoding. However, the optional
@codeSpace requires specific checks.</p>
<div class="ulist">
<ul>
<li>
<p>Example: &lt;ex:attribute
codeSpace="http://example.org/CodeListIso19139.xml"&gt;code1&lt;/ex:attribute&gt;</p>
</li>
</ul>
</div>
</li>
<li>
<p>If tagged value <em>codeList</em> is defined:</p>
<div class="ulist">
<ul>
<li>
<p>An assertion is created to check that @codeSpace, if set on the
property element, is equal to <em>codeList</em>.</p>
</li>
<li>
<p>If the code list representation is undefined, or is equal to one of
the supported identifiers, an assertion is created that checks that the
resource referenced by @codeSpace – or, if the code space is undefined,
<em>codeList</em> - exists. The referenced resource must be available (as
defined by the XPath 2.0 function
<a href="https://www.w3.org/TR/2010/REC-xpath-functions-20101214/#func-doc-available">doc-available</a>)
and, if the reference contains a fragment identifier, an element must be
available in the resource, having XML attribute gml:id equal to the
fragment identifier.</p>
</li>
<li>
<p>If the code list representation is undefined or equal to
application/gml+xml;version=3.2, two assertions are created:</p>
<div class="ulist">
<ul>
<li>
<p>to ensure that the code list is really represented by a GML 3.2
dictionary, and</p>
</li>
<li>
<p>to ensure that the code list value exists, i.e. is contained in the
dictionary.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the code list representation is equal to
application/x.iso19139+xml, two assertions are created:</p>
<div class="ulist">
<ul>
<li>
<p>to ensure that the code list is really represented by an ISO
19139:2007 code list dictionary, and</p>
</li>
<li>
<p>to ensure that the code list value exists, i.e. is contained in the
dictionary</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Otherwise, if the property is encoded according to ISO 19136-2:2015
(aka GML 3.3), 12.2, then:</p>
<div class="ulist">
<ul>
<li>
<p>The XML element that represents the code list typed property has type
gml:ReferenceType. @xlink:href contains the URI for the dictionary item,
i.e. the XML element that represents the code value. If the URI does not
contain a fragment identifier (indicated by '#'), the referenced
resource only represents the dictionary item. Otherwise, the referenced
resource contains the dictionary item but the item must be looked up by
its gml:id.</p>
<div class="ulist">
<ul>
<li>
<p>Example: &lt;ex:attribute
xlink:href="http://example.org/CodeListIso19139.xml#code1"
xlink:title="code1"/&gt;</p>
</li>
</ul>
</div>
</li>
<li>
<p>If tagged value <em>codeList</em> is defined, an assertion is created to
check that the URI given by @xlink:href starts with the value of
<em>codeList</em>.</p>
</li>
<li>
<p>If the code list representation is undefined, or is equal to one of
the supported identifiers, an assertion is created that checks that the
referenced code list value exists. The referenced resource must be
available (as defined by the XPath 2.0 function
<a href="https://www.w3.org/TR/2010/REC-xpath-functions-20101214/#func-doc-available">doc-available</a>)
and, if @xlink:href contains a fragment identifier, an element must be
available in the resource, having XML attribute gml:id equal to the
fragment identifier.</p>
</li>
<li>
<p>If the code list representation is undefined or equal to
application/gml+xml;version=3.2, an assertion is created to ensure that
the code value is represented by a GML 3.2 Definition element.</p>
</li>
<li>
<p>If the code list representation is equal to
application/x.iso19139+xml, an assertion is created to ensure that the
code value is represented by an ISO 19139:2007 CodeDefinition (or
ML_CodeDefinition) element.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Tagged value <em>codeListValuePattern</em> is ignored by this rule.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-codelist-constraints-codeAbsenceInModelAllowed"><a class="anchor" href="#rule-xsd-cls-codelist-constraints-codeAbsenceInModelAllowed"></a>1.3.14. rule-xsd-cls-codelist-constraints-codeAbsenceInModelAllowed</h4>
<div class="paragraph">
<p>Some communities have the case where a code list does not contain any
code value, but still OCL constraints exist in the application schema
that refer to such code values. Usually, ShapeChange reports an error if
such a situation occurs, and does not create the OCL expression.
However, if this rule is enabled, code list values are not required to
be present in the model.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-codelist-gmlsf"><a class="anchor" href="#rule-xsd-cls-codelist-gmlsf"></a>1.3.15. rule-xsd-cls-codelist-gmlsf</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Encodes a property with codelist value type as specified by the
<a href="https://portal.opengeospatial.org/files/?artifact_id=42729">GML simple
features profile (OGC document number 10-100r3)</a>, section 8.4.4.14.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule has originally been developed during OGC Testbed 13, to
derive an XML Schema that is compliant to GML-SF level 0. For further
details, see the OGC
<a href="https://docs.ogc.org/per/17-020r1.html">NAS Profiling
Engineering Report</a> (OGC document number 17-020r1).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-enum-subtypes"><a class="anchor" href="#rule-xsd-cls-enum-subtypes"></a>1.3.16. rule-xsd-cls-enum-subtypes</h4>
<div class="paragraph">
<p>This conversion rules includes also enumerants from subtypes in the
enumeration type in XML Schema.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This conversion rule is probably no longer in use and may be
deleted.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-enum-supertypes"><a class="anchor" href="#rule-xsd-cls-enum-supertypes"></a>1.3.17. rule-xsd-cls-enum-supertypes</h4>
<div class="paragraph">
<p>This conversion rules includes also enumerants from supertypes in the
enumeration type in XML Schema.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This conversion rule is probably no longer in use and may be
deleted.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-local-basictype"><a class="anchor" href="#rule-xsd-cls-local-basictype"></a>1.3.18. rule-xsd-cls-local-basictype</h4>
<div class="paragraph">
<p>Modifies the behavior of rule-xsd-cls-basictype as follows: According to rule-xsd-cls-basictype, classes identified as basic types are converted to a <strong>named</strong> simpleType (for global scope). If rule-xsd-cls-local-basictype is part of an encoding rule in addition to rule-xsd-cls-basictype, these types are converted to an <strong>anonymous</strong> simpleType for local scope.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-local-enumeration"><a class="anchor" href="#rule-xsd-cls-local-enumeration"></a>1.3.19. rule-xsd-cls-local-enumeration</h4>
<div class="paragraph">
<p>«enumeration» and «codeList» classes are by-default converted to
a <strong>named</strong> simpleType (for global scope). If this conversion rule is part
of an encoding rule, these types are converted to
an <strong>anonymous</strong> simpleType for local scope.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-mixin-classes"><a class="anchor" href="#rule-xsd-cls-mixin-classes"></a>1.3.20. rule-xsd-cls-mixin-classes</h4>
<div class="paragraph">
<p>Due to the fact that several implementation platforms including XML
Schema support only <strong>single inheritance</strong> (type derivation from a single
base type, element substitutablity in XML Schema is restricted to a
single element, too), the use of multiple inheritance is currently not
supported by GML 3.2 Annex E.</p>
</div>
<div class="paragraph">
<p>However, for conceptual modelling, the ability to define abstract types
which capture a <strong>set</strong> of properties that are associated with a concept
is sometimes very convenient.</p>
</div>
<div class="paragraph">
<p><a href="./Support_for_Mixin_Classes.html">More
information&#8230;&#8203;</a></p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-mixin-classes-as-group"><a class="anchor" href="#rule-xsd-cls-mixin-classes-as-group"></a>1.3.21. rule-xsd-cls-mixin-classes-as-group</h4>
<div class="paragraph">
<p>Extension to rule-xsd-cls-mixin-classes that converts mixin classes to
groups and references the group from the suptypes.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-mixin-classes-non-mixin-supertypes"><a class="anchor" href="#rule-xsd-cls-mixin-classes-non-mixin-supertypes"></a>1.3.22. rule-xsd-cls-mixin-classes-non-mixin-supertypes</h4>
<div class="paragraph">
<p>Extension to rule-xsd-cls-mixin-classes that allows that supertypes of a
mixin type is not a mixin type. Note that this has limitations in that
the non-mixin supertype property type will not support taking subtypes
of the mixin type as a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-no-abstract-classes"><a class="anchor" href="#rule-xsd-cls-no-abstract-classes"></a>1.3.23. rule-xsd-cls-no-abstract-classes</h4>
<div class="paragraph">
<p>Do not convert abstract classes to object elements and do not process
their properties; create a property type with references to subtypes
with object elements</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-no-base-class"><a class="anchor" href="#rule-xsd-cls-no-base-class"></a>1.3.24. rule-xsd-cls-no-base-class</h4>
<div class="paragraph">
<p>Ignore base classes in the conversion process</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-no-gml-types"><a class="anchor" href="#rule-xsd-cls-no-gml-types"></a>1.3.25. rule-xsd-cls-no-gml-types</h4>
<div class="paragraph">
<p>This conversion rule suppresses the use of the base types of GML
(gml:AbstractObject, gml:AbstractGMLObject, gml:AbstractFeature, but
also gml:AssociationGroup) either on a general or local scope.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-okstra-fid"><a class="anchor" href="#rule-xsd-cls-okstra-fid"></a>1.3.26. rule-xsd-cls-okstra-fid</h4>
<div class="paragraph">
<p>Supports OKSTRA «FachID» classes</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-okstra-lifecycle"><a class="anchor" href="#rule-xsd-cls-okstra-lifecycle"></a>1.3.27. rule-xsd-cls-okstra-lifecycle</h4>
<div class="paragraph">
<p>Supports OKSTRA historisches_Objekt</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-okstra-schluesseltabelle"><a class="anchor" href="#rule-xsd-cls-okstra-schluesseltabelle"></a>1.3.28. rule-xsd-cls-okstra-schluesseltabelle</h4>
<div class="paragraph">
<p>Do not convert OKSTRA «Schluesseltabelle» classes to object elements
and do not process their properties; create a OKSTRA-specific property
type</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-standard-19139-isoType"><a class="anchor" href="#rule-xsd-cls-standard-19139-isoType"></a>1.3.29. rule-xsd-cls-standard-19139-isoType</h4>
<div class="paragraph">
<p>(since v2.6.0)</p>
</div>
<div class="paragraph">
<p>If the direct supertype of a class is mapped to one of the ISO 19139
namespaces (<a href="https://www.isotc211.org/2005/gco/" class="bare">https://www.isotc211.org/2005/gco/</a>, -gmd, -gmx, -gsr, -gss,
-gts), then a gco:isoType attribute is added to the element that
represents the class. The value of that attribute is the local name of
the element to which the supertype is mapped.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule is relevant for encoding a metadata profile as defined
by ISO 19139. The rule is included in the named encoding rule
'metadata-profile', which is part of the StandardRules.xml.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-suppress"><a class="anchor" href="#rule-xsd-cls-suppress"></a>1.3.30. rule-xsd-cls-suppress</h4>
<div class="paragraph">
<p>This conversion rule suppresses object elements, local properties and
property types, if the class has a tagged value 'suppress' with the
value 'true' or a stereotype «ADEElement». However, if Schematron
output is active, any constraints on the class will still be included in
the Schematron schema.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-union-asCharacterString"><a class="anchor" href="#rule-xsd-cls-union-asCharacterString"></a>1.3.31. rule-xsd-cls-union-asCharacterString</h4>
<div class="paragraph">
<p>Do not convert union with a tagged value 'gmlAsCharacterString' set to
'true' in the usual way, but convert it as if it would be a
CharacterString.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-union-asGroup"><a class="anchor" href="#rule-xsd-cls-union-asGroup"></a>1.3.32. rule-xsd-cls-union-asGroup</h4>
<div class="paragraph">
<p>If a «Union» class has a tagged value "gmlAsGroup" with a value of
"true", then the class is encoded as a <strong>global</strong> group which is
referenced wherever a property is defined that has the union class as
its value. (Note that this is only valid if it is clear from the context
how to map the individual values to the conceptual model.)</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-union-direct"><a class="anchor" href="#rule-xsd-cls-union-direct"></a>1.3.33. rule-xsd-cls-union-direct</h4>
<div class="paragraph">
<p>A union with two properties and where one property has a tagged value
'gmlImplementedByNilReason' set to 'true' is converted as follows under
this conversion rule:</p>
</div>
<div class="paragraph">
<p>A property that has the union type as its value receives the value type
of the property in the union that is not implemented by nil reason as
its type.</p>
</div>
<div class="paragraph">
<p>The property element is made nillable and receives a nilReason
attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets"><a class="anchor" href="#rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets"></a>1.3.34. rule-xsd-cls-union-omitUnionsRepresentingFeatureTypeSets</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>A union with tagged value <em>representsFeatureTypeSet</em> = true is not
encoded. Properties with such a union as type are encoded as elements
with type gml:ReferenceType. If
<a href="./GML_3.2_Encoding_Rule.html#rule-xsd-prop-targetElement"><em>rule-xsd-prop-targetElement</em></a>
is enabled, an annotation is added with one gml:targetElement appinfo
element for each feature type represented by the union.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule has originally been developed during OGC Testbed 13, to
derive an XML Schema that is compliant to GML-SF level 0. For further
details, see the OGC
<a href="https://docs.ogc.org/per/17-020r1.html">NAS Profiling
Engineering Report</a> (OGC document number 17-020r1).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-pkg-dgiwgsp"><a class="anchor" href="#rule-xsd-pkg-dgiwgsp"></a>1.3.35. rule-xsd-pkg-dgiwgsp</h4>
<div class="paragraph">
<p>This conversion rule adds information to the XML Schema to indicate the
DGIWG Spatial Profile (DGIWGSP) compliance level.</p>
</div>
<div class="paragraph">
<p>The following tagged values must be set for an application schema that
is converted to XML Schema, if the DGIWGSP information is to be
included:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tagged Value Name</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>dgiwgComplianceLevel</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to DGIWGSP specification one of:
L1_2D, L2_2D, L3_2D, L4_2D, L5_2D, L6_2D, L1_3D, L2_3D, L3_3D, L4_3D,
L5_3D, L6_3D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>dgiwgGMLProfileSchema</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http://schemas.dgiwg.org/gml/3.2/spatial/1.0/{X}, with {X} being one
of: 2dGeometry.xsd,  3dGeometry.xsd,  2dComplex.xsd,  3dComplex.xsd,
2dTopology.xsd, 3dTopology.xsd</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The resulting import and annotation in the XSD can look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>  <span class="tag">&lt;annotation&gt;</span>
    <span class="tag">&lt;appinfo</span> <span class="attribute-name">source</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;ComplianceLevel</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.dgiwg.org/gml/3.2/profiles/spatial/1.0/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>L1_3D<span class="tag">&lt;/ComplianceLevel&gt;</span>
      <span class="tag">&lt;GMLProfileSchema</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.dgiwg.org/gml/3.2/profiles/spatial/1.0/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>http://schemas.dgiwg.org/gml/3.2/spatial/1.0/3dGeometry.xsd<span class="tag">&lt;/GMLProfileSchema&gt;</span>
    <span class="tag">&lt;/appinfo&gt;</span>
  <span class="tag">&lt;/annotation&gt;</span>
  <span class="tag">&lt;import</span> <span class="attribute-name">namespace</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.dgiwg.org/gml/3.2/profiles/spatial/1.0/</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Currently the import only contains the namespace because there is
no XML Schema at the schema location required by the DGIWG Spatial
Profile specification. That is also why the source attribute on the
annotation is empty. This behavior can be changed by setting the schema
location at the according entry in the standard XML namespaces.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-pkg-gmlsf"><a class="anchor" href="#rule-xsd-pkg-gmlsf"></a>1.3.36. rule-xsd-pkg-gmlsf</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Creates a schema annotation to indicate the GML-SF compliance level as
defined by the
<a href="https://portal.opengeospatial.org/files/?artifact_id=42729">GML simple
features profile (OGC document number 10-100r3)</a>, section 7.4. The
compliance level is read from tagged value <em>gmlsfComplianceLevel</em> on the
application schema. Furthermore, the rule creates an import for the
gmlsfLevels.xsd, as defined by GML-SF section 8.3.2.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule has originally been developed during OGC Testbed 13, to
derive an XML Schema that is compliant to GML-SF level 0. For further
details, see the OGC
<a href="https://docs.ogc.org/per/17-020r1.html">NAS Profiling
Engineering Report</a> (OGC document number 17-020r1).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-pkg-schematron"><a class="anchor" href="#rule-xsd-pkg-schematron"></a>1.3.37. rule-xsd-pkg-schematron</h4>
<div class="paragraph">
<p>An application schema may contain OCL (Object Constraint Language)
constraints related to the feature type or its attributes.  On the XML
level, <a href="https://standards.iso.org/ittf/PubliclyAvailableStandards/c040833_ISO_IEC_19757-3_2006(E).zip">Schematron
(ISO/IEC 19757-3:2006)</a> is used in most cases to express constraints.
Schematron is already used by GML to express constraints that cannot be
represented in XML Schema, and is currently considered the most
appropriate language to express constraints on the XML level. Tools
exist to process Schematron constraints and assert the compliance of an
instance document with the specified constraints,
e.g. <a href="https://github.com/Schematron/schematron">here</a>.</p>
</div>
<div class="paragraph">
<p>ShapeChange includes a OCL 2.2 parser and Schematron code-generator,
allowing for a fairly complete range of OCL expressions. The supported
expressions are
documented <a href="./OCL_Conversion_to_Schematron_xslt2_query_binding.html">here</a>.</p>
</div>
<div class="paragraph">
<p>The Schematron schema for an application schema is written in the same
output directory as the XML Schema Document and with the same name,
except that the file name ends in "_SchematronSchema.xml" instead of
".xsd".</p>
</div>
<div class="paragraph">
<p>The conversion rule uses four additional target parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter Name</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schematronExtension.matches.namespace</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;none&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace
specification for XPath 2.0 extensions to Schematron to support the
"matches" function;
see <a href="./OCL_Conversion_to_Schematron_xslt2_query_binding.html">here</a> for
details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schematronExtension.matches.function</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;none&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function/pattern
specification for XPath 2.0 extensions to Schematron to support the
"matches" function;
see <a href="./OCL_Conversion_to_Schematron_xslt2_query_binding.html">here</a> for
details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schematronXlinkHrefPrefix</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">#</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix of a Schematron "xlink:href"
reference.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schematronXlinkHrefPostfix</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;blank&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Postfix of a Schematron
"xlink:href" reference.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-att-map-entry"><a class="anchor" href="#rule-xsd-prop-att-map-entry"></a>1.3.38. rule-xsd-prop-att-map-entry</h4>
<div class="paragraph">
<p>This conversion rule supports XsdMapEntry elements with
attribute/attributeGroup mappings. This allows to reuse global attribute
and attributeGroup schema components from existing XML grammars, e.g.
IC-ISM.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-constrainingFacets"><a class="anchor" href="#rule-xsd-prop-constrainingFacets"></a>1.3.39. rule-xsd-prop-constrainingFacets</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Generate constraining facets based on tagged values <em>length</em>,
<em>maxLength</em>, <em>size</em>, <em>pattern</em>, <em>rangeMaximum</em>, and <em>rangeMinimum</em> of a
property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The value of tag length, maxLength, or size (in descending order of
priority) is used to populate facets <em>totalDigits</em> and <em>maxLength</em>.</p>
</li>
<li>
<p>Facet pattern is read from the according tagged value.</p>
</li>
<li>
<p>Facet maxInclusive is read from tagged value rangeMaximum.</p>
</li>
<li>
<p>Facet minInclusive is read from tagged value rangeMinimum.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A facet is only created if the (base) type of the property
supports it.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-exclude-derived"><a class="anchor" href="#rule-xsd-prop-exclude-derived"></a>1.3.40. rule-xsd-prop-exclude-derived</h4>
<div class="paragraph">
<p>By default, derived properties are included during the conversion. They
can be suppressed using this conversion rule.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-gmlArrayProperty"><a class="anchor" href="#rule-xsd-prop-gmlArrayProperty"></a>1.3.41. rule-xsd-prop-gmlArrayProperty</h4>
<div class="paragraph">
<p>For properties with a tagged value 'gmlArrayProperty' set to 'true' and
with complex content that is always inline, i.e. the property has the
tagged value 'inlineOrByReference' set to 'inline', an array property is
created instead of using the standard GML property types.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p>An attribute "geometry : GM_Point [0..3]" is converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">geometry</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;complexType&gt;</span>
  <span class="tag">&lt;sequence</span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;element</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">gml:Point</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/sequence&gt;</span>
 <span class="tag">&lt;/complexType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>An attribute "«voidable» event : Event [1..*]" is converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">event</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">nillable</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;complexType&gt;</span>
  <span class="tag">&lt;sequence</span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unbounded</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;element</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">app:Event</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/sequence&gt;</span>
  <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nilReason</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">gml:NilReasonType</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/complexType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>A navigable association role "role : Feature [1..*]" is converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">role</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;complexType&gt;</span>
  <span class="tag">&lt;sequence</span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unbounded</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;element</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">app:Feature</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/sequence&gt;</span>
  <span class="tag">&lt;attributeGroup</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">gml:OwnershipAttributeGroup</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/complexType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that no OwnershipAttributeGroup is added for attributes as
attributes are equivalent to compositions.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-gmlListProperty"><a class="anchor" href="#rule-xsd-prop-gmlListProperty"></a>1.3.42. rule-xsd-prop-gmlListProperty</h4>
<div class="paragraph">
<p>For properties with a tagged value 'gmlListProperty' set to 'true' and
with a simple type as value, maxOccurs is suppressed and a list type is
created.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p>An attribute "string : CharacterString [1..*]" is converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;simpleType&gt;</span>
  <span class="tag">&lt;list</span> <span class="attribute-name">itemType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/simpleType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>An attribute "integer : Integer [0..3]" is converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;simpleType&gt;</span>
  <span class="tag">&lt;list</span> <span class="attribute-name">itemType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/simpleType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>If this property is also marked for conversion to an attribute
('xsdAsAttribut' set to 'true' and rule 'rule-xsd-prop-xsdAsAttribute'
is active), the result is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;simpleType&gt;</span>
  <span class="tag">&lt;list</span> <span class="attribute-name">itemType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/simpleType&gt;</span>
<span class="tag">&lt;/attribute&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-featureType-gmlsf-byReference"><a class="anchor" href="#rule-xsd-prop-featureType-gmlsf-byReference"></a>1.3.43. rule-xsd-prop-featureType-gmlsf-byReference</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Applies simple byReference encoding of properties with a feature type as
value type. In other words, such properties are encoded as elements with
type gml:ReferenceType.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule has originally been developed during OGC Testbed 13, to
derive an XML Schema that is compliant to GML-SF level 0. For further
details, see the OGC
<a href="https://docs.ogc.org/per/17-020r1.html">NAS Profiling
Engineering Report</a> (OGC document number 17-020r1).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-initialValue"><a class="anchor" href="#rule-xsd-prop-initialValue"></a>1.3.44. rule-xsd-prop-initialValue</h4>
<div class="paragraph">
<p>If an attribute has an initial value, it is converted to a default value
in XML Schema. If the attribute carries the constraint "{frozen}", too,
the initial value is converted to a fixed element value in XML Schema.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-length-size-pattern"><a class="anchor" href="#rule-xsd-prop-length-size-pattern"></a>1.3.45. rule-xsd-prop-length-size-pattern</h4>
<div class="paragraph">
<p>CharacterString valued properties that carry the tagged values 'length',
'size' or 'pattern' are converted to anonymous types with restricting
facets according to the tagged values.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-metadata"><a class="anchor" href="#rule-xsd-prop-metadata"></a>1.3.46. rule-xsd-prop-metadata</h4>
<div class="paragraph">
<p>(since v2.9.0)</p>
</div>
<div class="paragraph">
<p>If a property has stereotype «propertyMetadata», then the XML element
that represents this property will have an additional, optional XML
attribute "metadata" of type xs:anyURI. The XML attribute can be used to
reference a metadata object that applies to the property value.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Full background on the property stereotype «propertyMetadata» is
provided in the document <a href="../../media/UGAS19-D100_property_stereotypes.pdf">Property Stereotypes for Metadata</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-metadata-gmlsf-byReference"><a class="anchor" href="#rule-xsd-prop-metadata-gmlsf-byReference"></a>1.3.47. rule-xsd-prop-metadata-gmlsf-byReference</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>Applies simple byReference encoding of properties with metadata as value
type (determined by tagged value <em>isMetadata</em> on the property, and map
entries in the ShapeChange configuration). In other words, such
properties are encoded as elements with type gml:ReferenceType.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule has originally been developed during OGC Testbed 13, to
derive an XML Schema that is compliant to GML-SF level 0. For further
details, see the OGC
<a href="https://docs.ogc.org/per/17-020r1.html">NAS Profiling
Engineering Report</a> (OGC document number 17-020r1).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-nillable"><a class="anchor" href="#rule-xsd-prop-nillable"></a>1.3.48. rule-xsd-prop-nillable</h4>
<div class="paragraph">
<p>Converts properties with stereotype «voidable» - or alternatively with
a tagged value nillable set to 'true' - to property elements that are
nillable.</p>
</div>
<div class="paragraph">
<p>In GML this implies that xsi:nil is set to 'true' and a nilReason
attribute is added to the content model of the property element.</p>
</div>
<div class="paragraph">
<p>In ISO/TS 19139, the property element may have no element content and
the content model has a gco:nilReason attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-nilReasonAllowed"><a class="anchor" href="#rule-xsd-prop-nilReasonAllowed"></a>1.3.49. rule-xsd-prop-nilReasonAllowed</h4>
<div class="paragraph">
<p>Extension: nillable, nilReasonAllowed and implementedByNilReason</p>
</div>
<div class="paragraph">
<p><em>If an attribute has a tagged value "nillable" with value "true", the
property element will be defined with its nillable attribute set to
"true".</em></p>
</div>
<div class="paragraph">
<p><em>If a type has a tagged value "nilReasonAllowed" with value "true", all
property types for this property will be defined with an
optional nilReason attribute.</em></p>
</div>
<div class="paragraph">
<p><em>If a property of the conceptual model is implemented by the nilReason
concept of GML, the tagged value "gmlImplementedByNilReason" is set.</em></p>
</div>
<div class="paragraph">
<p>Note that there is considerable overlap with rule-xsd-prop-nillable.
This should be cleaned up in a future version.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-nilReason-constraints"><a class="anchor" href="#rule-xsd-prop-nilReason-constraints"></a>1.3.50. rule-xsd-prop-nilReason-constraints</h4>
<div class="paragraph">
<p>(since v2.9.0)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This rule only applies if schematron generation is enabled (via
<a href="./Non_Standard_Conversion_Rules.html#rule-xsd-pkg-schematron">rule-xsd-pkg-schematron</a>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This rule applies to a property that 1) is nillable (as defined by
<a href="./Non_Standard_Conversion_Rules.html#rule-xsd-prop-nillable">rule-xsd-prop-nillable</a>)
and 2) has a defined void reason type, either via tagged value
<em>voidReasonType</em> on the property itself, or globally via the target
parameter
<a href="./XML_Schema.html#defaultVoidReasonType"><em>defaultVoidReasonType</em></a>.</p>
</div>
<div class="paragraph">
<p>The void reason type is an enumeration, with each enum identifying an
allowed nil reason. The enumeration is identified by its name: the
simple classifier name, if the enumeration belongs to the schema that is
being processed by the XmlSchema target, or the full package-qualified
name, starting with the package of the schema to which the enumeration
belongs (e.g. "Some Application Schema::Some Subpackage::Another
Subpackage::VoidReason").</p>
</div>
<div class="paragraph">
<p>If the conditions are met (property is nillable and has a defined void
reason type), then a Schematron assertion is generated to ensure the
following: If an XML element representing the property has a nilReason
XML attribute, then the value of that attribute must be equal to the
name of one of the enums defined by the void reason type. In other
words, the Schematron assertion checks that only the reasons defined by
the void reason type are used within the nilReason XML attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-qualified-associations"><a class="anchor" href="#rule-xsd-prop-qualified-associations"></a>1.3.51. rule-xsd-prop-qualified-associations</h4>
<div class="paragraph">
<p>For associations with qualifiers, the qualifiers are converted to XML
attributes of the reverse property element. The multiplicity is set to
minOccurs="0" and maxOccurs="unbounded". Qualifiers with types that map
to simple types use the type directly. Qualifiers with types that map to
types with identity use xs:anyUri. In all other cases xs:string will be
used as a fallback.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p>An association role "role1" (multiplicity "1", by-reference encoding)
with a single qualifier "q : Integer" in the reverse role is converted
to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unbounded</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">role1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
 <span class="tag">&lt;complexType&gt;</span>
  <span class="tag">&lt;simpleContent&gt;</span>
   <span class="tag">&lt;extension</span> <span class="attribute-name">base</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">gml:ReferenceType</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">q</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">integer</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;/extension&gt;</span>
  <span class="tag">&lt;/simpleContent&gt;</span>
 <span class="tag">&lt;/complexType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>An association role "role2" (multiplicity "0..1", inline encoding) with
the qualifiers "q1 : CharacterString; q2: SomeObject" in the reverse
role is converted to (Parcel is a feature type):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="tag">&lt;element</span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unbounded</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">role2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;complexType&gt;</span>
   <span class="tag">&lt;sequence&gt;</span>
    <span class="tag">&lt;element</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">app:SomeFeature</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;/sequence&gt;</span>
   <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">q1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
   <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">q2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">anyUri</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;complexType&gt;</span>
<span class="tag">&lt;/element&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-targetCodeListURI"><a class="anchor" href="#rule-xsd-prop-targetCodeListURI"></a>1.3.52. rule-xsd-prop-targetCodeListURI</h4>
<div class="paragraph">
<p>(since v2.4.0)</p>
</div>
<div class="paragraph">
<p>For a property with a code list as value type, and the code list has
non-empty tagged value <em>codeList</em> (or <em>vocabulary</em>), add an
sc:targetCodeListURI appinfo element with the value of the according
tag.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-valueOrNilReason-constraints"><a class="anchor" href="#rule-xsd-prop-valueOrNilReason-constraints"></a>1.3.53. rule-xsd-prop-valueOrNilReason-constraints</h4>
<div class="paragraph">
<p>(since v2.9.0)</p>
</div>
<div class="paragraph">
<p>If schematron generation is enabled (via
<a href="./Non_Standard_Conversion_Rules.html#rule-xsd-pkg-schematron">rule-xsd-pkg-schematron</a>),
then schematron assertions are created to ensure that if an XML instance
contains elements representing a nillable property (as defined by
<a href="./Non_Standard_Conversion_Rules.html#rule-xsd-prop-nillable">rule-xsd-prop-nillable</a>),
then either there is only a single such element that is nil (XML
attribute xsi:nil is true), has a nilReason XML attribute, and no value
- or all of these elements are not nil, do not have nilReason
attributes, and have values.</p>
</div>
</div>
<div class="sect3">
<h4 id="rule-xsd-prop-xsdAsAttribute"><a class="anchor" href="#rule-xsd-prop-xsdAsAttribute"></a>1.3.54. rule-xsd-prop-xsdAsAttribute</h4>
<div class="paragraph">
<p>If the tagged value 'xsdAsAttribute' is set to 'true' on a property, the
property has a maximum multiplicity of 1 and the value of the property
is simple, the property is converted to an XML attribute instead of an
XML element.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>